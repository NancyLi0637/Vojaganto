(this["webpackJsonpvojaganto-app"]=this["webpackJsonpvojaganto-app"]||[]).push([[0],Array(26).concat([function(e,t,a){e.exports=a.p+"static/media/pic1.02162668.jpg"},function(e,t,a){e.exports=a.p+"static/media/pic3.0a95b596.jpg"},,function(e,t,a){e.exports=a.p+"static/media/66385278_p8.bb99174b.jpg"},,,,,,,function(e,t,a){e.exports=a.p+"static/media/pic2.2cadae3a.jpeg"},function(e,t,a){e.exports=a.p+"static/media/pic5.db067431.jpg"},function(e,t,a){e.exports=a.p+"static/media/pic6.fece990a.jpg"},,,,function(e,t,a){e.exports=a.p+"static/media/pic4.1a7ad228.jpg"},function(e,t,a){e.exports=a.p+"static/media/pic8.5756a67a.jpg"},,,function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAABCUlEQVRIie2UvUoDURSE56RJZaOg4CadWqS2zBMIVvoq+iJ5irBYGUWsLW1Mq53EyoCmVPCzcJRFsz/ITbcDh4W5c2Z277l7pRYpAPSAHFi4zoDdlOZz/mIOZCkCchueA5lrYm6cImBhs6zA9c291PV3mmT4Gf99yWr3r4Hibem5LszlKQL2gOeSIe8k+AbJgx0Dr648mXmL0qMHdCTtSzqQNJS0Lanv5UdJT5JuJF1Kuo2Ij0aJQBc4BWZLTk4ZZsAJ0K0z3wKmhcYHYAQcAgNgzTUwN7LmG3fAZlXAtYX3wBFQ+/cCARy7B+CqSvxu0Xqd8ZLeDfe+Ffn4JUIJEBE/vk0uuxarxSe6SXpYzUyecQAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAA7klEQVRIie3TMS5EURTG8blippFoJNQKumlYARVbmE1IptHagj1Yg4p2FGxAQUWiJDRT8NOcxM2Lca/nTSF8yW3O/b7/yXnv3F7vTwljjOcBTjjyoWMsdAUf4CTA0ziiNvgpfAmnAXzGHnbwGLVzLLeFr+AiQA/Yyu6GuIu7K6x9F76O6wDcYKPgucVmLXyI+wheYrUw5SSbcrsE38VTBM5qvm/jP71gf5ZxlG0I9EvwLNvPclOMmoYDvGYmtfCMkesNh18a2zZo1hdrw5/VU0qplO3muXfVIIXm1qCNfn+DmVtUs6o1nrlP8K+i3gEPe1OF6G2zpAAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABmJLR0QA/wD/AP+gvaeTAAABlklEQVRoge2ZMUsDMRiG3xOhaBUUHAQX1xZB/BlOBcFJkE5dBBf/jKO/wM1NnRVE3Dq4KP4Ei4PL49Ag6eGl1zsSvyEPlJD7muR92vQOGilji2LeG4COpJGkE0l7krqxQ4UoiuLPzMuhQcCOpBtJ+zFCJQHoAC9MGQMDYD3iegA0rYcmPvckNlqlrLdeNJFHN3bQKmH99aKJfLqx0bZTab1oIs0GNqStyFKcWOnJItbIItbIItbIItbIItbIItbIItbIItbIItbIItbIItbIItbIItYIHvRIErAm6UzSsaSepNWYgZr+31x59OZN+CZpt8nkMag6equEWR6AQ2ArUr54eBK3wNwtaBZPpBeqzxsfL2FNgG+XpVNRNyUSuv2+u/YgRZC2hESuXXsJrKQIEwVgE/hwO2QMHAHbXt3U1goC9IBX/z7s1X77QB94cq9+ue7329JGpgtcMD13n/wRbAhMvP7EXUsqsthTclawPOmVa4czCyz6JE6N9yF9ASPv+qn/Df1nxloA98Az7jdRqvVd7S5Vnh8A5lk64ewAzwAAAABJRU5ErkJggg=="},,function(e,t,a){e.exports=a(102)},,,,,,function(e,t,a){},,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(23),s=a.n(i),c=a(1),o=a.n(c),u=a(7),l=a(3),p=a(4),m=a(6),d=a(5),h=a(11),g=a(13),f=(a(56),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props.posting;return r.a.createElement(h.b,{to:"/trip/"+String(e._id)},r.a.createElement("div",{className:"posting-card"},r.a.createElement("div",{className:"posting-info-container"},r.a.createElement("h3",{className:"posting-info posting-title"},e.title),r.a.createElement("div",{className:"posting-info posting-date"},e.date)),r.a.createElement("img",{className:"posting-cover",src:e.images[0],alt:""})))}}]),a}(r.a.Component)),v=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={postingCardColumn:n.props.postingCardColumn},n}return Object(p.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"posting-card-column-page"},this.state.postingCardColumn.postings.map((function(e,t){return r.a.createElement(f,{key:t,posting:e})})))}}]),a}(r.a.Component),b=a(22);a(65);function y(e,t){var a=t.target,n=a.value,r=a.name;e.setState(Object(b.a)({},r,n))}function E(){window.location.reload(!1)}function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=arguments.length>1?arguments[1]:void 0;t?window.open(e,"_blank"):document.location.href=e}var w=window.location.protocol+"//"+window.location.host;function O(e){return N.apply(this,arguments)}function N(){return(N=Object(u.a)(o.a.mark((function e(t){var a,n,r,i=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.length>1&&void 0!==i[1]?i[1]:{},n=new URL(w+t),Object.keys(a).forEach((function(e){return n.searchParams.append(e,a[e])})),console.log("GET",n),e.next=6,fetch(n,{method:"GET",mode:"cors",headers:{"Content-Type":"application/json"}});case 6:return r=e.sent,e.t0=r,e.next=10,r.json();case 10:return e.t1=e.sent,e.abrupt("return",{response:e.t0,body:e.t1});case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){return C.apply(this,arguments)}function C(){return(C=Object(u.a)(o.a.mark((function e(t){var a,n,r,i=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.length>1&&void 0!==i[1]?i[1]:{},n=new URL(w+t),e.prev=2,e.next=5,fetch(n,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 5:return r=e.sent,e.t0=r,e.next=9,r.json();case 9:return e.t1=e.sent,e.abrupt("return",{response:e.t0,body:e.t1});case 13:throw e.prev=13,e.t2=e.catch(2),e.t2;case 16:case"end":return e.stop()}}),e,null,[[2,13]])})))).apply(this,arguments)}function x(e){return A.apply(this,arguments)}function A(){return(A=Object(u.a)(o.a.mark((function e(t){var a,n,r,i=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.length>1&&void 0!==i[1]?i[1]:{},n=new URL(w+t),e.next=4,fetch(n,{method:"PUT",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 4:return r=e.sent,e.t0=r,e.next=8,r.json();case 8:return e.t1=e.sent,e.abrupt("return",{response:e.t0,body:e.t1});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e,t){return S.apply(this,arguments)}function S(){return(S=Object(u.a)(o.a.mark((function e(t,a){var n,r,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k("/api/user/login",{username:t,password:a});case 3:if(n=e.sent,r=n.response,i=n.body,200!==r.status){e.next=10;break}return e.abrupt("return",i);case 10:return e.abrupt("return",null);case 11:e.next=16;break;case 13:throw e.prev=13,e.t0=e.catch(0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}function L(e,t){return I.apply(this,arguments)}function I(){return(I=Object(u.a)(o.a.mark((function e(t,a){var n,r,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k("/api/user/login",{username:t,password:a});case 3:if(n=e.sent,r=n.response,i=n.body,200!==r.status){e.next=10;break}return e.abrupt("return",i);case 10:return e.abrupt("return",null);case 11:e.next=16;break;case 13:throw e.prev=13,e.t0=e.catch(0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}function P(e,t,a){return q.apply(this,arguments)}function q(){return(q=Object(u.a)(o.a.mark((function e(t,a,n){var r,i,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k("/api/user",{username:t,password:a,name:n});case 3:if(r=e.sent,i=r.response,s=r.body,200!==i.status){e.next=10;break}return e.abrupt("return",s);case 10:return e.abrupt("return",null);case 11:e.next=16;break;case 13:throw e.prev=13,e.t0=e.catch(0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}function D(){return _.apply(this,arguments)}function _(){return(_=Object(u.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x("/api/user/logout");case 3:if(t=e.sent,a=t.response,t.body,200!==a.status){e.next=10;break}return e.abrupt("return",!0);case 10:return e.abrupt("return",!1);case 11:e.next=16;break;case 13:throw e.prev=13,e.t0=e.catch(0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}function M(){return J.apply(this,arguments)}function J(){return(J=Object(u.a)(o.a.mark((function e(){var t,a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O("/api/user/session/resume");case 3:if(t=e.sent,a=t.response,n=t.body,200!==a.status){e.next=11;break}return console.log("Resuming session",a),e.abrupt("return",n);case 11:return e.abrupt("return",null);case 12:e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(0),e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}function T(e,t){return R.apply(this,arguments)}function R(){return(R=Object(u.a)(o.a.mark((function e(t,a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(t.length<1||a.length<1)){e.next=4;break}return alert("Please enter username and password"),e.abrupt("return",null);case 4:return e.next=6,U(t,a);case 6:if(n=e.sent){e.next=12;break}return alert("Invalid Credentials"),e.abrupt("return",null);case 12:return e.abrupt("return",n);case 13:e.next=20;break;case 15:return e.prev=15,e.t0=e.catch(0),console.error(e.t0),alert(String(e.t0)),e.abrupt("return",null);case 20:case"end":return e.stop()}}),e,null,[[0,15]])})))).apply(this,arguments)}function F(e,t){return B.apply(this,arguments)}function B(){return(B=Object(u.a)(o.a.mark((function e(t,a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(t.length<1||a.length<1)){e.next=4;break}return alert("Please enter username and password"),e.abrupt("return",null);case 4:return e.next=6,L(t,a);case 6:if(n=e.sent){e.next=12;break}return alert("Invalid Credentials"),e.abrupt("return",null);case 12:if("admin"===n.role){e.next=17;break}return alert("Permission denied"),e.abrupt("return",null);case 17:if("admin"!==n.role){e.next=19;break}return e.abrupt("return",n);case 19:e.next=26;break;case 21:return e.prev=21,e.t0=e.catch(0),console.error(e.t0),alert(String(e.t0)),e.abrupt("return",null);case 26:case"end":return e.stop()}}),e,null,[[0,21]])})))).apply(this,arguments)}function z(e,t,a){return G.apply(this,arguments)}function G(){return(G=Object(u.a)(o.a.mark((function e(t,a,n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(t.length<1||a.length<1)){e.next=4;break}return alert("Please enter username and password"),e.abrupt("return",null);case 4:return e.next=6,P(t,a,n);case 6:if(r=e.sent){e.next=12;break}return alert("Username already exists"),e.abrupt("return",null);case 12:return e.abrupt("return",r);case 13:e.next=20;break;case 15:return e.prev=15,e.t0=e.catch(0),console.error(e.t0),alert(String(e.t0)),e.abrupt("return",null);case 20:case"end":return e.stop()}}),e,null,[[0,15]])})))).apply(this,arguments)}function V(){return Y.apply(this,arguments)}function Y(){return(Y=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M();case 3:if(t=e.sent){e.next=8;break}return e.abrupt("return",null);case 8:return e.abrupt("return",t);case 9:e.next=16;break;case 11:return e.prev=11,e.t0=e.catch(0),console.error(e.t0),alert(String(e.t0)),e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function Q(){return(Q=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D();case 3:return e.abrupt("return",null);case 6:return e.prev=6,e.t0=e.catch(0),console.error(e.t0),alert(String(e.t0)),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}var W=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).setWarningMessage=function(e){n.setState({warningMessage:e})},n.submitRegister=Object(u.a)(o.a.mark((function e(){var t,a,r,i,s,c,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props,t.handleCloseModal,a=t.handleCloseRegisterModal,r=n.state.usernameInput,i=n.state.passwordInput,s=n.state.confirmInput,c=n.state.nameInput,s===i){e.next=8;break}return n.setWarningMessage("Password does not match!"),e.abrupt("return");case 8:if(!(r.length<1||i.length<1||c.length<1)){e.next=11;break}return n.setWarningMessage("Fields cannot be empty!"),e.abrupt("return");case 11:return e.next=13,z(r,i,c);case 13:(u=e.sent)?(alert("Successfully registered ".concat(u.username,"! You can login now.")),a()):n.setWarningMessage("User already exists!");case 15:case"end":return e.stop()}}),e)}))),n.state={usernameInput:"",passwordInput:"",confirmInput:"",nameInput:"",warningMessage:void 0},n}return Object(p.a)(a,[{key:"render",value:function(){var e=this;return this.props.registerModalDisplay?r.a.createElement("div",{className:"user-register-modal"},r.a.createElement("form",{className:"user-register-form"},r.a.createElement("h2",{className:"register-title"},"Register"),r.a.createElement("div",{className:"user-register-input"},r.a.createElement("span",null,"Username"),r.a.createElement("input",{value:this.state.usernameInput,onChange:function(t){return y(e,t)},type:"text",name:"usernameInput",placeholder:"Username"})),r.a.createElement("div",{className:"user-register-input"},r.a.createElement("span",null,"Password"),r.a.createElement("input",{value:this.state.passwordInput,onChange:function(t){return y(e,t)},type:"password",name:"passwordInput",placeholder:"Password"})),r.a.createElement("div",{className:"user-register-input"},r.a.createElement("span",null,"Confirm password"),r.a.createElement("input",{value:this.state.confirmInput,onChange:function(t){return y(e,t)},type:"password",name:"confirmInput",placeholder:"Confirm Password"})),r.a.createElement("div",{className:"user-register-input"},r.a.createElement("span",null,"Nickname"),r.a.createElement("input",{value:this.state.nameInput,onChange:function(t){return y(e,t)},type:"text",name:"nameInput",placeholder:"Name"})),this.state.warningMessage?r.a.createElement("div",{className:"user-register-warning"},this.state.warningMessage):null,r.a.createElement("div",null,r.a.createElement("button",{type:"button",className:"register-submit-button",onClick:this.props.handleCloseRegisterModal},"Cancel"),r.a.createElement("button",{type:"button",className:"register-submit-button",onClick:this.submitRegister},"Register")))):null}}]),a}(r.a.Component),H=(a(66),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e){var t=e.target,a=t.value,r=t.name;n.setState(Object(b.a)({},r,a))},n.setWarningMessage=function(e){n.setState({warningMessage:e})},n.submitLogin=Object(u.a)(o.a.mark((function e(){var t,a,r,i,s,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,a=t.setCurrUser,r=t.handleCloseModal,i=n.state.usernameInput,s=n.state.passwordInput,e.next=5,T(i,s);case 5:(c=e.sent)?(a(c),r()):n.setWarningMessage("Login Failed");case 7:case"end":return e.stop()}}),e)}))),n.handleOpenRegisterModal=function(){n.setState({registerModalDisplay:!0})},n.handleCloseRegisterModal=function(){n.setState({registerModalDisplay:!1})},n.state={usernameInput:"",passwordInput:"",warningMessage:void 0,registerModalDisplay:!1},n}return Object(p.a)(a,[{key:"render",value:function(){return this.props.loginModalDisplay?r.a.createElement("div",{className:"user-login-modal"},r.a.createElement("form",{className:"user-login-form"},r.a.createElement("h2",{className:"login-title"},"Login"),r.a.createElement("div",{className:"user-login-input"},r.a.createElement("span",null,"Username"),r.a.createElement("input",{value:this.state.usernameInput,onChange:this.handleInputChange,type:"text",name:"usernameInput",placeholder:"Username"})),r.a.createElement("div",{className:"user-login-input"},r.a.createElement("span",null,"Password"),r.a.createElement("input",{value:this.state.passwordInput,onChange:this.handleInputChange,type:"password",name:"passwordInput",placeholder:"Password"})),r.a.createElement("div",{className:"register-message"},r.a.createElement("u",{className:"message",onClick:this.handleOpenRegisterModal},"Click here to register"),r.a.createElement(W,{registerModalDisplay:this.state.registerModalDisplay,handleCloseModal:this.props.handleCloseModal,handleCloseRegisterModal:this.handleCloseRegisterModal})),this.state.warningMessage?r.a.createElement("div",{className:"user-login-warning"},this.state.warningMessage):null,r.a.createElement("div",null,r.a.createElement("button",{type:"button",className:"login-submit-button",onClick:this.props.handleCloseModal},"Cancel"),r.a.createElement("button",{type:"button",className:"login-submit-button",onClick:this.submitLogin},"Login")))):null}}]),a}(r.a.Component)),K=(a(67),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleOpenModal=function(){n.setState({loginModalDisplay:!0})},n.handleCloseModal=function(){n.setState({loginModalDisplay:!1})},n.logoutUser=function(){n.props.setCurrUser(null),function(){Q.apply(this,arguments)}()},n.state={loginModalDisplay:!1},n}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props,t=e.currUser,a=e.setCurrUser;return t?r.a.createElement("div",{className:"login"},r.a.createElement("button",{type:"button",className:"login-button",onClick:this.logoutUser},"LOGOUT")):r.a.createElement("div",{className:"login"},r.a.createElement("button",{className:"login-button",onClick:this.handleOpenModal},"LOGIN | REGISTER"),r.a.createElement(H,{loginModalDisplay:this.state.loginModalDisplay,handleCloseModal:this.handleCloseModal,currUser:t,setCurrUser:a}))}}]),a}(r.a.Component)),Z=(a(68),a(10)),X=a(29),$=a.n(X),ee=a(26),te=a.n(ee),ae=a(27),ne=a.n(ae),re=a(36),ie=a.n(re),se=a(42),ce=a.n(se),oe=a(37),ue=a.n(oe),le=a(38),pe=a.n(le),me=a(43),de=a.n(me),he={_id:"userid",username:"user",name:"User Doe",description:"Lorem ipsum dtque quo itaque? qsum sit.",avatar:$.a},ge={_id:5,title:"Trip to Toronto",author:he,journey:{_id:1,title:"Journey to Canada"},date:(new Date).toLocaleDateString("en-CA"),destination:"Toronto, ON, Canada",latitude:43.662891,longitude:-79.395653,body:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. \nUt enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. \n Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\n Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. ",images:[te.a,ne.a]},fe={"Travel to Canada":{_id:"2d12d12das",title:"Travel to Canada",author:he,journeyPostings:[{author:he,_id:100,date:(new Date).toLocaleDateString("en-CA"),title:"Title",latitude:43.662891,longitude:-79.395653,body:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Voluptate exercitationem facilis molestias sunt similique, quae doloremque commodi quisquam, aperiam nisi fugit, atque quo itaque? Fugiat consequatur quia beatae ipsum sit.",image:[te.a]},{author:he,_id:101,date:(new Date).toLocaleDateString("en-CA"),title:"Hello",latitude:43.6577,longitude:-79.3788,body:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Voluptate exercitationem facilis molestias sunt similique, quae doloremque commodi quisquam, aperiam nisi fugit, atque quo itaque? Fugiat consequatur quia beatae ipsum sit.Lorem ipsum dolor sit amet consectetur adipisicing elit. Voluptate exercitationem facilis molestias sunt similique, quae doloremque commodi quisquam, aperiam nisi fugit, atque quo itaque? Fugiat consequatur quia beatae ipsum sit.Lorem ipsum dolor sit amet consectetur adipisicing elit. Voluptate exercitationem facilis molestias sunt similique, quae doloremque commodi quisquam, aperiam nisi fugit, atque quo itaque? Fugiat consequatur quia beatae ipsum sit.",image:[ie.a]},{author:he,_id:102,date:(new Date).toLocaleDateString("en-CA"),title:"Demo",latitude:43.643567,longitude:-79.387054,body:"Travelling and happy",image:[ne.a]}]},"Travel to North":{_id:1,title:"Travel to North",author:he,journeyPostings:[{author:he,_id:103,date:(new Date).toLocaleDateString("en-CA"),title:"Title",latitude:43.6901,longitude:-79.42,body:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Voluptate exercitationem facilis molestias sunt similique, quae doloremque commodi quisquam, aperiam nisi fugit, atque quo itaque? Fugiat consequatur quia beatae ipsum sit.",image:[ue.a]}]},Traveling:{_id:2,title:"Traveling",author:he,journeyPostings:[{author:he,_id:105,date:(new Date).toLocaleDateString("en-CA"),title:"Title",latitude:43.683392,longitude:-79.3812,body:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Voluptate exercitationem facilis molestias sunt similique, quae doloremque commodi quisquam, aperiam nisi fugit, atque quo itaque? Fugiat consequatur quia beatae ipsum sit.",image:[pe.a]}]}},ve=[{postings:[{_id:1,title:"Lorem ipsum",date:(new Date).toLocaleDateString("en-CA"),images:[te.a],latitude:43.662891,longitude:-79.395653},{_id:2,title:"Lorem ipsum",date:(new Date).toLocaleDateString("en-CA"),images:[ce.a],latitude:43.6577,longitude:-79.3788}]},{postings:[{_id:3,title:"Lorem ipsum",date:(new Date).toLocaleDateString("en-CA"),images:[ne.a],latitude:43.643567,longitude:-79.387054},{_id:4,title:"Lorem ipsum",date:(new Date).toLocaleDateString("en-CA"),images:[pe.a],latitude:43.632889,longitude:-79.352927},{_id:5,title:"Lorem ipsum",date:(new Date).toLocaleDateString("en-CA"),images:[de.a],latitude:43.6901,longitude:-79.42}]},{postings:[{_id:6,title:"Lorem ipsum",date:(new Date).toLocaleDateString("en-CA"),images:[ue.a],latitude:43.683392,longitude:-79.3812},{_id:7,title:"Lorem ipsum",date:(new Date).toLocaleDateString("en-CA"),images:[ie.a],latitude:42.9345,longitude:-78.2566}]}];function be(e){return ye.apply(this,arguments)}function ye(){return(ye=Object(u.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=ve,e.abrupt("return",a);case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function Ee(e){return je.apply(this,arguments)}function je(){return(je=Object(u.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=ge,e.abrupt("return",a);case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function we(e){return Oe.apply(this,arguments)}function Oe(){return(Oe=Object(u.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=Object(Z.a)(Object(Z.a)({},t),{},{_id:66}),e.abrupt("return",a);case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function Ne(e,t){return ke.apply(this,arguments)}function ke(){return(ke=Object(u.a)(o.a.mark((function e(t,a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=a,e.abrupt("return",n);case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function Ce(e){return xe.apply(this,arguments)}function xe(){return(xe=Object(u.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=ge,e.abrupt("return",a);case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function Ae(e){return Ue.apply(this,arguments)}function Ue(){return(Ue=Object(u.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=[{_id:"sdhoiwd1oi2hd12dh21213",title:"Journey to Canada"},{_id:"sdhsaddsai2hd12dh21213",title:"Journey to Toronto"},{_id:"sd123wd1oi2hd12dh21213",title:"Journey to Montreal"}],e.abrupt("return",a);case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function Se(e){return Le.apply(this,arguments)}function Le(){return(Le=Object(u.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=fe["Travel to Canada"],e.abrupt("return",a);case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function Ie(e){return Pe.apply(this,arguments)}function Pe(){return(Pe=Object(u.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=Object(Z.a)(Object(Z.a)({},fe["Travel to Canada"]),{},{title:t.title,author:t.author}),e.abrupt("return",a);case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function qe(e,t){return De.apply(this,arguments)}function De(){return(De=Object(u.a)(o.a.mark((function e(t,a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=Object(Z.a)(Object(Z.a)({},fe["Travel to Canada"]),{},{title:a.title,author:a.author}),e.abrupt("return",n);case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function _e(e){return Me.apply(this,arguments)}function Me(){return(Me=Object(u.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=Object(Z.a)({},fe["Travel to Canada"]),e.abrupt("return",a);case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function Je(e){return Te.apply(this,arguments)}function Te(){return(Te=Object(u.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=fe,e.abrupt("return",a);case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function Re(e,t){return Fe.apply(this,arguments)}function Fe(){return(Fe=Object(u.a)(o.a.mark((function e(t,a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("Searching for",a),e.next=4,be({search:a});case 4:n=e.sent,t.setState({postingCardColumns:n}),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var Be=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={search:""},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.currUser,n=t.setCurrUser,i=t.postingCardColumns,s=t.setSearch;return r.a.createElement("div",{className:"home-view"},r.a.createElement("div",{className:"web-header"},r.a.createElement("h1",{className:"web-title"},"Voja\u011danto"),r.a.createElement("div",{className:"home-search"},r.a.createElement("input",{type:"text",className:"home-search-input",name:"search",placeholder:"Search for trips!",onChange:function(t){return y(e,t)}}),r.a.createElement("button",{className:"home-search-btn",onClick:function(){return s(e.state.search)}},"Search")),r.a.createElement(K,{currUser:a,setCurrUser:n})),r.a.createElement("div",{className:"posting-card-columns"},i.map((function(e,t){return r.a.createElement(v,{key:t,postingCardColumn:e})}))))}}]),a}(r.a.Component),ze=(a(69),a(44)),Ge=a.n(ze),Ve=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props.currUser;return r.a.createElement("div",{className:"navbar"},r.a.createElement("div",{className:"navbar-main"},r.a.createElement(h.b,{className:"nav-item",to:"/"},"HOME"),e?r.a.createElement(h.b,{className:"nav-item",to:"/profile/".concat(String(e._id))},"PROFILE"):null),e?r.a.createElement("div",{className:"navbar-edit"},r.a.createElement(h.b,{className:"nav-item to-edit",to:"/new-posting"},r.a.createElement(Ge.a,null))):null)}}]),a}(r.a.Component),Ye=a(116),Qe=a(117),We=a(115),He=a(118),Ke=a(14),Ze=(a(74),[new Ke.Icon({iconUrl:"https://upload.wikimedia.org/wikipedia/commons/thumb/f/fb/Map_pin_icon_green.svg/800px-Map_pin_icon_green.svg.png",iconSize:[25,25]}),new Ke.Icon({iconUrl:"https://www.clipartmax.com/png/full/86-869339_yellow-map-marker-png.png",iconSize:[25,25]}),new Ke.Icon({iconUrl:"http://www.clker.com/cliparts/1/K/0/V/P/H/map-pin-pink.svg.hi.png",iconSize:[25,25]})]),Xe=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={currLoc:null,enableAddLocation:!1,newPosting:null,editing:!1},e.setCurrLoc=function(t){console.log(t),e.setState({currLoc:t})},e.addMarker=function(t,a,n){a&&(console.log("enabled"),n.latitude=t.latlng.lat,n.longitude=t.latlng.lng,e.setState({newPosting:n,editing:!0}))},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.parent,n=t.allPostings,i=t.enableAddLocation,s=this.state.newPosting;return r.a.createElement(Ye.a,{center:[43.662891,-79.395653],zoom:12,onClick:function(t){e.addMarker(t,i,n)}},r.a.createElement(Qe.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),"Home"===a&&n.map((function(t){return t.postings.map((function(t){return r.a.createElement(We.a,{key:t._id,position:[t.latitude,t.longitude],onClick:function(){e.setCurrLoc(t)}})}))})),("ViewPosting"===a||"EditPosting"===a&&!this.state.editing)&&r.a.createElement(We.a,{key:n._id,position:[n.latitude,n.longitude],onClick:function(){e.setCurrLoc(n)}}),"Profile"===a&&Object.keys(n).map((function(t,a){return n[t].journeyPostings.map((function(t){return r.a.createElement(We.a,{key:t._id,position:[t.latitude,t.longitude],onClick:function(){e.setCurrLoc(t)},icon:Ze[a]})}))})),"JourneyPosting"===a&&n.map((function(t){return r.a.createElement(We.a,{key:t._id,position:[t.latitude,t.longitude],onClick:function(){e.setCurrLoc(t)}})})),this.state.newPosting&&r.a.createElement(We.a,{key:s._id,position:[s.latitude,s.longitude],onClick:function(){e.setCurrLoc(s)}}),this.state.currLoc&&r.a.createElement(He.a,{position:[this.state.currLoc.latitude,this.state.currLoc.longitude],onClose:function(){e.setCurrLoc(null)}},r.a.createElement("div",null,r.a.createElement("h2",null,this.state.currLoc.title),r.a.createElement("p",null,this.state.currLoc.date))))}}]),a}(r.a.Component),$e=(a(75),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={postingCardColumns:[]},n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){Re(this,"")}},{key:"searchPosting",value:function(e){console.log("page receive search",e),Re(this,e)}},{key:"render",value:function(){var e=this,t=this.props,a=t.currUser,n=t.setCurrUser;return r.a.createElement("div",{className:"page home-page"},r.a.createElement("div",{className:"main-view home-main"},this.state.postingCardColumns?r.a.createElement(Be,{postingCardColumns:this.state.postingCardColumns,currUser:a,setCurrUser:n,setSearch:function(t){e.searchPosting(t)}}):r.a.createElement("div",{className:"posting-placeholder"},"Loading Posting"),r.a.createElement(Ve,{currUser:a})),r.a.createElement("div",{className:"map-view home-map"},this.state.postingCardColumns?r.a.createElement(Xe,{parent:"Home",allPostings:this.state.postingCardColumns}):r.a.createElement("div",{className:"posting-placeholder"},"Loading Map")))}}]),a}(r.a.Component)),et=(a(76),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props.posting;return r.a.createElement("div",{className:"journey-list-posting"},r.a.createElement("div",{className:"journey-list-posting-text"},r.a.createElement("h3",{className:"journey-posting-date"},e.date.toString().substring(0,11)),r.a.createElement("h4",{className:"journey-posting-title"},e.title),r.a.createElement("p",{className:"journey-posting-body"},e.body)),r.a.createElement("div",{className:"journey-list-posting-image-container"},e.image.length>0?r.a.createElement("img",{className:"journey-list-posting-image",src:e.image[0],alt:"journey"}):null))}}]),a}(r.a.Component)),tt=(a(77),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props.postingList;return r.a.createElement("div",{className:"posting-list-page"},e.map((function(e,t){return r.a.createElement(h.b,{key:t,className:"journey-posting-link",to:"/trip/"+e._id.toString()},r.a.createElement(et,{key:e._id,posting:e}))})))}}]),a}(r.a.Component));a(78);function at(){return(at=Object(u.a)(o.a.mark((function e(t,a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Se(a);case 3:n=e.sent,console.log("Get journey ".concat(a),n),t.setState(Object(Z.a)({},n)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0),alert(String(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function nt(){return(nt=Object(u.a)(o.a.mark((function e(t,a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ie(a);case 3:(n=e.sent)?(console.log("Created journey ".concat(n._id),n),alert("Created journey ".concat(n._id),n),E()):alert("Creation Failed!"),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0),alert(String(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function rt(){return(rt=Object(u.a)(o.a.mark((function e(t,a,n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(a,n),e.next=4,qe(a,n);case 4:(r=e.sent)?(console.log("Updated journey ".concat(r._id),r),alert("Updated journey ".concat(r.title)),E()):alert("Edit Failed!"),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0),alert(String(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function it(){return(it=Object(u.a)(o.a.mark((function e(t,a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_e(a);case 3:(n=e.sent)?(console.log("Deleted journey ".concat(a),n),alert("Deleted journey ".concat(n.title)),j("/",!1)):alert("Deletion Failed!"),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0),alert(String(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var st=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={_id:n.props.journeyId,title:n.props.title,author:n.props.currUser},n}return Object(p.a)(a,[{key:"submitJourney",value:function(){var e={title:this.state.title,author:this.state.author};!function(e,t,a){rt.apply(this,arguments)}(this,this.state._id,e)}},{key:"deleteJourney",value:function(){window.confirm("Are you sure you want to delete this journey? Your trips will be moved to Unnamed journey.")&&function(e,t){it.apply(this,arguments)}(this,this.state._id)}},{key:"render",value:function(){var e=this,t=this.props,a=t.display,n=t.toggleModal;return a?r.a.createElement("div",{className:"update-journey-modal"},r.a.createElement("h2",{className:"update-journey-instruction"},"Edit Journey"),r.a.createElement("div",{className:"update-journey-content"},r.a.createElement("form",{className:"update-journey-form"},r.a.createElement("div",{className:"update-journey-item"},r.a.createElement("span",{className:"update-journey-title"},"Title"),r.a.createElement("input",{type:"text",name:"title",placeholder:"Journey to the West",onChange:function(t){return y(e,t)},value:this.state.title})),r.a.createElement("div",{className:"modal-buttons"},r.a.createElement("button",{type:"button",className:"update-journey-btn",onClick:n},"Cancel"),r.a.createElement("button",{type:"button",className:"update-journey-btn",onClick:function(){return e.deleteJourney()}},"Delete Journey"),r.a.createElement("button",{type:"button",className:"update-journey-btn",id:"update-journey-apply",onClick:this.submitJourney.bind(this)},"Update"))))):r.a.createElement(r.a.Fragment,null)}}]),a}(r.a.Component),ct=(a(79),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={displayEditModal:!1},e}return Object(p.a)(a,[{key:"toggleEditModal",value:function(){this.setState({displayEditModal:!this.state.displayEditModal})}},{key:"render",value:function(){var e=this,t=this.props.currUser;return r.a.createElement("div",{className:"journey-page"},r.a.createElement("div",{className:"journey-meta"},r.a.createElement("h1",{className:"trip-type"},this.props.title),t&&this.props.author&&String(t._id)===String(this.props.author._id)?r.a.createElement("div",null,r.a.createElement("button",{className:"edit-journey-btn",onClick:function(){return e.toggleEditModal()}},"Edit"),r.a.createElement(st,{display:this.state.displayEditModal,toggleModal:function(){return e.toggleEditModal()},title:this.props.title,journeyId:this.props.journeyId,currUser:t})):r.a.createElement(r.a.Fragment,null)),r.a.createElement("div",{className:"journey-list"},r.a.createElement(tt,{postingList:this.props.journeyPostings})))}}]),a}(r.a.Component)),ot=(a(80),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={journeyId:n.props.match.params.jid,journeyPostings:[],title:"",author:null},n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){!function(e,t){at.apply(this,arguments)}(this,this.state._id)}},{key:"render",value:function(){var e=this.props.currUser;return r.a.createElement("div",{className:"page journey"},r.a.createElement("div",{className:"main-view journey-main-view"},this.state.journeyId&&this.state.journeyPostings&&this.state.author&&this.state.title?r.a.createElement(ct,{journeyId:this.state.journeyId,journeyPostings:this.state.journeyPostings,title:this.state.title,author:this.state.author,currUser:e}):r.a.createElement("div",{className:"posting-placeholder"},"Loading Journey"),r.a.createElement(Ve,{currUser:e})),r.a.createElement("div",{className:"map-view edit-posting-map"},this.state.journeyPostings?r.a.createElement(Xe,{parent:"JourneyPosting",allPostings:this.state.journeyPostings}):r.a.createElement("div",{className:"posting-placeholder"},"Loading Map")))}}]),a}(r.a.Component)),ut=(a(81),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props,t=e.currUser,a=e.posting;return r.a.createElement("div",{className:"posting-view"},r.a.createElement("div",{className:"posting-metadata-container"},r.a.createElement("h1",{className:"posting-title"},a.title),t&&String(t._id)==String(a.author._id)?r.a.createElement("div",{className:"edit-container"},r.a.createElement(h.b,{to:"/edit/".concat(a._id)},r.a.createElement("button",{className:"edit-btn"},"Edit"))):null,r.a.createElement("div",{className:"posting-info-container"},r.a.createElement("ul",{className:"posting-info"},r.a.createElement("li",{className:"info-item"},r.a.createElement(h.b,{className:"nav-item",to:"/journey/"+String(a.journey._id)},a.journey.title)),r.a.createElement("li",{className:"info-item"},a.date),r.a.createElement("li",{className:"info-item"},a.destination))),r.a.createElement("div",{className:"posting-author-container"},r.a.createElement("div",{className:"posting-author-avatar"},r.a.createElement("img",{src:a.author.avatar,alt:a.author.name})),r.a.createElement(h.b,{to:"/profile/".concat(String(a.author._id))},r.a.createElement("div",{className:"posting-author-name"},a.author.name)))),r.a.createElement("div",{className:"posting-image-container"},r.a.createElement("div",{className:"posting-images"},a.images.map((function(e,t){return r.a.createElement("div",{key:t,className:"posting-image"},r.a.createElement("img",{src:e,alt:e}))})))),r.a.createElement("div",{className:"posting-body-container"},a.body.split("\n").map((function(e,t){return r.a.createElement("p",{key:t},e," ",r.a.createElement("br",null))}))))}}]),a}(r.a.Component)),lt=a(45),pt=a(39);function mt(){return(mt=Object(u.a)(o.a.mark((function e(t,a){var n,r,i,s,c,u,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=a.target,r=n.files,i=[],s=Object(lt.a)(r);try{for(s.s();!(c=s.n()).done;)u=c.value,i.push(URL.createObjectURL(u))}catch(o){s.e(o)}finally{s.f()}l=[].concat(Object(pt.a)(t.state.posting.images),i),t.setState((function(e){return Object(Z.a)(Object(Z.a)({},e),{},{posting:Object(Z.a)(Object(Z.a)({},e.posting),{},{images:l})})}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dt(){return(dt=Object(u.a)(o.a.mark((function e(t){var a,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.state.posting,e.prev=1,void 0===a._id){e.next=11;break}return console.log("Updating posting ".concat(a._id),a),e.next=6,Ne(a._id,a);case 6:n=e.sent,alert("Submitted updates!"),t.props.history.push("/trip/".concat(String(n._id))),e.next=17;break;case 11:return console.log("Creating new posting",a),e.next=14,we(a);case 14:r=e.sent,alert("Created new trip!"),t.props.history.push("/trip/".concat(String(r._id)));case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(1),alert(String(e.t0));case 22:case"end":return e.stop()}}),e,null,[[1,19]])})))).apply(this,arguments)}function ht(){return(ht=Object(u.a)(o.a.mark((function e(t,a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===a){e.next=15;break}return e.prev=1,e.next=4,Ce(a);case 4:n=e.sent,console.log("DELETED Posting ".concat(a),n),alert("Deleted posting."),t.props.history.push("/profile/".concat(String(t.props.currUser._id))),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),alert(String(e.t0));case 13:e.next=18;break;case 15:console.log("DELETED new posting"),alert("Deleted new posting draft."),t.props.history.push("/profile/".concat(String(t.props.currUser._id)));case 18:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function gt(e,t){return ft.apply(this,arguments)}function ft(){return(ft=Object(u.a)(o.a.mark((function e(t,a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ee(a);case 3:n=e.sent,console.log("Get Posting ".concat(a),n),t.setState({new:!1,posting:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),alert(String(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function vt(){return(vt=Object(u.a)(o.a.mark((function e(t,a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ae(a);case 3:n=e.sent,console.log("Get user's journeys ".concat(a),n),t.setState({userJourneys:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),alert(String(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}a(82);var bt=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={pid:n.props.match.params.pid,posting:null},n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){gt(this,this.state.pid)}},{key:"render",value:function(){var e=this.props.currUser;return r.a.createElement("div",{className:"page view-posting-page"},r.a.createElement("div",{className:"main-view view-posting-main"},this.state.posting?r.a.createElement(ut,{posting:this.state.posting,currUser:e}):r.a.createElement("div",{className:"posting-placeholder"},"Loading Posting"),r.a.createElement(Ve,{currUser:e})),r.a.createElement("div",{className:"map-view view-posting-map"},this.state.posting?r.a.createElement(Xe,{parent:"ViewPosting",allPostings:this.state.posting}):r.a.createElement("div",{className:"posting-placeholder"},"Loading Map")))}}]),a}(r.a.Component),yt=(a(83),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props,t=e.body,a=e.handleChange;return r.a.createElement("div",{className:"editor"},r.a.createElement("textarea",{name:"body",id:"postingBodyInput",placeholder:"Write down your trip!",onChange:a,value:t}))}}]),a}(r.a.Component)),Et=(a(84),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={userJourneys:[]},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){!function(e,t){vt.apply(this,arguments)}(this,this.props.currUser._id)}},{key:"render",value:function(){var e=this.props,t=(e.currUser,e.posting),a=e.handleInputChange,n=e.handleImageUpload,i=e.submitPosting,s=e.deletePosting,c=e.handleDeleteImage;return r.a.createElement("div",{className:"edit-posting-view"},r.a.createElement("form",{className:"posting-form",id:"postingForm"},r.a.createElement("datalist",{id:"user-journeys"},this.state.userJourneys.map((function(e,t){return r.a.createElement("option",{key:t,value:e.title})}))),r.a.createElement("div",{className:"edit-metadata-container"},r.a.createElement("input",{type:"text",name:"title",className:"edit-title edit-input",id:"postingTitleInput",placeholder:"TITLE",onChange:a,value:t.title}),r.a.createElement("div",{className:"posting-info-container"},r.a.createElement("input",{type:"text",name:"journey",className:"edit-meta edit-input",list:"user-journeys",id:"postingJourneyInput",placeholder:"JOURNEY",onChange:a,value:t.journey.title||t.journey}),r.a.createElement("input",{type:"date",name:"date",className:"edit-meta edit-input",id:"postingDateInput",onChange:a,value:t.date}),r.a.createElement("input",{type:"text",name:"destination",className:"edit-meta edit-input",id:"postingDestinationInput",placeholder:"DESTINATION",onChange:a,value:t.destination}))),r.a.createElement("div",{className:"edit-image-container"},r.a.createElement("div",{className:"add-image-container"},r.a.createElement("input",{type:"file",name:"image",className:"edit-input edit-image-upload-btn",multiple:!0,onChange:n})),r.a.createElement("div",{className:"posting-images"},t.images.map((function(e,t){return r.a.createElement("div",{key:t,className:"posting-image"},r.a.createElement("button",{type:"button",className:"img-del-btn",onClick:function(){return c(t)}},"delete"),r.a.createElement("img",{src:e,alt:e}))})))),r.a.createElement("div",{className:"edit-body-container"},r.a.createElement(yt,{body:t.body,handleChange:a})),r.a.createElement("div",{className:"edit-control-container"},r.a.createElement("button",{type:"button",className:"edit-delete-btn",onClick:s},"DELETE"),r.a.createElement("div",{className:"edit-public-container"},r.a.createElement("input",{type:"checkbox",name:"public",className:"edit-public-checkbox",id:"postingPublicInput",onChange:a,checked:t.public})," ",r.a.createElement("span",null,"Public")),r.a.createElement("button",{type:"button",className:"edit-post-btn",onClick:i},"POST"))))}}]),a}(r.a.Component)),jt=(a(85),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={new:!0,posting:{_id:void 0,title:"",journey:"",date:"",destination:"",latitude:-1,longitude:-1,body:"",public:!1,images:[],author:n.props.currUser}},n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params.pid;void 0!==e&&gt(this,e)}},{key:"render",value:function(){var e=this,t=this.props.currUser;return t?!this.state.new&&t&&t._id!==this.state.posting.author._id?r.a.createElement("div",{className:"page edit-posting-page"},r.a.createElement("div",{className:"main-view edit-posting-main"},r.a.createElement("h1",null,"NO ACCESS PERMISSION"),r.a.createElement(Ve,{currUser:t})),r.a.createElement("div",{className:"map-view edit-posting-map"},r.a.createElement(Xe,{parent:"EditPosting",allPostings:this.state.posting}))):r.a.createElement("div",{className:"page edit-posting-page"},r.a.createElement("div",{className:"main-view edit-posting-main"},r.a.createElement(Et,{currUser:t,posting:this.state.posting,handleInputChange:function(t){return function(e,t){var a=t.target,n=a.value,r=a.name;"public"===r?e.setState((function(e){return Object(Z.a)(Object(Z.a)({},e),{},{posting:Object(Z.a)(Object(Z.a)({},e.posting),{},{public:!e.posting.public})})})):e.setState((function(e){return Object(Z.a)(Object(Z.a)({},e),{},{posting:Object(Z.a)(Object(Z.a)({},e.posting),{},Object(b.a)({},r,n))})}))}(e,t)},submitPosting:function(){return function(e){return dt.apply(this,arguments)}(e)},deletePosting:function(){return function(e,t){return ht.apply(this,arguments)}(e,e.state.posting._id||void 0)},handleImageUpload:function(t){return function(e,t){return mt.apply(this,arguments)}(e,t)},handleDeleteImage:function(t){return function(e,t){var a=Object(pt.a)(e.state.posting.images);a.splice(t,1),e.setState((function(e){return Object(Z.a)(Object(Z.a)({},e),{},{posting:Object(Z.a)(Object(Z.a)({},e.posting),{},{images:a})})}))}(e,t)}}),r.a.createElement(Ve,{currUser:t})),r.a.createElement("div",{className:"map-view edit-posting-map"},r.a.createElement(Xe,{parent:"EditPosting",allPostings:this.state.posting,enableAddLocation:!0}))):r.a.createElement(g.a,{to:"/"})}}]),a}(r.a.Component)),wt=(a(86),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props.profileInfo;return r.a.createElement("div",{className:"profile-info-page"},r.a.createElement("div",{className:"profile-avatar-container"},r.a.createElement("img",{className:"profile-image",src:e.avatar,alt:"avatar"})),r.a.createElement("div",{className:"profile-text"},r.a.createElement("h1",{className:"user-nick-name"},e.name),r.a.createElement("h2",{className:"user-name"},e.username),r.a.createElement("div",{className:"user-content-body"},e.description)))}}]),a}(r.a.Component)),Ot=(a(87),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props.journey;return r.a.createElement("div",{className:"trip-type-component"},r.a.createElement("h3",{className:"trip-type"},r.a.createElement(h.b,{className:"trip-journey-link",to:"/journey/"+e._id.toString()},e.title)),r.a.createElement(tt,{postingList:e.journeyPostings||[]}))}}]),a}(r.a.Component));a(88),$.a;function Nt(e){return kt.apply(this,arguments)}function kt(){return(kt=Object(u.a)(o.a.mark((function e(t){var a,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O("/api/user/".concat(t));case 3:if(a=e.sent,n=a.response,r=a.body,console.log(r),200!==n.status){e.next=11;break}return e.abrupt("return",r);case 11:return e.abrupt("return",null);case 12:e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(0),e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}function Ct(e,t){return xt.apply(this,arguments)}function xt(){return(xt=Object(u.a)(o.a.mark((function e(t,a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=a,e.abrupt("return",n);case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function At(){return(At=Object(u.a)(o.a.mark((function e(t,a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("Getting Profile for user ".concat(a)),e.next=4,Nt(a);case 4:(n=e.sent)?t.setState({profileInfo:n}):alert("Cannot find user"),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0),alert(String(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function Ut(){return(Ut=Object(u.a)(o.a.mark((function e(t,a,n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"_id"in n||(n._id=a),e.prev=1,e.next=4,Ct(a,n);case 4:r=e.sent,console.log("Updated profile",r),alert("Updated profile!"),E(),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0),alert(String(e.t0));case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function St(){return(St=Object(u.a)(o.a.mark((function e(t,a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Je(a);case 3:n=e.sent,console.log("Getting user's journeys",n),t.setState({journeys:n}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0),alert(String(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var Lt=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleAvatarChange=function(e){var t=e.target.files[0];n.setState({avatar:URL.createObjectURL(t)})},n.state={name:"",avatar:null,description:"",_id:null},n}return Object(p.a)(a,[{key:"componentWillReceiveProps",value:function(e){this.setState(Object(Z.a)({},e.profileInfo))}},{key:"submitProfile",value:function(){var e={_id:this.state._id,name:this.state.name,avatar:this.state.avatar,description:this.state.description};!function(e,t,a){Ut.apply(this,arguments)}(this,this.state._id,e)}},{key:"render",value:function(){var e=this,t=this.props,a=t.display,n=t.toggleEditProfile;return a?r.a.createElement("div",{className:"edit-profile-modal"},r.a.createElement("h2",{className:"edit-profile-instruction"},"Edit Profile"),r.a.createElement("div",{className:"edit-profile-content"},r.a.createElement("div",{className:"edit-profile-input",id:"edit-avatar-container"},r.a.createElement("div",{className:"edit-avatar-presentation"},r.a.createElement("img",{className:"profile-avatar",src:this.state.avatar,alt:"profile avatar"})),r.a.createElement("input",{type:"file",name:"image",className:"edit-input edit-avatar-upload-btn",onChange:this.handleAvatarChange})),r.a.createElement("form",{className:"edit-profile-input"},r.a.createElement("div",{className:"edit-profile-item"},r.a.createElement("span",{className:"edit-profile-title",id:"edit-name-instruction"},"Nickname"),r.a.createElement("input",{type:"text",name:"name",className:"edit-nickname edit-input",placeholder:"nick-name-form",onChange:function(t){return y(e,t)},value:this.state.name})),r.a.createElement("div",{className:"edit-profile-item"},r.a.createElement("span",{className:"edit-profile-title",id:"edit-description-instruction"},"Self Description"),r.a.createElement("textarea",{type:"text",name:"description",className:"edit-user-description edit-input",placeholder:"user-description-form",onChange:function(t){return y(e,t)},value:this.state.description})),r.a.createElement("div",{className:"modal-buttons"},r.a.createElement("button",{type:"button",className:"edit-profile-btn",onClick:n},"Cancel"),r.a.createElement("button",{type:"button",className:"edit-profile-btn",id:"edit-profile-apply",onClick:this.submitProfile.bind(this)},"Apply"))))):r.a.createElement(r.a.Fragment,null)}}]),a}(r.a.Component),It=(a(89),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={title:"",author:n.props.currUser},n}return Object(p.a)(a,[{key:"submitJourney",value:function(){!function(e,t){nt.apply(this,arguments)}(this,{title:this.state.title,author:this.state.author})}},{key:"render",value:function(){var e=this,t=this.props,a=t.display,n=t.toggleModal;return a?r.a.createElement("div",{className:"create-journey-modal"},r.a.createElement("h2",{className:"create-journey-instruction"},"New Journey"),r.a.createElement("div",{className:"create-journey-content"},r.a.createElement("form",{className:"create-journey-form"},r.a.createElement("div",{className:"create-journey-item"},r.a.createElement("span",{className:"create-journey-title"},"Title"),r.a.createElement("input",{type:"text",name:"title",placeholder:"Journey to the West",onChange:function(t){return y(e,t)},value:this.state.title})),r.a.createElement("div",{className:"modal-buttons"},r.a.createElement("button",{type:"button",className:"create-journey-btn",onClick:n},"Cancel"),r.a.createElement("button",{type:"button",className:"create-journey-btn",id:"create-journey-apply",onClick:this.submitJourney.bind(this)},"Create"))))):r.a.createElement(r.a.Fragment,null)}}]),a}(r.a.Component)),Pt=(a(90),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).toggleEditProfile=function(){n.setState({editProfile:!n.state.editProfile})},n.toggleCreateJourney=function(){n.setState({createJourney:!n.state.createJourney})},n.state={editProfile:!1,createJourney:!1},n}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props,t=e.currUser,a=e.profileInfo,n=e.journeys;return r.a.createElement("div",{className:"profile-view"},t&&String(t._id)===String(this.props.profileId)?r.a.createElement("div",{className:"edit-profile-container"},r.a.createElement("button",{className:"edit-profile",onClick:this.toggleEditProfile},"Edit Profile"),r.a.createElement(Lt,{className:"edit-profile-prompt",display:this.state.editProfile,toggleEditProfile:this.toggleEditProfile,profileInfo:a})):r.a.createElement(r.a.Fragment,null),r.a.createElement(wt,{className:"profile-information",profileInfo:a}),t&&String(t._id)===String(this.props.profileId)?r.a.createElement("div",{className:"new-journey-container"},r.a.createElement("button",{className:"new-journey-btn",onClick:this.toggleCreateJourney},"New Journey"),r.a.createElement(It,{className:"new-journey-prompt",display:this.state.createJourney,toggleModal:this.toggleCreateJourney,currUser:t})):r.a.createElement(r.a.Fragment,null),Object.keys(n).map((function(e){return r.a.createElement(Ot,{key:e,journey:n[e]})})))}}]),a}(r.a.Component)),qt=(a(91),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={profileId:n.props.match.params.uid,profileInfo:{},journeys:{}},n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){!function(e,t){At.apply(this,arguments)}(this,this.state.profileId),function(e,t){St.apply(this,arguments)}(this,this.state.profileId)}},{key:"render",value:function(){var e=this.props,t=e.currUser,a=e.setCurrUser;return r.a.createElement("div",{className:"page profile-page"},r.a.createElement("div",{className:"main-view profile-page-main"},this.state.profileInfo&&this.state.journeys?r.a.createElement(Pt,{currUser:t,setCurrUser:a,profileInfo:this.state.profileInfo,journeys:this.state.journeys}):r.a.createElement("div",{className:"posting-placeholder"},"Loading Profile")),r.a.createElement(Ve,{currUser:t}),r.a.createElement("div",{className:"map-view edit-posting-map"},this.state.profileInfo&&this.state.journeys?r.a.createElement(Xe,{parent:"Profile",allPostings:this.state.journeys}):r.a.createElement("div",{className:"posting-placeholder"},"Loading Map")))}}]),a}(r.a.Component)),Dt=(a(92),a(46)),_t=a.n(Dt),Mt=a(47),Jt=a.n(Mt),Tt=a(48),Rt=a.n(Tt),Ft=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"admin-nav"},r.a.createElement(h.b,{className:"admin-nav-item",to:"/admin/home"},r.a.createElement("img",{src:Jt.a,alt:""}),r.a.createElement("span",null,"Home")),r.a.createElement(h.b,{className:"admin-nav-item",to:"/admin/users"},r.a.createElement("img",{src:_t.a,alt:""}),r.a.createElement("span",null,"Users")),r.a.createElement(h.b,{className:"admin-nav-item",to:"/admin/postings"},r.a.createElement("img",{src:Rt.a,alt:""}),"Postings"),r.a.createElement(h.b,{className:"admin-nav-item",to:"/admin/login"},"Logout")))}}]),a}(r.a.Component),Bt=(a(93),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props.currUser;return e&&"admin"===e.role?r.a.createElement("div",{className:"page admin-home-page"},r.a.createElement(Ft,null),r.a.createElement("div",{className:"admin-home-main"},r.a.createElement("h1",null,"Welcome, ","".concat(e.name)))):r.a.createElement(g.a,{to:"/admin/login"})}}]),a}(r.a.Component)),zt=(a(94),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).login=Object(u.a)(o.a.mark((function e(){var t,a,r,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props.setCurrUser,console.log("logging in..."),a=n.state.username_input,r=n.state.password_input,!(a.length<1||r.length<1)){e.next=7;break}return alert("Please enter username and password"),e.abrupt("return");case 7:return e.next=9,F(a,r);case 9:(i=e.sent)?(console.log("Login successfully"),t(i),n.setState({redirect:"/admin/home"})):n.setState({warning:"Invalid credential!"});case 11:case"end":return e.stop()}}),e)}))),n.state={username_input:"",password_input:"",warning:"",redirect:null},n}return Object(p.a)(a,[{key:"render",value:function(){var e=this;this.props.currUser;return this.state.redirect?r.a.createElement(g.a,{to:this.state.redirect}):r.a.createElement("div",null,r.a.createElement("div",{className:"admin-login-form"},r.a.createElement("h1",null,"Admin Login"),r.a.createElement("div",{className:"admin-login-input"},r.a.createElement("span",null,"Username"),r.a.createElement("input",{value:this.state.username_input,onChange:function(t){return y(e,t)},type:"text",name:"username_input",placeholder:"Username"})),r.a.createElement("div",{className:"admin-login-input"},r.a.createElement("span",null,"Password"),r.a.createElement("input",{value:this.state.password_input,onChange:function(t){return y(e,t)},type:"password",name:"password_input",placeholder:"Password"})),r.a.createElement("span",{className:"warn"},this.state.warning),r.a.createElement("button",{type:"submit",className:"submit",onClick:this.login},"Submit")))}}]),a}(r.a.Component)),Gt=(a(95),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props,t=e.currUser,a=e.setCurrUser;return r.a.createElement("div",{className:"admin-login"},r.a.createElement("div",{className:"bg-img"}),r.a.createElement(zt,{currUser:t,setCurrUser:a}))}}]),a}(r.a.Component)),Vt=(a(96),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this,t=this.props.users;return r.a.createElement("div",null,r.a.createElement("table",{className:"admin-user-table admin-table"},r.a.createElement("thead",null,r.a.createElement("tr",{className:"admin-table-headerRow"},r.a.createElement("th",{className:"admin-table-header"},"User ID"),r.a.createElement("th",{className:"admin-table-header"},"Username"),r.a.createElement("th",{className:"admin-table-header"},"Nickname"),r.a.createElement("th",{className:"admin-table-header"},"Role"),r.a.createElement("th",{className:"admin-table-header"},"Status"),r.a.createElement("th",{className:"admin-table-header"},"Last Login"),r.a.createElement("th",{className:"admin-table-header"}))),r.a.createElement("tbody",null,t.map((function(t){return"active"===t.status?r.a.createElement("tr",{key:t._id,className:"admin-data-row"},r.a.createElement("td",null,t._id),r.a.createElement("td",null,t.username),r.a.createElement("td",null,t.nickname),r.a.createElement("td",null,t.role),r.a.createElement("td",null,t.status),r.a.createElement("td",null,t.lastLogin),r.a.createElement("td",{className:"actions"},r.a.createElement("button",{onClick:function(){return e.props.changeUserStatus(t,"inactive")}},"Inactivate"))):"inactive"===t.status?r.a.createElement("tr",{key:t._id,className:"admin-data-row"},r.a.createElement("td",null,t._id),r.a.createElement("td",null,t.username),r.a.createElement("td",null,t.nickname),r.a.createElement("td",null,t.role),r.a.createElement("td",null,t.status),r.a.createElement("td",null,t.lastLogin),r.a.createElement("td",{className:"actions"},r.a.createElement("button",{onClick:function(){return e.props.changeUserStatus(t,"active")}},"Activate"))):void 0})))))}}]),a}(r.a.Component)),Yt=(a(97),[{_id:1,author:"user1",title:"This is a post",journey:{_id:"asdiqwodn",title:"Journey to Toronto"},publishTime:(new Date).toISOString()},{_id:2,author:"user2",title:"Lorem Lorem Lorem Lorem Lorem Lorem Lorem Lorem Lorem Lorem Lorem Lorem Lorem Lorem Lorem Lorem Lorem Lorem Lorem Lorem Lorem Lorem ",journey:{_id:"asdiqwodn",title:"Journey to Toronto"},publishTime:(new Date).toISOString()}]),Qt=[{_id:"asdn1d2d1d0",username:"user1",nickname:"abc",lastLogin:(new Date).toISOString(),status:"active",role:"client"},{_id:"asdn1asdsd0",username:"user2",nickname:"def",lastLogin:(new Date).toISOString(),status:"inactive",role:"client"}];function Wt(e){return Ht.apply(this,arguments)}function Ht(){return(Ht=Object(u.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=Yt,e.abrupt("return",a);case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function Kt(e){return Zt.apply(this,arguments)}function Zt(){return(Zt=Object(u.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=Qt,e.abrupt("return",a);case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function Xt(e,t){return $t.apply(this,arguments)}function $t(){return($t=Object(u.a)(o.a.mark((function e(t,a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=Qt[0],e.abrupt("return",n);case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function ea(e){return ta.apply(this,arguments)}function ta(){return(ta=Object(u.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=Yt[0],e.abrupt("return",a);case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function aa(){return(aa=Object(u.a)(o.a.mark((function e(t,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ea(a._id);case 3:e.sent&&(alert("Deleted posting ".concat(a._id)),E()),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0),alert(String(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function na(e,t){return ra.apply(this,arguments)}function ra(){return(ra=Object(u.a)(o.a.mark((function e(t,a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("Searching postings",a),e.next=4,Wt(a);case 4:n=e.sent,t.setState({postings:n}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0),alert(String(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function ia(e,t){return sa.apply(this,arguments)}function sa(){return(sa=Object(u.a)(o.a.mark((function e(t,a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("Searching users",a),e.next=4,Kt(a);case 4:n=e.sent,t.setState({users:n}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0),alert(String(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function ca(){return(ca=Object(u.a)(o.a.mark((function e(t,a,n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Xt(a,n);case 3:(r=e.sent)&&("active"===n?alert("Activated user ".concat(r._id)):alert("Inactivated user ".concat(r._id)),E()),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0),alert(String(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var oa=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={users:[],search:""},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){ia(this,{search:this.state.search})}},{key:"render",value:function(){var e=this,t=this.props.currUser;return t&&"admin"===t.role?r.a.createElement("div",{className:"page admin-user-page"},r.a.createElement(Ft,null),r.a.createElement("div",{className:"admin-user-main"},r.a.createElement("div",{className:"table-search"},r.a.createElement("input",{type:"text",className:"table-search-input",name:"search",placeholder:"Search by ID, Username, Name",onChange:function(t){return y(e,t)}}),r.a.createElement("button",{className:"table-search-btn",onClick:function(){return ia(e,{search:e.state.search})}},"Search")),r.a.createElement(Vt,{users:this.state.users,changeUserStatus:function(t){return function(e,t,a){return ca.apply(this,arguments)}(e,t)}}))):r.a.createElement(g.a,{to:"/admin/login"})}}]),a}(r.a.Component),ua=(a(98),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"checkDetailContent",value:function(e){j("/trip/".concat(String(e._id)),!0)}},{key:"render",value:function(){var e=this,t=this.props.postings;return r.a.createElement("div",null,r.a.createElement("table",{className:"admin-post-table admin-table"},r.a.createElement("thead",{className:"admin-table-headerRow"},r.a.createElement("tr",null,r.a.createElement("th",{className:"admin-table-header"},"Post ID"),r.a.createElement("th",{className:"admin-table-header"},"Author"),r.a.createElement("th",{className:"admin-table-header"},"Title"),r.a.createElement("th",{className:"admin-table-header"},"Journey"),r.a.createElement("th",{className:"admin-table-header"},"Publish Time"),r.a.createElement("th",{className:"admin-table-header"}))),r.a.createElement("tbody",null,t.map((function(t){return r.a.createElement("tr",{key:t._id,className:"admin-data-row"},r.a.createElement("td",null,t._id),r.a.createElement("td",null,t.author),r.a.createElement("td",null,t.title),r.a.createElement("td",null,t.journey.title),r.a.createElement("td",null,t.publishTime),r.a.createElement("td",{className:"actions"},r.a.createElement("button",{onClick:function(){return e.props.deletePosting(t)}},"Delete"),r.a.createElement("button",{onClick:function(){return e.checkDetailContent(t)}},"View Content")))})))))}}]),a}(r.a.Component)),la=(a(99),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={postings:[],search:""},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){na(this,{search:this.state.search})}},{key:"render",value:function(){var e=this,t=this.props.currUser;return t&&"admin"===t.role?r.a.createElement("div",{className:"page admin-post-page"},r.a.createElement(Ft,null),r.a.createElement("div",{className:"admin-post-main"},r.a.createElement("div",{className:"table-search"},r.a.createElement("input",{type:"text",className:"table-search-input",name:"search",placeholder:"Search by ID, Title, Content, Author",onChange:function(t){return y(e,t)}}),r.a.createElement("button",{className:"table-search-btn",onClick:function(){return na(e,{search:e.state.search})}},"Search")),r.a.createElement(ua,{postings:this.state.postings,deletePosting:function(t){return function(e,t){return aa.apply(this,arguments)}(e,t)}}))):r.a.createElement(g.a,{to:"/admin/login"})}}]),a}(r.a.Component)),pa=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props,t=e.currUser,a=e.setCurrUser;return r.a.createElement(g.d,null,r.a.createElement(g.b,{exact:!0,path:"/",render:function(e){return r.a.createElement($e,Object.assign({currUser:t,setCurrUser:a},e))}}),r.a.createElement(g.b,{exact:!0,path:"/journey/:jid",render:function(e){return r.a.createElement(ot,Object.assign({currUser:t},e))}}),r.a.createElement(g.b,{exact:!0,path:"/trip/:pid",render:function(e){return r.a.createElement(bt,Object.assign({currUser:t},e))}}),r.a.createElement(g.b,{exact:!0,path:"/new-posting",render:function(e){return r.a.createElement(jt,Object.assign({currUser:t},e))}}),r.a.createElement(g.b,{exact:!0,path:"/edit/:pid",render:function(e){return r.a.createElement(jt,Object.assign({currUser:t},e))}}),r.a.createElement(g.b,{exact:!0,path:"/profile/:uid",render:function(e){return r.a.createElement(qt,Object.assign({currUser:t,setCurrUser:a},e))}}),r.a.createElement(g.b,{exact:!0,path:"/admin/login",render:function(e){return r.a.createElement(Gt,Object.assign({currUser:t,setCurrUser:a},e))}}),r.a.createElement(g.b,{exact:!0,path:"/admin/home",render:function(e){return r.a.createElement(Bt,Object.assign({currUser:t},e))}}),r.a.createElement(g.b,{exact:!0,path:"/admin/users",render:function(e){return r.a.createElement(oa,Object.assign({currUser:t},e))}}),r.a.createElement(g.b,{exact:!0,path:"/admin/postings",render:function(e){return r.a.createElement(la,Object.assign({currUser:t},e))}}),r.a.createElement(g.b,{exact:!0,path:"/admin",render:function(e){return r.a.createElement(Bt,Object.assign({currUser:t},e))}}),r.a.createElement(g.b,{component:function(){return r.a.createElement("h1",null,"Not Found!")}}))}}]),a}(r.a.Component),ma=(a(100),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={currUser:null},e}return Object(p.a)(a,[{key:"setResumeUser",value:function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V();case 2:t=e.sent,this.setState({currUser:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.setResumeUser()}},{key:"render",value:function(){var e=this;return r.a.createElement(h.a,null,r.a.createElement(pa,{currUser:this.state.currUser,setCurrUser:function(t){return function(e,t){console.log("Set Curr User",t),e.setState({currUser:t})}(e,t)}}))}}]),a}(r.a.Component)),da=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,119)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),i(e),s(e)}))};s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ma,null)),document.getElementById("root")),da()}]),[[50,1,2]]]);
//# sourceMappingURL=main.a04ba230.chunk.js.map