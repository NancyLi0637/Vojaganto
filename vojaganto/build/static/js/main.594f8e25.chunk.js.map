{"version":3,"sources":["assets/icons/user.png","assets/icons/home.png","assets/icons/journal.png","actions/index.js","components/Home/PostingCard/index.js","components/Home/PostingCardColumn/index.js","utils/http.js","api/auth/index.js","actions/Auth/index.js","components/LoginRegister/UserRegisterModal/index.js","components/LoginRegister/UserLoginModal/index.js","components/LoginRegister/UserLoginWindow/index.js","api/posting/index.js","actions/Posting/index.js","components/Home/HomeView/index.js","components/Navbar/index.js","components/MapPlugin/Mapp/index.js","pages/Home/index.js","components/Journey/JourneyListPosting/index.js","components/Journey/JourneyList/index.js","actions/Journey/index.js","components/Journey/EditJourneyModal/index.js","components/Journey/JourneyView/index.js","pages/Journey/index.js","components/Posting/PostingView/index.js","api/image/index.js","actions/EditPosting/index.js","pages/ViewPosting/index.js","components/Posting/Editor/index.js","components/Posting/EditPostingView/index.js","pages/EditPosting/index.js","components/Profile/ProfileInfo/index.js","components/Profile/ProfileJourneys/index.js","api/profile/index.js","actions/Profile/index.js","components/Profile/ProfileEditorModal/index.js","components/Journey/CreateJourneyModal/index.js","components/Profile/ProfileView/index.js","pages/Profile/index.js","components/Admin/AdminNav/index.js","pages/AdminPages/AdminHome/index.js","components/Admin/AdminLoginForm/index.js","pages/AdminPages/AdminLogin/index.js","components/Admin/AdminUserTable/index.js","api/admin/index.js","actions/Admin/AdminTable/index.js","pages/AdminPages/AdminUserDash/index.js","components/Admin/AdminPostTable/index.js","pages/AdminPages/AdminPostDash/index.js","router/index.js","App.js","reportWebVitals.js","index.js"],"names":["module","exports","handleInputChange","component","event","target","value","name","setState","reloadPage","window","location","reload","redirectToPage","route","newTab","open","document","href","formatDate","date","Date","toISOString","split","getAvatarUrl","avatar","url","PostingCard","image","posting","this","props","to","String","_id","className","title","src","images","alt","React","Component","PostingCardColumn","state","postingCardColumn","postings","map","idx","key","origin","process","get","a","params","URL","Object","keys","forEach","searchParams","append","fetch","method","mode","headers","response","json","body","post","data","JSON","stringify","put","del","clientLogin","username","password","http","status","adminLogin","clientRegister","logoutUser","resumeSession","console","log","loginUser","length","alert","api","user","error","loginAdmin","role","registerUser","UserRegisterModal","setWarningMessage","warningMessage","submitRegister","handleCloseModal","handleCloseRegisterModal","usernameInput","passwordInput","confirm","confirmInput","nameInput","newUser","undefined","registerModalDisplay","onChange","e","type","placeholder","onClick","UserLogin","submitLogin","setCurrUser","handleOpenRegisterModal","loginModalDisplay","UserLoginWindow","handleOpenModal","action","currUser","UserLoginModal","getHomePostings","getPosting","pid","createPosting","updatePosting","deletePosting","getUserJourneys","uid","getJourney","jid","postJourney","authorId","updateJourney","deleteJourney","getUserPostings","setHomePostingColumns","search","homePostings","postingCardColumns","i","push","HomeView","setSearch","Navbar","icons","Icon","iconUrl","iconSize","Mapp","currLoc","enableAddLocation","newPosting","editing","setCurrLoc","addMarker","allPostings","latitude","latlng","lat","longitude","lng","parent","Map","center","zoom","TileLayer","attribution","allPosting","Marker","position","journey","journeyPostings","icon","Popup","onClose","HomePage","searchPosting","JourneyListPosting","JourneyList","postingList","toString","author","EditJourneyModal","journeyId","display","toggleModal","id","submitJourney","bind","Journey","displayEditModal","toggleEditModal","JourneyPage","match","actions","JourneyView","PostingView","destination","img","paragraph","uploadPostingImage","formData","deletePostingImage","files","imageFile","FormData","uploadedImage","newImages","prevState","index","delImage","result","splice","editedPosting","history","setPostingData","oldPosting","new","userJourneys","ViewPostingPage","Editor","handleChange","EditPostingView","handleImageUpload","submitPosting","handleDeleteImage","handleSelect","multiple","checked","public","EditPostingPage","ProfileInfo","profileInfo","description","ProfileJourneys","fetchProfile","updateProfile","parse","newProfile","journeys","ProfileEditorPrompt","handleAvatarChange","newFile","avatarUrl","createObjectURL","updateProfileInfo","toggleEditProfile","submitProfile","CreateJourneyModal","createJourney","Profile","editProfile","toggleCreateJourney","profileId","ProfilePage","ProfileView","AdminNav","HomeIcon","UserIcon","JournalIcon","AdminHome","AdminLoginForm","login","username_input","password_input","admin","redirect","warning","AdminLogin","AdminUserTable","users","active","lastLogin","changeUserActive","changeUserRole","fetchPostings","fetchUsers","changeUserStatus","getPostings","getUsers","res","AdminUserDash","AdminPostTable","createdTime","checkDetailContent","AdminPostDash","RenderRoutes","exact","path","render","Home","App","setResumeUser","app","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.594f8e25.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAABCUlEQVRIie2UvUoDURSE56RJZaOg4CadWqS2zBMIVvoq+iJ5irBYGUWsLW1Mq53EyoCmVPCzcJRFsz/ITbcDh4W5c2Z277l7pRYpAPSAHFi4zoDdlOZz/mIOZCkCchueA5lrYm6cImBhs6zA9c291PV3mmT4Gf99yWr3r4Hibem5LszlKQL2gOeSIe8k+AbJgx0Dr648mXmL0qMHdCTtSzqQNJS0Lanv5UdJT5JuJF1Kuo2Ij0aJQBc4BWZLTk4ZZsAJ0K0z3wKmhcYHYAQcAgNgzTUwN7LmG3fAZlXAtYX3wBFQ+/cCARy7B+CqSvxu0Xqd8ZLeDfe+Ffn4JUIJEBE/vk0uuxarxSe6SXpYzUyecQAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAA7klEQVRIie3TMS5EURTG8blippFoJNQKumlYARVbmE1IptHagj1Yg4p2FGxAQUWiJDRT8NOcxM2Lca/nTSF8yW3O/b7/yXnv3F7vTwljjOcBTjjyoWMsdAUf4CTA0ziiNvgpfAmnAXzGHnbwGLVzLLeFr+AiQA/Yyu6GuIu7K6x9F76O6wDcYKPgucVmLXyI+wheYrUw5SSbcrsE38VTBM5qvm/jP71gf5ZxlG0I9EvwLNvPclOMmoYDvGYmtfCMkesNh18a2zZo1hdrw5/VU0qplO3muXfVIIXm1qCNfn+DmVtUs6o1nrlP8K+i3gEPe1OF6G2zpAAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABmJLR0QA/wD/AP+gvaeTAAABlklEQVRoge2ZMUsDMRiG3xOhaBUUHAQX1xZB/BlOBcFJkE5dBBf/jKO/wM1NnRVE3Dq4KP4Ei4PL49Ag6eGl1zsSvyEPlJD7muR92vQOGilji2LeG4COpJGkE0l7krqxQ4UoiuLPzMuhQcCOpBtJ+zFCJQHoAC9MGQMDYD3iegA0rYcmPvckNlqlrLdeNJFHN3bQKmH99aKJfLqx0bZTab1oIs0GNqStyFKcWOnJItbIItbIItbIItbIItbIItbIItbIItbIItbIItbIItbIItbIItYIHvRIErAm6UzSsaSepNWYgZr+31x59OZN+CZpt8nkMag6equEWR6AQ2ArUr54eBK3wNwtaBZPpBeqzxsfL2FNgG+XpVNRNyUSuv2+u/YgRZC2hESuXXsJrKQIEwVgE/hwO2QMHAHbXt3U1goC9IBX/z7s1X77QB94cq9+ue7329JGpgtcMD13n/wRbAhMvP7EXUsqsthTclawPOmVa4czCyz6JE6N9yF9ASPv+qn/Df1nxloA98Az7jdRqvVd7S5Vnh8A5lk64ewAzwAAAABJRU5ErkJggg==\"","\r\n/**\r\n* Handle setState when an input event occurs. \r\n* @param {React.Component} component \r\n* @param {Event} event \r\n*/\r\nexport function handleInputChange(component, event) {\r\n    // From course demo\r\n    const target = event.target;\r\n    const value = target.value;\r\n    const name = target.name;\r\n\r\n    component.setState({ [name]: value });\r\n\r\n    // console.log(\"handleInputChange\", {[name]: value})\r\n}\r\n\r\n\r\nexport function reloadPage() {\r\n    window.location.reload(false);\r\n}\r\n\r\nexport function redirectToPage(route = \"/\", newTab) {\r\n    if (newTab){\r\n        window.open(route, '_blank')\r\n    } else {\r\n        document.location.href = route\r\n    }\r\n}\r\n\r\n\r\nexport const formatDate = (date) => date ?  new Date(date).toISOString().split('T')[0] : \"\"\r\n\r\nexport const getAvatarUrl = (avatar) => (avatar) ? avatar.url : \"https://thumbor.forbes.com/thumbor/960x0/https%3A%2F%2Fspecials-images.forbesimg.com%2Fdam%2Fimageserve%2F1171238184%2F960x0.jpg%3Ffit%3Dscale\"\r\n\r\nexport const getImageUrl = (image) => (image) ? image.url : \"https://merriam-webster.com/assets/mw/images/article/art-wap-article-main/gray-background-7131-98db5e6ffc4972baa4087760291cbc3e@1x.jpg\"\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport \"./style.scss\";\r\n\r\nimport { getImageUrl, formatDate } from \"actions\"\r\n\r\n\r\nclass PostingCard extends React.Component {\r\n    render() {\r\n        const posting = this.props.posting\r\n\r\n        return (\r\n            <Link to={\"/trip/\" + String(posting._id)}>\r\n                <div className=\"posting-card\">\r\n                    <div className='posting-info-container'>\r\n                        <h3 className=\"posting-info posting-title\">{posting.title}</h3>\r\n                        <div className=\"posting-info posting-date\">{formatDate(posting.date)}</div>\r\n                    </div>\r\n\r\n                    <img\r\n                        className=\"posting-cover\"\r\n                        src={getImageUrl(posting.images[0])}\r\n                        alt=\"\"\r\n                    />\r\n                </div>\r\n            </Link>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default PostingCard;\r\n\r\n","import React from 'react';\r\nimport PostingCard from 'components/Home/PostingCard';\r\n\r\nclass PostingCardColumn extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            postingCardColumn: this.props.postingCardColumn,\r\n        };\r\n    }\r\n    render(){\r\n        return(\r\n            <div className=\"posting-card-column-page\">\r\n                {this.state.postingCardColumn.postings.map((posting, idx) => (\r\n                    <PostingCard key={idx} posting={posting}/>\r\n                ))}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default PostingCardColumn;","const origin = process.env.REACT_APP_ORIGIN || window.location.protocol + \"//\" + window.location.host\r\n\r\nasync function get(route, params = {}) {\r\n  const url = new URL(origin + route)\r\n\r\n  // Append query params to url\r\n  Object.keys(params).forEach(key => url.searchParams.append(key, params[key]))\r\n  // console.log(\"GET\", url)\r\n\r\n  const response = await fetch(url, {\r\n    method: 'GET',\r\n    mode: 'cors',\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n  })\r\n\r\n  return { response, body: await response.json() }\r\n}\r\n\r\nasync function post(route, data = {}) {\r\n  const url = new URL(origin + route)\r\n\r\n  try {\r\n    const response = await fetch(url, {\r\n      method: 'POST',\r\n      mode: 'cors',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(data)\r\n    })\r\n\r\n    return { response, body: await response.json() }\r\n  } catch (error) {\r\n    throw error\r\n  }\r\n}\r\n\r\nasync function put(route, data = {}) {\r\n  const url = new URL(origin + route)\r\n\r\n  const response = await fetch(url, {\r\n    method: 'PUT',\r\n    mode: 'cors',\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify(data)\r\n  })\r\n\r\n  return { response, body: await response.json() }\r\n}\r\n\r\nasync function del(route, data = {}) {\r\n  const url = new URL(origin + route)\r\n\r\n  const response = await fetch(url, {\r\n    method: 'DELETE',\r\n    mode: 'cors',\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify(data)\r\n  })\r\n\r\n  return { response, body: await response.json() }\r\n}\r\n\r\nexport { get, post, put, del };","import * as http from \"utils/http\"\r\n\r\nexport async function clientLogin(username, password) {\r\n    try {\r\n        const { response, body } = await http.post(\"/api/user/login\", { username, password })\r\n        if (response.status === 200) {\r\n            return body\r\n        } else {\r\n            return null\r\n        }\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n}\r\n\r\nexport async function adminLogin(username, password) {\r\n    try {\r\n        const { response, body } = await http.post(\"/api/user/login\", { username, password })\r\n        if (response.status === 200) {\r\n            return body\r\n        } else {\r\n            return null\r\n        }\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n}\r\n\r\n\r\nexport async function clientRegister(username, password, name) {\r\n    try {\r\n        const { response, body } = await http.post(\"/api/user\", { username, password, name })\r\n        if (response.status === 200) {\r\n            return body\r\n        } else {\r\n            return null\r\n        }\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n}\r\n\r\n\r\nexport async function logoutUser() {\r\n    try {\r\n        const { response } = await http.put(\"/api/user/logout\")\r\n        if (response.status === 200) {\r\n            return true\r\n        } else {\r\n            return false\r\n        }\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n}\r\n\r\nexport async function resumeSession() {\r\n    try {\r\n        const { response, body } = await http.get(\"/api/user/session/resume\")\r\n        if (response.status === 200) {\r\n            console.log(\"Resuming session\", response)\r\n            return body\r\n        } else {\r\n            return null\r\n        }\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n}\r\n","import * as api from \"api/auth\"\r\n\r\nexport function setCurrUser(app, newUser) {\r\n    console.log(\"Set Curr User\", newUser)\r\n    app.setState({ currUser: newUser })\r\n}\r\n\r\nexport async function loginUser(username, password) {\r\n    try {\r\n        if (username.length < 1 || password.length < 1){\r\n            alert(\"Please enter username and password\")\r\n            return null\r\n        }\r\n        \r\n        const user = await api.clientLogin(username, password)\r\n\r\n        if (!user) {\r\n            alert(\"Invalid Credentials\")\r\n            return null\r\n        } else {\r\n            return user\r\n        }\r\n\r\n    } catch (err) {\r\n        console.error(err)\r\n        alert(String(err))\r\n        return null\r\n    }\r\n}\r\n\r\nexport async function loginAdmin(username, password) {\r\n    try {\r\n        if (username.length < 1 || password.length < 1){\r\n            alert(\"Please enter username and password\")\r\n            return null\r\n        }\r\n        \r\n        const user = await api.adminLogin(username, password)\r\n\r\n        if (!user) {\r\n            alert(\"Invalid Credentials\")\r\n            return null\r\n        } else if (user.role !== \"admin\") {\r\n            alert(\"Permission denied\")\r\n            return null\r\n        } else if (user.role === \"admin\") {\r\n            return user\r\n        }\r\n\r\n    } catch (err) {\r\n        console.error(err)\r\n        alert(String(err))\r\n        return null\r\n    }\r\n}\r\n\r\n\r\nexport async function registerUser(username, password, name) {\r\n    try {\r\n        if (username.length < 1 || password.length < 1){\r\n            alert(\"Please enter username and password\")\r\n            return null\r\n        }\r\n        \r\n        const user = await api.clientRegister(username, password, name)\r\n\r\n        if (!user) {\r\n            alert(\"Username already exists\")\r\n            return null\r\n        } else {\r\n            return user\r\n        }\r\n\r\n    } catch (err) {\r\n        console.error(err)\r\n        alert(String(err))\r\n        return null\r\n    }\r\n}\r\n\r\n\r\nexport async function resumeSession() {\r\n    try {       \r\n        const user = await api.resumeSession()\r\n\r\n        if (!user) {\r\n            return null\r\n        } else {\r\n            return user\r\n        }\r\n    } catch (err) {\r\n        console.error(err)\r\n        // alert(String(err))\r\n        return null\r\n    }\r\n}\r\n\r\nexport async function logoutUser() {\r\n    try {       \r\n        await api.logoutUser()\r\n        return null\r\n    } catch (err) {\r\n        console.error(err)\r\n        alert(String(err))\r\n        return null\r\n    }\r\n}","import React from 'react';\r\nimport \"./style.scss\";\r\n\r\nimport { handleInputChange } from \"actions\"\r\nimport { registerUser } from 'actions/Auth';\r\n\r\nclass UserRegisterModal extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            usernameInput: \"\",\r\n            passwordInput: \"\",\r\n            confirmInput: \"\",\r\n            nameInput: \"\",\r\n            warningMessage: undefined,\r\n        }\r\n    }\r\n\r\n    setWarningMessage = warningMessage => {\r\n        this.setState({ warningMessage })\r\n    }\r\n\r\n    submitRegister = async () => {\r\n        const { handleCloseModal, handleCloseRegisterModal } = this.props\r\n\r\n        const username = this.state.usernameInput\r\n        const password = this.state.passwordInput\r\n        const confirm = this.state.confirmInput\r\n        const name = this.state.nameInput\r\n\r\n        if (confirm !== password) {\r\n            this.setWarningMessage(\"Password does not match!\")\r\n            return\r\n        }\r\n\r\n        if (username.length < 1 || password.length < 1 || name.length < 1) {\r\n            this.setWarningMessage(\"Fields cannot be empty!\")\r\n            return\r\n        }\r\n\r\n        const newUser = await registerUser(username, password, name)\r\n\r\n        if (!newUser) {\r\n            this.setWarningMessage(\"User already exists!\")\r\n        } else {\r\n            // Correct credential, register user\r\n            // handleCloseModal()\r\n            alert(`Successfully registered ${newUser.username}! You can login now.`)\r\n            handleCloseRegisterModal()\r\n        }\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.registerModalDisplay) {\r\n            return null\r\n        }\r\n\r\n        return (\r\n            <div className=\"user-register-modal\">\r\n                <form className=\"user-register-form\">\r\n                    <h2 className=\"register-title\">Register</h2>\r\n                    <div className=\"user-register-input\">\r\n                        <span>Username</span>\r\n                        <input\r\n                            value={this.state.usernameInput}\r\n                            onChange={(e) => handleInputChange(this, e)}\r\n                            type=\"text\"\r\n                            name=\"usernameInput\"\r\n                            placeholder=\"Username\"\r\n                        />\r\n                    </div>\r\n                    <div className=\"user-register-input\">\r\n                        <span>Password</span>\r\n                        <input\r\n                            value={this.state.passwordInput}\r\n                            onChange={(e) => handleInputChange(this, e)}\r\n                            type=\"password\"\r\n                            name=\"passwordInput\"\r\n                            placeholder=\"Password\"\r\n                        />\r\n                    </div>\r\n                    <div className=\"user-register-input\">\r\n                        <span>Confirm password</span>\r\n                        <input\r\n                            value={this.state.confirmInput}\r\n                            onChange={(e) => handleInputChange(this, e)}\r\n                            type=\"password\"\r\n                            name=\"confirmInput\"\r\n                            placeholder=\"Confirm Password\"\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"user-register-input\">\r\n                        <span>Nickname</span>\r\n                        <input\r\n                            value={this.state.nameInput}\r\n                            onChange={(e) => handleInputChange(this, e)}\r\n                            type=\"text\"\r\n                            name=\"nameInput\"\r\n                            placeholder=\"Name\"\r\n                        />\r\n                    </div>\r\n\r\n\r\n                    {\r\n                        this.state.warningMessage ?\r\n                            <div className=\"user-register-warning\">\r\n                                {this.state.warningMessage}\r\n                            </div> :\r\n                            null\r\n                    }\r\n\r\n\r\n                    <div>\r\n                        <button type=\"button\" className='register-submit-button' onClick={this.props.handleCloseRegisterModal}>\r\n                            Cancel\r\n                        </button>\r\n\r\n                        <button type=\"button\" className='register-submit-button' onClick={this.submitRegister}>\r\n                            Register\r\n                        </button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default UserRegisterModal","import React from 'react';\r\nimport UserRegisterModal from '../UserRegisterModal';\r\nimport { loginUser } from 'actions/Auth';\r\nimport \"./style.scss\";\r\n\r\nclass UserLogin extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            usernameInput: \"\",\r\n            passwordInput: \"\",\r\n            warningMessage: undefined,\r\n            registerModalDisplay: false,\r\n        }\r\n    }\r\n\r\n    handleInputChange = e => {\r\n        const target = e.target;\r\n        const value = target.value;\r\n        const name = target.name;\r\n\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    };\r\n\r\n    setWarningMessage = warningMessage => {\r\n        this.setState({ warningMessage })\r\n    }\r\n\r\n    submitLogin = async () => {\r\n        const { setCurrUser, handleCloseModal } = this.props\r\n\r\n        const username = this.state.usernameInput\r\n        const password = this.state.passwordInput\r\n        \r\n        const user = await loginUser(username, password)\r\n        if (user) {\r\n            // Correct credential, login user\r\n            setCurrUser(user)\r\n            handleCloseModal()\r\n        } else {\r\n            this.setWarningMessage(\"Login Failed\")\r\n        }\r\n    }\r\n\r\n    handleOpenRegisterModal = () => {\r\n        this.setState({registerModalDisplay: true});\r\n    }\r\n\r\n    handleCloseRegisterModal = () => {\r\n        this.setState({registerModalDisplay: false});\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.loginModalDisplay) {\r\n            return null\r\n        }\r\n\r\n        return (\r\n            <div className=\"user-login-modal\">\r\n                <form className=\"user-login-form\">\r\n                    <h2 className=\"login-title\">Login</h2>\r\n                    <div className=\"user-login-input\">\r\n                        <span>Username</span>\r\n                        <input\r\n                            value={this.state.usernameInput}\r\n                            onChange={this.handleInputChange}\r\n                            type=\"text\"\r\n                            name=\"usernameInput\"\r\n                            placeholder=\"Username\"\r\n                        />\r\n                    </div>\r\n                    <div className=\"user-login-input\">\r\n                        <span>Password</span>\r\n                        <input\r\n                            value={this.state.passwordInput}\r\n                            onChange={this.handleInputChange}\r\n                            type=\"password\"\r\n                            name=\"passwordInput\"\r\n                            placeholder=\"Password\"\r\n                        />\r\n                    </div>\r\n                    <div className=\"register-message\">\r\n                        <u className=\"message\" onClick={this.handleOpenRegisterModal}>Click here to register</u>\r\n\r\n                        <UserRegisterModal\r\n                            registerModalDisplay={this.state.registerModalDisplay}\r\n                            handleCloseModal={this.props.handleCloseModal}\r\n                            handleCloseRegisterModal={this.handleCloseRegisterModal}\r\n                        />\r\n                    </div>\r\n\r\n                    {\r\n                        this.state.warningMessage ?\r\n                            <div className=\"user-login-warning\">\r\n                                { this.state.warningMessage }\r\n                            </div> :\r\n                            null\r\n                    }\r\n\r\n\r\n                    <div>\r\n                        <button type=\"button\" className='login-submit-button' onClick={this.props.handleCloseModal}>\r\n                            Cancel\r\n                        </button>\r\n\r\n                        <button type=\"button\" className='login-submit-button' onClick={this.submitLogin}>\r\n                            Login\r\n                        </button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default UserLogin","import React from 'react';\r\n\r\nimport UserLoginModal from 'components/LoginRegister/UserLoginModal';\r\nimport * as action from \"actions/Auth\"\r\n\r\nimport './style.scss';\r\n\r\nclass UserLoginWindow extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            loginModalDisplay: false,\r\n        };\r\n    }\r\n\r\n    handleOpenModal = () => {\r\n        this.setState({ loginModalDisplay: true });\r\n    }\r\n\r\n    handleCloseModal = () => {\r\n        this.setState({ loginModalDisplay: false });\r\n    }\r\n\r\n    logoutUser = () => {\r\n        this.props.setCurrUser(null)\r\n        action.logoutUser()\r\n    }\r\n\r\n    render() {\r\n        const { currUser, setCurrUser } = this.props\r\n        if (currUser) {\r\n            // If already login as a user\r\n            return (\r\n                <div className=\"login\">\r\n                    <button type=\"button\" className=\"login-button\" onClick={this.logoutUser}>LOGOUT</button>\r\n                </div>\r\n            )\r\n        }\r\n        \r\n        // if not logged in\r\n        return (\r\n            <div className=\"login\">\r\n                <button className='login-button' onClick={this.handleOpenModal}>\r\n                    LOGIN | REGISTER\r\n                </button>\r\n\r\n\r\n                <UserLoginModal\r\n                    loginModalDisplay={this.state.loginModalDisplay}\r\n                    handleCloseModal={this.handleCloseModal}\r\n\r\n                    currUser={currUser}\r\n                    setCurrUser={setCurrUser}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default UserLoginWindow;","import * as http from \"utils/http\"\r\n\r\n\r\n//*********************************  HOME PAGE ************************************//\r\n/**\r\n * Get postings for the home page\r\n */\r\nasync function getHomePostings(params) {\r\n    try {\r\n        const { response, body } = await http.get(`/api/posting`, params)\r\n        if (response.status === 200) {\r\n            return body\r\n        } else {\r\n            return null\r\n        }\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n}\r\n\r\n//*********************************  POSTING PAGE ************************************//\r\n/**\r\n * Get the data of a posting, including author and journey. For view and edit posting.\r\n * @param {*} pid \r\n * @returns \r\n */\r\nasync function getPosting(pid) {\r\n    try {\r\n        const { response, body } = await http.get(`/api/posting/${pid}`)\r\n        if (response.status === 200) {\r\n            return body\r\n        } else {\r\n            return null\r\n        }\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n}\r\n\r\n//*********************************  EDIT POSTING ************************************//\r\n/**\r\n * Create a posting.\r\n * @param {*} data \r\n * @returns \r\n */\r\nasync function createPosting(data) {\r\n    try {\r\n        console.log(\"Posting \", data)\r\n        const { response, body } = await http.post('/api/posting', data)\r\n        if (response.status === 200) {\r\n            return body\r\n        } else {\r\n            return null\r\n        }\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n}\r\n\r\n/**\r\n * Edit a posting.\r\n * @param {*} pid \r\n * @param {*} data \r\n * @returns \r\n */\r\nasync function updatePosting(pid, data) {\r\n    try {\r\n        const { response, body } = await http.put(`/api/posting/${pid}`, data)\r\n        if (response.status === 200) {\r\n            return body\r\n        } else {\r\n            return null\r\n        }\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n}\r\n\r\n/**\r\n * Delete a posting. If the journey is empty, delete the journey.\r\n * @param {*} pid \r\n * @returns \r\n */\r\nasync function deletePosting(pid) {\r\n    try {\r\n        const { response, body } = await http.del(`/api/posting/${pid}`)\r\n        if (response.status === 200) {\r\n            return body\r\n        } else {\r\n            return null\r\n        }\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n}\r\n\r\n\r\n//*********************************  PROFILE PAGE ************************************//\r\n/**\r\n * Get a list of journeys of the user, with meta-information \r\n * about the trips of each journey, for posting-edit.\r\n * @param {*} uid \r\n * @returns \r\n */\r\nasync function getUserJourneys(uid) {\r\n    try {\r\n        const { response, body } = await http.get(`/api/user/${uid}/journey`)\r\n        if (response.status === 200) {\r\n            return body\r\n        } else {\r\n            return null\r\n        }\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n}\r\n\r\n//*********************************  JOURNET PAGE ************************************//\r\n/**\r\n * Get a journey and its postings\r\n * @param {*} jid \r\n * @returns \r\n */\r\nasync function getJourney(jid) {\r\n    try {\r\n        const { response, body } = await http.get(`/api/journey/${jid}`)\r\n        if (response.status === 200) {\r\n            console.log(\"journey\", body)\r\n            return body\r\n        } else {\r\n            return null\r\n        }\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * Create a journey\r\n * @param {*} body \r\n * @returns \r\n */\r\nexport async function postJourney(authorId, data) {\r\n    try {\r\n        const { response, body } = await http.post(`/api/user/${String(authorId)}/journey`, data)\r\n        if (response.status === 200) {\r\n            return body\r\n        } else {\r\n            return null\r\n        }\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n}\r\n\r\n/**\r\n * Update a journey\r\n * @param {*} body \r\n * @returns \r\n */\r\nexport async function updateJourney(jid, data) {\r\n    try {\r\n        const { response, body } = await http.put(`/api/journey/${String(jid)}`, data)\r\n        if (response.status === 200) {\r\n            return body\r\n        } else {\r\n            return null\r\n        }\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n}\r\n\r\n/**\r\n * Delete a journey\r\n * @param {*} body \r\n * @returns \r\n */\r\nexport async function deleteJourney(jid) {\r\n    try {\r\n        const { response, body } = await http.del(`/api/journey/${String(jid)}`)\r\n        if (response.status === 200) {\r\n            return body\r\n        } else {\r\n            return null\r\n        }\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n}\r\n\r\n/**\r\n * Return users trips and journeys, for the profile page\r\n * @param {*} uid \r\n * @returns \r\n */\r\nasync function getUserPostings(uid) {\r\n    try {\r\n        const { response, body } = await http.get(`/api/user/${uid}/posting`)\r\n        if (response.status === 200) {\r\n            return body\r\n        } else {\r\n            return null\r\n        }\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n}\r\n\r\n\r\nexport {\r\n    getHomePostings,\r\n    getPosting,\r\n    createPosting,\r\n    updatePosting,\r\n    deletePosting,\r\n    getUserJourneys,\r\n    getJourney,\r\n    getUserPostings\r\n}","\r\nimport * as api from \"api/posting\"\r\n\r\nexport async function setHomePostingColumns(component, search) {\r\n    try {\r\n        console.log(\"Searching for\", search)\r\n        const homePostings = await api.getHomePostings({ search })\r\n        if (homePostings) {\r\n            console.log(homePostings)\r\n            const postingCardColumns = [{ postings: [] }, { postings: [] }, { postings: [] }]\r\n\r\n            // Add postings to three columns\r\n            homePostings.forEach((posting, i) => {\r\n                postingCardColumns[i % 3].postings.push(posting)\r\n            })\r\n\r\n            component.setState({ postingCardColumns })\r\n        }\r\n    } catch (err) {\r\n        alert(String(err))\r\n    }\r\n}","import React from 'react';\r\n\r\nimport PostingCardColumn from \"components/Home/PostingCardColumn\";\r\n\r\nimport UserLoginWindow from 'components/LoginRegister/UserLoginWindow';\r\n\r\nimport \"./style.scss\";\r\n\r\nimport { handleInputChange } from 'actions';\r\nimport { setHomePostingColumns } from 'actions/Posting'\r\n\r\nclass HomeView extends React.Component {\r\n    state = {\r\n        // postingCardColumns: this.props.postingCardColumns,\r\n        search: \"\"\r\n    }\r\n\r\n    // componentDidMount() {\r\n    //     // TODO: UpdatePostingCardColumns\r\n    //     setHomePostingColumns(this, this.state.search)\r\n    // }\r\n\r\n    render() {\r\n        const { currUser, setCurrUser, postingCardColumns, setSearch } = this.props\r\n        return (\r\n            <div className=\"home-view\">\r\n                <div className=\"web-header\">\r\n                    <h1 className=\"web-title\">\r\n                        Vojaanto\r\n                    </h1>\r\n\r\n                    <div className=\"home-search\">\r\n                        <input type=\"text\" className=\"home-search-input\" name=\"search\" placeholder=\"Search for trips!\" onChange={(e) => handleInputChange(this, e)} />\r\n                        <button className=\"home-search-btn\" onClick={() => setSearch(this.state.search)}>Search</button>\r\n\r\n                    </div>\r\n\r\n                    <UserLoginWindow\r\n                        currUser={currUser}\r\n                        setCurrUser={setCurrUser}\r\n                    />\r\n                </div>\r\n\r\n                <div className=\"posting-card-columns\">\r\n                    {postingCardColumns.map((postingCardColumn, idx) => (\r\n                        <PostingCardColumn key={idx} postingCardColumn={postingCardColumn} />\r\n                    ))}\r\n                </div>\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default HomeView;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport \"./nav.scss\";\r\n\r\nimport CreateIcon from '@material-ui/icons/Create';\r\n\r\nclass Navbar extends React.Component {\r\n\r\n    render() {\r\n        const { currUser } = this.props\r\n        \r\n        return (\r\n            <div className=\"navbar\">\r\n                <div className=\"navbar-main\">\r\n                    <Link className=\"nav-item\" to=\"/\">\r\n                        HOME\r\n                    </Link>\r\n                    {\r\n                        currUser ?\r\n                            <Link className=\"nav-item\" to={`/profile/${String(currUser._id)}`}>\r\n                                PROFILE\r\n                            </Link>\r\n                            : null\r\n                    }\r\n\r\n                </div>\r\n                {\r\n                    currUser ?\r\n                        <div className=\"navbar-edit\">\r\n                            <Link className=\"nav-item to-edit\" to=\"/new-posting\">\r\n                                <CreateIcon />\r\n                            </Link>\r\n                        </div>\r\n                        : null\r\n                }\r\n\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nexport default Navbar;","import React from 'react';\r\nimport { Map, TileLayer, Marker, Popup } from 'react-leaflet';\r\nimport { Icon } from \"leaflet\";\r\n//import map from \"./map.png\";\r\n//import LocationMarker from \"components/MapPlugin/LocationMarker\";\r\nimport { formatDate } from 'actions';\r\n\r\nimport \"./style.scss\";\r\n\r\nexport const icons = [\r\n    new Icon({\r\n        iconUrl: \"https://upload.wikimedia.org/wikipedia/commons/thumb/f/fb/Map_pin_icon_green.svg/800px-Map_pin_icon_green.svg.png\",\r\n        iconSize: [25, 40]\r\n    }),\r\n    new Icon({\r\n        iconUrl: \"https://www.clipartmax.com/png/full/86-869339_yellow-map-marker-png.png\",\r\n        iconSize: [25, 40]\r\n    }),\r\n    new Icon({\r\n        iconUrl: \"http://www.clker.com/cliparts/1/K/0/V/P/H/map-pin-pink.svg.hi.png\",\r\n        iconSize: [25, 40]\r\n    }),\r\n];\r\n\r\n\r\nclass Mapp extends React.Component {\r\n    state = {\r\n        currLoc: null,\r\n        enableAddLocation: false,\r\n        newPosting: null,\r\n        editing: false\r\n    }\r\n\r\n    setCurrLoc = (location) => {\r\n        console.log(location)\r\n        this.setState({ currLoc: location });\r\n        // console.log(\"after\")\r\n    }\r\n\r\n    addMarker = (event, enableAddLocation, allPostings) => {\r\n        if (enableAddLocation) {\r\n            console.log(\"enabled\")\r\n            allPostings.latitude = event.latlng.lat\r\n            allPostings.longitude = event.latlng.lng\r\n            this.setState({ newPosting: allPostings, editing: true })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { parent, allPostings, enableAddLocation } = this.props\r\n        const { newPosting } = this.state\r\n\r\n        return (\r\n            <Map center={[43.662891, -79.395653]} zoom={12}\r\n                onClick={(e) => { this.addMarker(e, enableAddLocation, allPostings); }}>\r\n                <TileLayer\r\n                    url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n                    attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n                />\r\n\r\n                {/* <div classname='location'>\r\n                    <button classname='location-button'>Toronto, ON,</button>\r\n                </div> */}\r\n\r\n                {/* Marker for Home page */}\r\n                {parent === \"Home\" && allPostings.map(allPosting => (\r\n                    allPosting.postings.map(posting => (\r\n                        <Marker\r\n                            key={posting._id}\r\n                            position={[posting.latitude, posting.longitude]}\r\n                            onClick={() => {\r\n                                this.setCurrLoc(posting)\r\n                            }}\r\n                        />\r\n                    ))\r\n                ))}\r\n\r\n                {/* Marker for ViewPosting page or EditingPosting if posting exists*/}\r\n                {(parent === \"ViewPosting\" || (parent === \"EditPosting\" && !this.state.editing)) && (\r\n                    <Marker\r\n                        key={allPostings._id}\r\n                        position={[\r\n                            allPostings.latitude,\r\n                            allPostings.longitude\r\n                        ]}\r\n                        onClick={() => {\r\n                            this.setCurrLoc(allPostings);\r\n                        }}\r\n                    />\r\n                )}\r\n\r\n                {/* Marker for Profile page */}\r\n                {parent === \"Profile\" && Object.keys(allPostings).map((journey, i) => (\r\n                    allPostings[journey].journeyPostings.map(posting => (\r\n                        <Marker\r\n                            key={posting._id}\r\n                            position={[posting.latitude, posting.longitude]}\r\n                            onClick={() => {\r\n                                this.setCurrLoc(posting)\r\n                            }}\r\n                            // FIXME: don't know how to loop index\r\n                            icon={icons[i % icons.length]}\r\n                        />\r\n                    ))\r\n                ))}\r\n\r\n                {/* Marker for Journey Page */}\r\n                {parent === \"JourneyPosting\" && allPostings.map(posting => (\r\n                    <Marker\r\n                        key={posting._id}\r\n                        position={[\r\n                            posting.latitude,\r\n                            posting.longitude\r\n                        ]}\r\n                        onClick={() => {\r\n                            this.setCurrLoc(posting);\r\n                        }}\r\n                    />\r\n                ))}\r\n\r\n                {/* Add Marker for new location during editing */}\r\n                {this.state.newPosting && (\r\n                    <Marker\r\n                        key={newPosting._id}\r\n                        position={[\r\n                            newPosting.latitude,\r\n                            newPosting.longitude\r\n                        ]}\r\n                        onClick={() => {\r\n                            this.setCurrLoc(newPosting)\r\n                        }}\r\n                    />\r\n                )}\r\n\r\n                {this.state.currLoc && (\r\n                    <Popup\r\n                        position={[\r\n                            this.state.currLoc.latitude,\r\n                            this.state.currLoc.longitude\r\n                        ]}\r\n                        onClose={() => {\r\n                            this.setCurrLoc(null);\r\n                        }}\r\n                    >\r\n                        <div>\r\n                            <h2>{this.state.currLoc.title}</h2>\r\n                            <p>{formatDate(this.state.currLoc.date)}</p>\r\n                        </div>\r\n\r\n                    </Popup>\r\n                )}\r\n\r\n            </Map>\r\n        )\r\n\r\n    }\r\n\r\n}\r\n\r\nexport default Mapp;","import React from 'react';\r\nimport HomeView from \"components/Home/HomeView\";\r\nimport Navbar from \"components/Navbar\";\r\nimport Map from \"components/MapPlugin/Mapp\";\r\nimport * as action from \"actions/Posting\"\r\n//import { setHomePostingColumns } from 'actions/Posting'\r\n\r\nimport \"./style.scss\";\r\n\r\nclass HomePage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            postingCardColumns: [],\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        // TODO: UpdatePostingCardColumns\r\n        action.setHomePostingColumns(this, \"\")\r\n    }\r\n\r\n    searchPosting(search) {\r\n        console.log(\"page receive search\", search)\r\n        action.setHomePostingColumns(this, search)\r\n    }\r\n\r\n    render() {\r\n        const { currUser, setCurrUser } = this.props\r\n        return (\r\n            <div className=\"page home-page\">\r\n                <div className=\"main-view home-main\">\r\n                    {this.state.postingCardColumns ?\r\n                        <HomeView\r\n                            postingCardColumns={this.state.postingCardColumns}\r\n                            currUser={currUser}\r\n                            setCurrUser={setCurrUser}\r\n                            setSearch={(search) => { this.searchPosting(search) }}\r\n                        />\r\n\r\n                        : <div className=\"posting-placeholder\">Loading Posting</div>\r\n                    }\r\n\r\n                    {/* <HomeView\r\n                        currUser={currUser}\r\n                        setCurrUser={setCurrUser}\r\n                        //postingCardColumns={this.state.postingCardColumns}\r\n                        setPostingCardColumns={this.setPostingCardColumns}\r\n\r\n                    /> */}\r\n\r\n                    <Navbar currUser={currUser} />\r\n                </div>\r\n\r\n                <div className=\"map-view home-map\">\r\n                    {this.state.postingCardColumns ?\r\n                        <Map parent=\"Home\" allPostings={this.state.postingCardColumns}\r\n                        />\r\n                        : <div className=\"posting-placeholder\">Loading Map</div>\r\n                    }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default HomePage;","import React from \"react\";\r\n\r\nimport \"./journeylistposting.scss\";\r\nimport { getAvatarUrl, formatDate, getImageUrl } from \"actions\"\r\n\r\n\r\nclass JourneyListPosting extends React.Component {\r\n  render() {\r\n    const posting = this.props.posting;\r\n    return (\r\n      <div className=\"journey-list-posting\">\r\n        <div className=\"journey-list-posting-text\">\r\n          <h3 className=\"journey-posting-date\">\r\n            {formatDate(posting.date)}\r\n          </h3>\r\n          <h4\r\n            className=\"journey-posting-title\"\r\n          >\r\n            {posting.title}\r\n          </h4>\r\n          <p className=\"journey-posting-body\">{posting.body}</p>\r\n        </div>\r\n        <div className=\"journey-list-posting-image-container\">\r\n          {\r\n            posting.images.length > 0 &&\r\n              <img\r\n                className=\"journey-list-posting-image\"\r\n                src={posting.images[0] && posting.images[0].url}\r\n                alt=\"journey\"\r\n              />\r\n          }\r\n        </div>\r\n\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default JourneyListPosting;\r\n","import React from \"react\";\r\n\r\nimport JourneyListPosting from \"components/Journey/JourneyListPosting\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./JourneyList.scss\";\r\n\r\nclass JourneyList extends React.Component {\r\n  render() {\r\n    const postingList = this.props.postingList;\r\n    return (\r\n      <div className=\"posting-list-page\">\r\n        {postingList.map((posting, idx) => (\r\n          <Link\r\n            key={idx}\r\n            className=\"journey-posting-link\"\r\n            to={\"/trip/\" + posting._id.toString()}\r\n          >\r\n            <JourneyListPosting\r\n              key={posting._id}\r\n              posting={posting}\r\n            />\r\n          </Link>\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default JourneyList;\r\n","import { redirectToPage, reloadPage } from \"actions\"\r\nimport * as api from \"api/posting\"\r\n\r\nexport async function setJourney(component, jid) {\r\n    try {\r\n        const journey = await api.getJourney(jid)\r\n        console.log(`Get journey ${jid}`, journey)\r\n        if (journey) {\r\n            component.setState({ ...journey })\r\n        }\r\n    } catch (err) {\r\n        console.error(err)\r\n        alert(String(err))\r\n    }\r\n\r\n}\r\n\r\nexport async function createJourney(component, body) {\r\n    try {\r\n        console.log(\"Submit journey\", body)\r\n        const journey = await api.postJourney(body.author._id, { title: body.title })\r\n        if (journey) {\r\n            console.log(`Created journey ${journey._id}`, journey)\r\n            alert(`Created journey ${journey._id}`, journey)\r\n            reloadPage()\r\n        } else {\r\n            alert(\"Creation Failed!\")\r\n        }\r\n    } catch (err) {\r\n        console.error(err)\r\n        // alert(String(err))\r\n    }\r\n}\r\n\r\n\r\nexport async function updateJourney(component, jid, body) {\r\n    try {\r\n        console.log(jid, body)\r\n        const journey = await api.updateJourney(jid, body)\r\n        if (journey) {\r\n            console.log(`Updated journey ${journey._id}`, journey)\r\n            alert(`Updated journey ${journey.title}`)\r\n            reloadPage()\r\n        } else {\r\n            alert(\"Edit Failed!\")\r\n        }\r\n    } catch (err) {\r\n        console.error(err)\r\n        alert(String(err))\r\n    }\r\n}\r\n\r\n\r\nexport async function deleteJourney(component, jid) {\r\n    try {\r\n        const journey = await api.deleteJourney(jid)\r\n        if (journey) {\r\n            console.log(`Deleted journey ${jid}`, journey)\r\n            alert(`Deleted journey ${journey.title}`)\r\n            redirectToPage(`/`, false)\r\n        } else {\r\n            alert(\"Deletion Failed!\")\r\n        }\r\n    } catch (err) {\r\n        console.error(err)\r\n        alert(String(err))\r\n    }\r\n}","import React from \"react\";\r\nimport \"./EditJourneyModal.scss\";\r\n\r\nimport { handleInputChange } from \"actions\";\r\nimport { updateJourney, deleteJourney } from \"actions/Journey\";\r\n\r\nclass EditJourneyModal extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            _id: this.props.journeyId,\r\n            title: this.props.title,\r\n            author: this.props.currUser,\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Submit profile updates to server.\r\n     */\r\n    submitJourney() {\r\n        const body = {\r\n            title: this.state.title,\r\n            author: this.state.author,\r\n        }\r\n\r\n        updateJourney(this, this.state._id, body)\r\n    }\r\n\r\n    deleteJourney() {\r\n        if(window.confirm(\"Are you sure you want to delete this journey? Your trips will be moved to default journey.\")){\r\n            deleteJourney(this, this.state._id)\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { display, toggleModal } = this.props\r\n\r\n        if (!display) {\r\n            // Hide the modal\r\n            return <></>\r\n        } else {\r\n            return (\r\n                <div className=\"update-journey-modal\">\r\n                    <h2 className=\"update-journey-instruction\">Edit Journey</h2>\r\n                    <div className=\"update-journey-content\">\r\n\r\n                        <form className=\"update-journey-form\">\r\n\r\n                            <div className=\"update-journey-item\">\r\n                                <span className=\"update-journey-title\">\r\n                                    Title\r\n                                </span>\r\n\r\n                                <input\r\n                                    type=\"text\"\r\n                                    name=\"title\"\r\n                                    placeholder=\"Journey to the West\"\r\n                                    onChange={e => handleInputChange(this, e)}\r\n                                    value={this.state.title}\r\n                                />\r\n                            </div>\r\n                            <div className=\"modal-buttons\">\r\n                                <button\r\n                                    type=\"button\"\r\n                                    className=\"update-journey-btn\"\r\n                                    onClick={toggleModal}\r\n                                >\r\n                                    Cancel\r\n                                </button>\r\n\r\n                                <button\r\n                                    type=\"button\"\r\n                                    className=\"update-journey-btn\"\r\n                                    onClick={() => this.deleteJourney()}\r\n                                >\r\n                                    Delete Journey\r\n                                </button>\r\n\r\n                                <button\r\n                                    type=\"button\"\r\n                                    className=\"update-journey-btn\"\r\n                                    id=\"update-journey-apply\"\r\n                                    onClick={this.submitJourney.bind(this)}\r\n                                >\r\n                                    Update\r\n                                </button>\r\n                            </div>\r\n                        </form>\r\n\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n}\r\nexport default EditJourneyModal;\r\n","import React from \"react\";\r\n\r\nimport JourneyList from \"components/Journey/JourneyList\";\r\nimport EditJourneyModal from \"../EditJourneyModal\";\r\nimport \"./journey.scss\";\r\n\r\n// import { setJourney } from \"actions/Journey\"\r\n\r\nclass Journey extends React.Component {\r\n  state = {\r\n    // _id: this.props.journeyId,\r\n    // journeyPostings: [],\r\n    // title: \"\",\r\n    // author: null,\r\n    displayEditModal: false\r\n  }\r\n\r\n  // componentDidMount() {\r\n  //   setJourney(this, this.state._id)\r\n  // }\r\n\r\n\r\n  toggleEditModal() {\r\n    this.setState({\r\n      displayEditModal: !this.state.displayEditModal\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { currUser } = this.props\r\n\r\n    return (\r\n      <div className=\"journey-page\">\r\n        <div className=\"journey-meta\">\r\n          <h1 className=\"trip-type\">{this.props.title}</h1>\r\n\r\n          {\r\n            currUser && this.props.author && (String(currUser._id) === String(this.props.author) || String(currUser._id) === String(this.props.author._id)) ?\r\n              <div>\r\n                <button className=\"edit-journey-btn\" onClick={() => this.toggleEditModal()}>Edit</button>\r\n                <EditJourneyModal\r\n                  display={this.state.displayEditModal}\r\n                  toggleModal={() => this.toggleEditModal()}\r\n                  title={this.props.title}\r\n                  journeyId={this.props.journeyId}\r\n                  currUser={currUser}\r\n                />\r\n              </div>\r\n\r\n\r\n              : <></>\r\n          }\r\n        </div>\r\n\r\n        <div className=\"journey-list\">\r\n          <JourneyList postingList={this.props.journeyPostings} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default Journey;\r\n","import React from \"react\";\r\n\r\nimport Navbar from \"components/Navbar\";\r\nimport Map from \"components/MapPlugin/Mapp\";\r\n\r\nimport JourneyView from \"components/Journey/JourneyView\";\r\nimport * as actions from \"actions/Journey\"\r\nimport \"./index.scss\";\r\n\r\n\r\nclass JourneyPage extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      journeyId: this.props.match.params.jid,\r\n      journeyPostings: [],\r\n      title: \"\",\r\n      author: null,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    actions.setJourney(this, this.state.journeyId)\r\n  }\r\n\r\n  render() {\r\n    const { currUser } = this.props;\r\n    return (\r\n      <div className=\"page journey\">\r\n        <div className=\"main-view journey-main-view\">\r\n          {(this.state.journeyPostings) ?\r\n            <JourneyView\r\n              journeyId={this.state.journeyId}\r\n              journeyPostings={this.state.journeyPostings}\r\n              title={this.state.title}\r\n              author={this.state.author}\r\n              currUser={currUser}\r\n            />\r\n            : <div className=\"posting-placeholder\">Loading Journey</div>\r\n          }\r\n\r\n          <Navbar currUser={currUser} />\r\n        </div>\r\n        <div className=\"map-view edit-posting-map\">\r\n          {(this.state.journeyPostings) ?\r\n            <Map parent=\"JourneyPosting\" allPostings={this.state.journeyPostings}\r\n            />\r\n            : <div className=\"posting-placeholder\">Loading Map</div>\r\n          }\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default JourneyPage;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport \"./PostingView.scss\"\r\nimport { getAvatarUrl, formatDate } from \"actions\"\r\n\r\nclass PostingView extends React.Component {\r\n\r\n    render() {\r\n        const { currUser, posting } = this.props\r\n\r\n        return (\r\n            <div className=\"posting-view\">\r\n                <div className=\"posting-metadata-container\">\r\n                    <h1 className=\"posting-title\">{posting.title}</h1>\r\n\r\n                    {\r\n                        // Display Edit Button when the logged-in user is the author of the article.\r\n                        (currUser && String(currUser._id) == String(posting.author._id)) ?\r\n                            <div className=\"edit-container\">\r\n                                <Link to={`/edit/${posting._id}`}>\r\n                                    <button className=\"edit-btn\">Edit</button>\r\n                                </Link>\r\n                            </div>\r\n                            :\r\n                            null\r\n                    }\r\n\r\n                    <div className=\"posting-info-container\">\r\n                        <ul className=\"posting-info\">\r\n\r\n                            <li className=\"info-item\">\r\n                                <Link className=\"nav-item\" to={\"/journey/\" + String(posting.journey._id)}>\r\n                                    {posting.journey.title}\r\n                                </Link>\r\n                            </li>\r\n                            <li className=\"info-item\">{formatDate(posting.date)}</li>\r\n                            <li className=\"info-item\">{posting.destination}</li>\r\n                        </ul>\r\n                    </div>\r\n\r\n                    <div className=\"posting-author-container\">\r\n                        <div className=\"posting-author-avatar\">\r\n                            <img src={getAvatarUrl(posting.author.avatar)} alt={posting.author.name} />\r\n                        </div>\r\n                        <Link to={`/profile/${String(posting.author._id)}`}><div className=\"posting-author-name\">{posting.author.name}</div></Link>\r\n                    </div>\r\n                </div>\r\n\r\n\r\n                <div className=\"posting-image-container\">\r\n                    <div className=\"posting-images\">\r\n                        {posting.images.map((img, idx) => {\r\n                            return (\r\n                                <div key={idx} className=\"posting-image\">\r\n                                    <img src={img.url} alt={\"image\"} />\r\n                                </div>\r\n                            )\r\n                        })}\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"posting-body-container\">\r\n                    {posting.body.split('\\n').map((paragraph, idx) => {\r\n                        return (\r\n                            <p key={idx}>{paragraph} <br /></p>\r\n                        )\r\n                    })}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default PostingView;\r\n","import * as http from \"utils/http\"\r\n\r\n\r\n/**\r\n * Upload posting image.\r\n * @param {*} data Form data.\r\n * @returns image object\r\n */\r\nexport async function uploadPostingImage(formData) {\r\n    const origin = process.env.REACT_APP_ORIGIN || window.location.protocol + \"//\" + window.location.host\r\n    const url = new URL(origin + \"/api/posting/image\")\r\n\r\n    try {\r\n        const response = await fetch(url, {\r\n            method: 'POST',\r\n            mode: 'cors',\r\n            body: formData\r\n        })\r\n        if (response.status === 200) {\r\n            return await response.json()\r\n        } else {\r\n            throw \"Request upload failed\"\r\n        }\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n}\r\n\r\n/**\r\n * Delete a posting image.\r\n * @param {*} data Form data.\r\n * @returns image object\r\n */\r\nexport async function deletePostingImage(data) {\r\n    try {\r\n        const { response, body } = await http.del(`/api/posting/image`, data)\r\n        if (response.status === 200) {\r\n            return body\r\n        } else {\r\n            return null\r\n        }\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n}","import * as api from \"api/posting\"\r\nimport { uploadPostingImage, deletePostingImage } from \"api/image\"\r\n\r\n/**\r\n * Handle setState when an input event occurs. \r\n * @param {React.Component} component \r\n * @param {Event} event \r\n */\r\nfunction handleInputChange(component, event) {\r\n    // From course demo\r\n    const target = event.target;\r\n    const value = target.value;\r\n    const name = target.name;\r\n\r\n    // Handle the checkbox\r\n    if (name === \"public\") {\r\n        component.setState(prevState => ({\r\n            ...prevState,\r\n            posting: {\r\n                ...prevState.posting,\r\n                public: !prevState.posting.public\r\n\r\n            }\r\n        }));\r\n    } else {\r\n        component.setState(prevState => ({\r\n            ...prevState,\r\n            posting: {\r\n                ...prevState.posting,\r\n                [name]: value\r\n\r\n            }\r\n        }));\r\n    }\r\n}\r\n\r\n/**\r\n * Update component state to append new image, and upload the image to server.\r\n * @param {*} component \r\n * @param {*} event \r\n */\r\nasync function handleImageUpload(component, event) {\r\n    const target = event.target;\r\n    const files = target.files;\r\n\r\n    // Get uploaded images from input\r\n    // const newFiles = [];\r\n    // for (let f of files) {\r\n    //     newFiles.push(URL.createObjectURL(f))\r\n    // }\r\n    const imageFile = files[0]\r\n    console.log(\"Loading a image file: \", imageFile)\r\n\r\n    // TODO: upload image\r\n    const formData = new FormData();\r\n    formData.append(\r\n        \"image\",\r\n        imageFile,\r\n        imageFile.name\r\n    );\r\n\r\n    try {\r\n        const uploadedImage = await uploadPostingImage(formData)\r\n\r\n        if (uploadedImage) {\r\n            console.log(\"Uploaded image\", uploadedImage)\r\n\r\n            // A copy of the new state\r\n            const newImages = [...component.state.posting.images, uploadedImage]\r\n\r\n            // Set component state\r\n            component.setState(prevState => ({\r\n                ...prevState,\r\n                posting: {\r\n                    ...prevState.posting,\r\n                    images: newImages\r\n                }\r\n            }))\r\n        } else {\r\n            console.error(\"Failed upload image\", formData)\r\n        }\r\n    } catch (err) {\r\n        console.error(err)\r\n    }\r\n}\r\n\r\n/**\r\n * Delete a image from view and server.\r\n * @param {*} component \r\n * @param {*} index \r\n */\r\nasync function handleDeleteImage(component, index) {\r\n\r\n    const delImage = component.state.posting.images[index]\r\n\r\n    // Send server request to delete image.\r\n    try {\r\n        const result = await deletePostingImage({ image: delImage })\r\n        if (result) {\r\n            console.log(\"Deleted image\", result)\r\n            \r\n            // Update view\r\n            const newImages = [...component.state.posting.images];\r\n            newImages.splice(index, 1);\r\n\r\n            // Set component state\r\n            component.setState(prevState => ({\r\n                ...prevState,\r\n                posting: {\r\n                    ...prevState.posting,\r\n                    images: newImages\r\n                }\r\n            }))\r\n        } else {\r\n            console.error(\"Failed delete image\", result)\r\n        }\r\n    } catch (err) {\r\n        console.error(err)\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\n/**\r\n * Create a posting to the server.\r\n * @param {*} component \r\n */\r\nasync function submitPosting(component) {\r\n    // Collect inputs from state\r\n    const data = component.state.posting\r\n    // Post to server\r\n    try {\r\n        if (data._id !== undefined) {\r\n            // Update a posting\r\n            console.log(`Submit edit posting ${data._id}`, data)\r\n            const editedPosting = await api.updatePosting(data._id, data)\r\n            if (editedPosting) {\r\n                alert(\"Updated trip!\")\r\n                component.props.history.push(`/trip/${String(editedPosting._id)}`)\r\n            } else {\r\n                console.error(\"Update failed\", editedPosting)\r\n            }\r\n\r\n        } else {\r\n            // Create a new posting\r\n            console.log(`Submit new posting`, data)\r\n            const newPosting = await api.createPosting(data)\r\n            if (newPosting) {\r\n                alert(\"Created new trip!\")\r\n                component.props.history.push(`/trip/${String(newPosting._id)}`)\r\n            } else {\r\n                console.error(\"Creation failed\", newPosting)\r\n            }\r\n        }\r\n    } catch (err) {\r\n        console.error(err)\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * Delete a posting to the server.\r\n * @param {*} component \r\n */\r\nasync function deletePosting(component, pid) {\r\n    if (pid !== undefined) {\r\n        try {\r\n            const response = await api.deletePosting(pid)\r\n            if (response) {\r\n                console.log(`DELETED Posting ${pid}`, response)\r\n                alert(\"Deleted posting.\")\r\n                component.props.history.push(`/profile/${String(component.props.currUser._id)}`)\r\n            }\r\n        } catch (err) {\r\n            alert(String(err))\r\n        }\r\n    } else {\r\n        // Empty draft\r\n        if (window.confirm(\"Are you sure you want to delete the draft?\")) {\r\n            component.props.history.push(`/profile/${String(component.props.currUser._id)}`)\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * Fill the component state with old posting by pid.\r\n * @param {React.Component} component \r\n * @param {*} pid \r\n */\r\nasync function setPostingData(component, pid) {\r\n    try {\r\n        const oldPosting = await api.getPosting(pid)\r\n        console.log(`Get Posting ${pid}`, oldPosting)\r\n        component.setState({ new: false, posting: oldPosting })\r\n    } catch (err) {\r\n        // throw err\r\n        alert(String(err))\r\n    }\r\n}\r\n\r\n/**\r\n * Fill the component state with old posting by pid.\r\n * @param {React.Component} component \r\n * @param {*} pid \r\n */\r\nasync function getUserJourneys(component, uid) {\r\n    try {\r\n        const userJourneys = await api.getUserJourneys(uid)\r\n        if (userJourneys) {\r\n            console.log(`Get user's journeys ${uid}`, userJourneys)\r\n            component.setState({ userJourneys })\r\n        }\r\n\r\n    } catch (err) {\r\n        // throw err\r\n        alert(String(err))\r\n    }\r\n}\r\n\r\n\r\nexport {\r\n    handleInputChange,\r\n    handleImageUpload,\r\n    handleDeleteImage,\r\n    submitPosting,\r\n    deletePosting,\r\n    setPostingData,\r\n    getUserJourneys\r\n}","import React from 'react';\r\n\r\nimport Navbar from 'components/Navbar';\r\nimport PostingView from 'components/Posting/PostingView';\r\nimport Map from 'components/MapPlugin/Mapp';\r\n\r\nimport * as action from \"actions/EditPosting\"\r\n\r\nimport \"./index.scss\"\r\n\r\nclass ViewPostingPage extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            pid: this.props.match.params.pid,       // Posting ID\r\n            posting: null                   // Actual posting\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        // Fetch method.\r\n        action.setPostingData(this, this.state.pid)\r\n    }\r\n\r\n    render() {\r\n        const { currUser } = this.props\r\n\r\n        return (\r\n            <div className=\"page view-posting-page\">\r\n                <div className=\"main-view view-posting-main\">\r\n                    {this.state.posting ?\r\n                        <PostingView posting={this.state.posting} currUser={currUser} />\r\n                        : <div className=\"posting-placeholder\">Loading Posting</div>\r\n                    }\r\n\r\n                    <Navbar currUser={currUser} />\r\n                </div>\r\n                <div className=\"map-view view-posting-map\">\r\n                    {this.state.posting ?\r\n                        <Map parent=\"ViewPosting\" allPostings={this.state.posting} />\r\n                        : <div className=\"posting-placeholder\">Loading Map</div>\r\n                    }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ViewPostingPage;","import React from 'react';\r\n\r\nimport \"./Editor.scss\";\r\n\r\nclass Editor extends React.Component {\r\n    render() {\r\n        const { body, handleChange } = this.props\r\n        return (\r\n            <div className=\"editor\">\r\n                <textarea\r\n                    name=\"body\"\r\n                    id=\"postingBodyInput\"\r\n                    placeholder=\"Write down your trip!\"\r\n                    onChange={handleChange}\r\n                    value={body}\r\n                ></textarea>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Editor;","import React from 'react';\r\n\r\nimport Editor from 'components/Posting/Editor';\r\n\r\nimport \"./EditPostingView.scss\"\r\n\r\nimport { getUserJourneys } from \"actions/EditPosting\"\r\nimport { formatDate } from \"actions\"\r\n\r\n\r\nclass EditPostingView extends React.Component {\r\n    state = {\r\n        userJourneys: []\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n        getUserJourneys(this, this.props.currUser._id)\r\n    }\r\n\r\n    handleSelect(e) {\r\n        console.log(e)\r\n        const target = e.target;\r\n        const value = target.value;\r\n        const name = target.name;\r\n        console.log(name, value)\r\n    }\r\n\r\n    render() {\r\n        const { currUser, posting, handleInputChange, handleImageUpload, submitPosting, deletePosting, handleDeleteImage } = this.props\r\n\r\n        return (\r\n            <div className=\"edit-posting-view\">\r\n                <form className=\"posting-form\" id=\"postingForm\" >\r\n                    {/* <datalist id=\"user-journeys\">\r\n                        {\r\n                            this.state.userJourneys.map((journey, i) => {\r\n                                return (\r\n                                    <option key={i} value={journey._id}>{journey.title}</option>\r\n                                )\r\n                            })\r\n                        }\r\n                    </datalist> */}\r\n\r\n                    <div className=\"edit-metadata-container\">\r\n                        <input type=\"text\"\r\n                            name=\"title\"\r\n                            className=\"edit-title edit-input\"\r\n                            id=\"postingTitleInput\"\r\n                            placeholder=\"TITLE\"\r\n                            onChange={handleInputChange}\r\n                            value={posting.title}\r\n                        />\r\n\r\n                        <div className=\"posting-info-container\">\r\n                            {/* <input type=\"text\"\r\n                                name=\"journey\"\r\n                                className=\"edit-meta edit-input\"\r\n                                list=\"user-journeys\"\r\n\r\n                                id=\"postingJourneyInput\"\r\n                                placeholder=\"JOURNEY\"\r\n                                onChange={handleInputChange}\r\n                                value={posting.journey.title || posting.journey}\r\n                            /> */}\r\n                            <select\r\n                                name=\"journey\"\r\n                                className=\"edit-meta edit-input\"\r\n                                onChange={this.handleSelect}\r\n                                value={this.state.userJourneys[0] ? this.state.userJourneys[0]._id : \"\"}\r\n                            >\r\n                                {\r\n                                    this.state.userJourneys.map((journey, i) => {\r\n                                        return (\r\n                                            <option\r\n                                                key={i}\r\n                                                value={journey._id}\r\n                                            >\r\n                                                {journey.title}\r\n                                            </option>\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </select>\r\n                            <input type=\"date\"\r\n                                name=\"date\"\r\n                                className=\"edit-meta edit-input\"\r\n                                id=\"postingDateInput\"\r\n                                onChange={handleInputChange}\r\n                                value={formatDate(posting.date)}\r\n                            />\r\n                            <input type=\"text\"\r\n                                name=\"destination\"\r\n                                className=\"edit-meta edit-input\"\r\n                                id=\"postingDestinationInput\"\r\n                                placeholder=\"DESTINATION\"\r\n                                onChange={handleInputChange}\r\n                                value={posting.destination}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"edit-image-container\">\r\n                        <div className=\"add-image-container\">\r\n                            <input type=\"file\"\r\n                                name=\"image\"\r\n                                className=\"edit-input edit-image-upload-btn\"\r\n                                multiple\r\n                                onChange={handleImageUpload}\r\n                            />\r\n                        </div>\r\n                        <div className=\"posting-images\">\r\n\r\n                            {posting.images.map((img, idx) => {\r\n                                return (\r\n                                    <div key={idx} className=\"posting-image\">\r\n                                        <button type=\"button\" className=\"img-del-btn\" onClick={() => handleDeleteImage(idx)}>delete</button>\r\n                                        <img src={img.url} alt={img} />\r\n                                    </div>\r\n                                )\r\n                            })}\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"edit-body-container\">\r\n                        <Editor body={posting.body} handleChange={handleInputChange} />\r\n                    </div>\r\n\r\n                    <div className=\"edit-control-container\">\r\n                        {\r\n                            posting._id ?\r\n                                <button type=\"button\" className=\"edit-delete-btn\" onClick={deletePosting}>DELETE</button>\r\n                                : <button type=\"button\" className=\"edit-delete-btn\" onClick={deletePosting}>CANCEL</button>\r\n                        }\r\n\r\n\r\n                        <div className=\"edit-public-container\">\r\n                            <input type=\"checkbox\"\r\n                                name=\"public\"\r\n                                className=\"edit-public-checkbox\"\r\n                                id=\"postingPublicInput\"\r\n                                onChange={handleInputChange}\r\n                                checked={posting.public}\r\n                            /> <span>Public</span>\r\n                        </div>\r\n                        <button type=\"button\" className=\"edit-post-btn\" onClick={submitPosting}>POST</button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default EditPostingView;\r\n","import React from 'react';\r\nimport { Redirect } from \"react-router-dom\";\r\nimport Navbar from 'components/Navbar';\r\nimport Map from 'components/MapPlugin/Mapp';\r\nimport EditPostingView from 'components/Posting/EditPostingView';\r\n\r\nimport * as action from 'actions/EditPosting';\r\n\r\nimport \"./index.scss\";\r\n\r\n\r\nclass EditPostingPage extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            new: true,\r\n            posting: {\r\n                _id: undefined,\r\n                title: \"\",\r\n                journey: \"\",\r\n                date: \"\",\r\n                destination: \"\",\r\n                latitude: -1,\r\n                longitude: -1,\r\n                body: \"\",\r\n                public: false,\r\n                images: [],\r\n                author: this.props.currUser,\r\n            }\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        let pid = this.props.match.params.pid\r\n        if (pid !== undefined) {\r\n            // User is trying to edit the post.\r\n            // Get posting data\r\n            action.setPostingData(this, pid)\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { currUser } = this.props;\r\n\r\n        if (!currUser) {\r\n            return <Redirect to=\"/\" />\r\n        }\r\n\r\n        if (!this.state.new && currUser && currUser._id !== this.state.posting.author._id) {\r\n            // CurrUser accessing a post that does not belong to him.\r\n            return (\r\n                <div className=\"page edit-posting-page\">\r\n                    <div className=\"main-view edit-posting-main\">\r\n                        <h1>NO ACCESS PERMISSION</h1>\r\n\r\n                        <Navbar currUser={currUser} />\r\n                    </div>\r\n                    <div className=\"map-view edit-posting-map\">\r\n                        <Map parent=\"EditPosting\" allPostings={this.state.posting}/>\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n\r\n        return (\r\n            <div className=\"page edit-posting-page\">\r\n                <div className=\"main-view edit-posting-main\">\r\n                    <EditPostingView\r\n                        currUser={currUser}\r\n                        posting={this.state.posting}\r\n                        handleInputChange={(e) => action.handleInputChange(this, e)}\r\n                        submitPosting={() => action.submitPosting(this)}\r\n                        deletePosting={() => action.deletePosting(this, this.state.posting._id || undefined)}\r\n                        handleImageUpload={(e) => action.handleImageUpload(this, e)}\r\n                        handleDeleteImage={(idx) => action.handleDeleteImage(this, idx)}\r\n                    />\r\n\r\n                    <Navbar currUser={currUser} />\r\n                </div>\r\n                <div className=\"map-view edit-posting-map\">\r\n                    <Map parent=\"EditPosting\" allPostings={this.state.posting} enableAddLocation={true} />\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default EditPostingPage;","import React from \"react\";\r\n\r\nimport \"./profileinfo.scss\";\r\n\r\nimport { getAvatarUrl } from \"actions\"\r\n\r\nclass ProfileInfo extends React.Component {\r\n  render() {\r\n    const { profileInfo } = this.props;\r\n    return (\r\n      <div className=\"profile-info-page\">\r\n        <div className=\"profile-avatar-container\">\r\n          <img\r\n            className=\"profile-image\"\r\n            src={getAvatarUrl(profileInfo.avatar)}\r\n            alt=\"avatar\"\r\n          />\r\n        </div>\r\n        <div className=\"profile-text\">\r\n          <h1 className=\"user-nick-name\">{profileInfo.name}</h1>\r\n          <h2 className=\"user-name\">{profileInfo.username}</h2>\r\n          <div className=\"user-content-body\">{profileInfo.description}</div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default ProfileInfo;\r\n","import React from \"react\";\r\n\r\nimport \"./profiletripcategory.scss\";\r\n\r\nimport JourneyList from \"components/Journey/JourneyList\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass ProfileJourneys extends React.Component {\r\n  render() {\r\n    const { journey } = this.props\r\n\r\n    return (\r\n      <div className=\"trip-type-component\">\r\n        <h3 className=\"trip-type\">\r\n          <Link\r\n            className=\"trip-journey-link\"\r\n            // FIXME: should not take empty\r\n            to={\"/journey/\" + (journey._id ? journey._id.toString() : \"\")}\r\n          >\r\n            {journey.title}\r\n          </Link>\r\n        </h3>\r\n        <JourneyList postingList={journey.journeyPostings || []} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ProfileJourneys;\r\n","import * as http from \"utils/http\"\r\n\r\n\r\nexport async function fetchProfile(uid) {\r\n    try {\r\n        const { response, body } = await http.get(`/api/user/${uid}`)\r\n        if (response.status === 200) {\r\n            return body\r\n        } else {\r\n            return null\r\n        }\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n}\r\n\r\n\r\nexport async function updateProfile(uid, formData) {\r\n    const origin = process.env.REACT_APP_ORIGIN || window.location.protocol + \"//\" + window.location.host\r\n    const url = new URL(origin + `/api/user/${String(uid)}`)\r\n\r\n    try {\r\n        const response = await fetch(url, {\r\n            method: 'PUT',\r\n            mode: 'cors',\r\n            body: formData\r\n        })\r\n        if (response.status === 200) {\r\n            return await response.json()\r\n        } else {\r\n            throw \"Request upload failed\"\r\n        }\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n}\r\n","import * as api from \"api/profile\"\r\nimport { getUserPostings } from \"api/posting\"\r\nimport { reloadPage } from \"actions\"\r\n\r\n/**\r\n * Set component state.profileInfo to profile owner's info.\r\n * @param {*} component \r\n * @param {*} uid \r\n */\r\nexport async function setProfileInfo(component, uid) {\r\n    try {\r\n        console.log(`Getting Profile for user ${uid}`)\r\n        const profileInfo = await api.fetchProfile(uid)\r\n        if (profileInfo) {\r\n            component.setState({ profileInfo })\r\n        } else {\r\n            alert(\"Cannot find user\")\r\n        }\r\n    } catch (err) {\r\n        console.error(err)\r\n        alert(String(err))\r\n    }\r\n}\r\n\r\n/**\r\n * Submit profile edit.\r\n * @param {*} component \r\n * @param {*} uid \r\n * @param {*} body \r\n */\r\nexport async function updateProfileInfo(component, uid, body) {\r\n    if (!(\"_id\" in body)) {\r\n        body._id = uid\r\n    }\r\n\r\n    console.log(\"Action receive body\", body)\r\n\r\n    const data = new FormData()\r\n    for (let key in body) {\r\n        data.append(\r\n            key,\r\n            body[key]\r\n        )\r\n        console.log(\"Form append\", key, \": \", data[key])\r\n    }\r\n\r\n    console.log(\"Update file data\", JSON.parse(JSON.stringify(data)))\r\n\r\n    try {\r\n        // console.log(\"Update profile\", body)\r\n        const newProfile = await api.updateProfile(uid, data)\r\n        console.log(\"Updated profile\", newProfile)\r\n        if (newProfile) {\r\n            alert(\"Updated profile!\")\r\n            reloadPage()\r\n        } else {\r\n            alert(\"Update failed!\")\r\n        }\r\n\r\n    } catch (err) {\r\n        console.error(err)\r\n        // alert(String(err))\r\n    }\r\n}\r\n\r\n/**\r\n * Set component state.journey to profile owner's journeys.\r\n * @param {*} component \r\n * @param {*} uid \r\n */\r\nexport async function setProfileJourneys(component, uid) {\r\n    try {\r\n        const journeys = await getUserPostings(uid)\r\n        console.log(\"Getting user's journeys\", journeys)\r\n        if (journeys) {\r\n            component.setState({ journeys })\r\n        }\r\n    } catch (err) {\r\n        console.error(err)\r\n        alert(String(err))\r\n    }\r\n}","import React from \"react\";\r\nimport \"./index.scss\";\r\n\r\nimport { handleInputChange, getAvatarUrl } from \"actions\";\r\nimport { updateProfileInfo } from \"actions/Profile\";\r\n\r\nclass ProfileEditorPrompt extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      name: \"\",\r\n      avatar: null,\r\n      description: \"\",\r\n      _id: null,\r\n      avatarUrl: \"\"\r\n    };\r\n  }\r\n\r\n\r\n  componentWillReceiveProps(props) {\r\n    this.setState({\r\n      ...props.profileInfo\r\n    })\r\n  }\r\n\r\n  handleAvatarChange = (event) => {\r\n    const newFile = event.target.files[0];\r\n    // const newFileURL = URL.createObjectURL(newFile)\r\n    // console.log(\"input new file\", newFileURL)\r\n    this.setState({\r\n      avatar: newFile,\r\n      avatarUrl: URL.createObjectURL(newFile)\r\n    });\r\n  };\r\n\r\n  /**\r\n   * Submit profile updates to server.\r\n   */\r\n  submitProfile() {\r\n    const body = {\r\n      // _id: this.state._id,\r\n      name: this.state.name,\r\n      avatar: this.state.avatar,\r\n      description: this.state.description\r\n    }\r\n\r\n    console.log(\"Almost submit profile\", body)\r\n\r\n    updateProfileInfo(this, this.state._id, body)\r\n  }\r\n\r\n\r\n\r\n  render() {\r\n    const { display, toggleEditProfile } = this.props\r\n\r\n    if (!display) {\r\n      // Hide the modal\r\n      return <></>\r\n    } else {\r\n      return (\r\n        <div className=\"edit-profile-modal\">\r\n          <h2 className=\"edit-profile-instruction\">Edit Profile</h2>\r\n\r\n          <div className=\"edit-profile-content\">\r\n            <div className=\"edit-profile-input\" id=\"edit-avatar-container\">\r\n              <div className=\"edit-avatar-presentation\">\r\n                <img\r\n                  className=\"profile-avatar\"\r\n                  src={this.state.avatarUrl.length > 0 ? this.state.avatarUrl : getAvatarUrl(this.state.avatar)}\r\n                  alt=\"profile avatar\"\r\n                />\r\n              </div>\r\n\r\n              <input\r\n                type=\"file\"\r\n                name=\"image\"\r\n                className=\"edit-input edit-avatar-upload-btn\"\r\n                onChange={this.handleAvatarChange}\r\n              />\r\n            </div>\r\n            <form className=\"edit-profile-input\">\r\n\r\n              <div className=\"edit-profile-item\">\r\n                <span className=\"edit-profile-title\" id=\"edit-name-instruction\">\r\n                  Nickname\r\n                </span>\r\n\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"name\"\r\n                  className=\"edit-nickname edit-input\"\r\n                  placeholder=\"nick-name-form\"\r\n                  onChange={e => handleInputChange(this, e)}\r\n                  value={this.state.name}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"edit-profile-item\">\r\n                <span\r\n                  className=\"edit-profile-title\"\r\n                  id=\"edit-description-instruction\"\r\n                >\r\n                  Self Description\r\n                </span>\r\n\r\n                <textarea\r\n                  type=\"text\"\r\n                  name=\"description\"\r\n                  className=\"edit-user-description edit-input\"\r\n                  placeholder=\"user-description-form\"\r\n                  onChange={e => handleInputChange(this, e)}\r\n                  value={this.state.description}\r\n                />\r\n\r\n              </div>\r\n\r\n              <div className=\"modal-buttons\">\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"edit-profile-btn\"\r\n                  onClick={toggleEditProfile}\r\n                >\r\n                  Cancel\r\n                </button>\r\n\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"edit-profile-btn\"\r\n                  id=\"edit-profile-apply\"\r\n                  onClick={this.submitProfile.bind(this)}\r\n                >\r\n                  Apply\r\n                </button>\r\n\r\n              </div>\r\n\r\n            </form>\r\n\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n}\r\nexport default ProfileEditorPrompt;\r\n","import React from \"react\";\r\nimport \"./CreateJourneyModal.scss\";\r\n\r\nimport { handleInputChange } from \"actions\";\r\nimport { createJourney } from \"actions/Journey\";\r\n\r\nclass CreateJourneyModal extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            title: \"\",\r\n            author: this.props.currUser,\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Submit profile updates to server.\r\n     */\r\n    submitJourney() {\r\n        const body = {\r\n            title: this.state.title,\r\n            author: this.state.author,\r\n        }\r\n\r\n        createJourney(this, body)\r\n    }\r\n\r\n    render() {\r\n        const { display, toggleModal } = this.props\r\n\r\n        if (!display) {\r\n            // Hide the modal\r\n            return <></>\r\n        } else {\r\n            return (\r\n                <div className=\"create-journey-modal\">\r\n                    <h2 className=\"create-journey-instruction\">New Journey</h2>\r\n                    <div className=\"create-journey-content\">\r\n\r\n                        <form className=\"create-journey-form\">\r\n\r\n                            <div className=\"create-journey-item\">\r\n                                <span className=\"create-journey-title\">\r\n                                    Title\r\n                                </span>\r\n\r\n                                <input\r\n                                    type=\"text\"\r\n                                    name=\"title\"\r\n                                    placeholder=\"Journey to the West\"\r\n                                    onChange={e => handleInputChange(this, e)}\r\n                                    value={this.state.title}\r\n                                />\r\n                            </div>\r\n                            <div className=\"modal-buttons\">\r\n                                <button\r\n                                    type=\"button\"\r\n                                    className=\"create-journey-btn\"\r\n                                    onClick={toggleModal}\r\n                                >\r\n                                    Cancel\r\n                                </button>\r\n\r\n                                <button\r\n                                    type=\"button\"\r\n                                    className=\"create-journey-btn\"\r\n                                    id=\"create-journey-apply\"\r\n                                    onClick={this.submitJourney.bind(this)}\r\n                                >\r\n                                    Create\r\n                                </button>\r\n                            </div>\r\n                        </form>\r\n\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n}\r\nexport default CreateJourneyModal;\r\n","import React from \"react\";\r\nimport ProfileInfo from \"components/Profile/ProfileInfo\";\r\nimport ProfileJourneys from \"components/Profile/ProfileJourneys\";\r\nimport ProfileEditorModal from \"components/Profile/ProfileEditorModal\";\r\nimport CreateJourneyModal from \"components/Journey/CreateJourneyModal\";\r\n\r\nimport \"./profile.scss\";\r\n\r\n// import { setProfileInfo, setProfileJourneys } from \"actions/Profile\"\r\n\r\nclass Profile extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      editProfile: false,\r\n      createJourney: false,\r\n      // profileInfo: {},\r\n      // journeys: {}\r\n    };\r\n  }\r\n\r\n  // componentDidMount() {\r\n  //   setProfileInfo(this, this.props.profileId)\r\n  //   setProfileJourneys(this, this.props.profileId)\r\n  // }\r\n\r\n  toggleEditProfile = () => {\r\n    this.setState({\r\n      editProfile: !this.state.editProfile,\r\n    });\r\n  };\r\n\r\n  toggleCreateJourney = () => {\r\n    this.setState({\r\n      createJourney: !this.state.createJourney,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { currUser, profileInfo, journeys } = this.props;\r\n\r\n    return (\r\n\r\n      <div className=\"profile-view\">\r\n        {\r\n          currUser && String(currUser._id) === String(this.props.profileId) ?\r\n            <div className=\"edit-profile-container\">\r\n              <button className=\"edit-profile\" onClick={this.toggleEditProfile}>\r\n                Edit Profile\r\n              </button>\r\n\r\n              <ProfileEditorModal\r\n                className=\"edit-profile-prompt\"\r\n                display={this.state.editProfile}\r\n                toggleEditProfile={this.toggleEditProfile}\r\n                profileInfo={profileInfo}\r\n              />\r\n            </div>\r\n            : <></>\r\n        }\r\n\r\n        <ProfileInfo\r\n          className=\"profile-information\"\r\n          profileInfo={profileInfo}\r\n        />\r\n\r\n        {\r\n          currUser && String(currUser._id) === String(this.props.profileId) ?\r\n            <div className=\"new-journey-container\">\r\n              <button className=\"new-journey-btn\" onClick={this.toggleCreateJourney}>\r\n                New Journey\r\n              </button>\r\n\r\n              <CreateJourneyModal\r\n                className=\"new-journey-prompt\"\r\n                display={this.state.createJourney}\r\n                toggleModal={this.toggleCreateJourney}\r\n                currUser={currUser}\r\n              />\r\n            </div>\r\n            : <></>\r\n        }\r\n        \r\n        {\r\n          Object.keys(journeys).map((journey) => {\r\n            return (\r\n              <ProfileJourneys\r\n                key={journey}\r\n                journey={journeys[journey]}\r\n              />\r\n            );\r\n          })\r\n        }\r\n\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default Profile;\r\n","import React from \"react\";\r\n\r\nimport Navbar from \"components/Navbar\";\r\nimport Map from \"components/MapPlugin/Mapp\";\r\n\r\nimport ProfileView from \"components/Profile/ProfileView\";\r\nimport * as actions from \"actions/Profile\"\r\nimport { reloadPage } from \"actions\";\r\n\r\nimport \"./index.scss\";\r\n\r\n\r\nclass ProfilePage extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      profileId: this.props.match.params.uid,\r\n      profileInfo: {},\r\n      journeys: {}\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    actions.setProfileInfo(this, this.props.match.params.uid)\r\n    actions.setProfileJourneys(this, this.props.match.params.uid)\r\n  }\r\n\r\n  componentWillReceiveProps(props) {\r\n    if (props.key !== this.props.key) {\r\n      reloadPage()\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { currUser, setCurrUser } = this.props;\r\n    return (\r\n      <div className=\"page profile-page\">\r\n        <div className=\"main-view profile-page-main\">\r\n          {(this.state.profileInfo && this.state.journeys) ?\r\n            <ProfileView\r\n              currUser={currUser}\r\n              setCurrUser={setCurrUser}\r\n              profileId={this.state.profileId}\r\n              profileInfo={this.state.profileInfo}\r\n              journeys={this.state.journeys}\r\n            />\r\n            : <div className=\"posting-placeholder\">Loading Profile</div>\r\n          }\r\n        </div>\r\n        <Navbar currUser={currUser} />\r\n        <div className=\"map-view edit-posting-map\">\r\n          {(this.state.profileInfo && this.state.journeys) ?\r\n            <Map parent=\"Profile\" allPostings={this.state.journeys}\r\n            />\r\n            : <div className=\"posting-placeholder\">Loading Map</div>\r\n          }\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ProfilePage;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport \"./style.scss\";\r\n\r\n// All images in Admin Navbar come from https://icons8.com/\r\nimport UserIcon from \"assets/icons/user.png\";\r\nimport HomeIcon from \"assets/icons/home.png\";\r\nimport JournalIcon from \"assets/icons/journal.png\";\r\n\r\nclass AdminNav extends React.Component {\r\n\r\n    render() {\r\n        // const { currUser } = this.props\r\n        return (\r\n            <div>\r\n                <div className=\"admin-nav\">\r\n                    <Link className=\"admin-nav-item\" to={`/admin/home`}>\r\n                        <img src={HomeIcon} alt=\"\" />\r\n                        <span>Home</span>\r\n                    </Link>\r\n                    \r\n                    <Link className=\"admin-nav-item\" to={`/admin/users`}>\r\n                        <img src={UserIcon} alt=\"\" />\r\n                        <span>Users</span>\r\n                    </Link>\r\n                    \r\n                    <Link className=\"admin-nav-item\" to={`/admin/postings`}>\r\n                        <img src={JournalIcon} alt=\"\" />\r\n                        Postings\r\n                    </Link>\r\n\r\n                    <Link className=\"admin-nav-item\" to={`/admin/login`}>\r\n                        {/* <img src={} alt=\"\" /> */}\r\n                        Logout\r\n                    </Link>\r\n                </div>\r\n                {/* <div className=\"admin-nav-blocker\"></div> */}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default AdminNav;","import React from 'react';\r\nimport { Redirect } from \"react-router-dom\";\r\nimport AdminNav from 'components/Admin/AdminNav'\r\n\r\nimport './style.scss'\r\n\r\nclass AdminHome extends React.Component {\r\n    render() {\r\n        const { currUser } = this.props\r\n\r\n        if (!currUser || currUser.role !== \"admin\") {\r\n            return <Redirect to=\"/admin/login\" />\r\n        }\r\n\r\n        return (\r\n            <div className=\"page admin-home-page\">\r\n                <AdminNav />\r\n                \r\n                <div className=\"admin-home-main\">\r\n                    <h1>Welcome, {`${currUser.name}`}</h1>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default AdminHome;","import React from 'react';\r\nimport { Redirect } from \"react-router-dom\";\r\nimport \"./style.scss\";\r\n\r\nimport { handleInputChange } from 'actions';\r\nimport { loginAdmin } from 'actions/Auth';\r\n\r\n\r\nclass AdminLoginForm extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            username_input: \"\",\r\n            password_input: \"\",\r\n            warning: \"\",\r\n            redirect: null\r\n        }\r\n    }\r\n\r\n    login = async () => {\r\n        const { setCurrUser } = this.props\r\n        console.log(\"logging in...\")\r\n\r\n        const username = this.state.username_input\r\n        const password = this.state.password_input\r\n\r\n        if (username.length < 1 || password.length < 1) {\r\n            alert(\"Please enter username and password\")\r\n            return\r\n        }\r\n\r\n        const admin = await loginAdmin(username, password)\r\n        if (admin) {\r\n            console.log(\"Login successfully\")\r\n            setCurrUser(admin)\r\n            // Navigate to Admin home\r\n            this.setState({ redirect: \"/admin/home\" })\r\n        } else {\r\n            this.setState({\r\n                warning: \"Invalid credential!\"\r\n            })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { currUser } = this.props\r\n\r\n        if (this.state.redirect) {\r\n            return <Redirect to={this.state.redirect} />\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                <div className=\"admin-login-form\">\r\n                    <h1>Admin Login</h1>\r\n                    <div className=\"admin-login-input\">\r\n                        <span>Username</span>\r\n                        <input value={this.state.username_input}\r\n                            onChange={e => handleInputChange(this, e)}\r\n                            type=\"text\"\r\n                            name=\"username_input\"\r\n                            placeholder=\"Username\"\r\n                        />\r\n                    </div>\r\n                    <div className=\"admin-login-input\">\r\n                        <span>Password</span>\r\n                        <input value={this.state.password_input}\r\n                            onChange={e => handleInputChange(this, e)}\r\n                            type=\"password\"\r\n                            name=\"password_input\"\r\n                            placeholder=\"Password\"\r\n                        />\r\n                    </div>\r\n                    <span className=\"warn\">{this.state.warning}</span>\r\n                    <button type=\"submit\" className=\"submit\" onClick={this.login}>\r\n                        Submit\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default AdminLoginForm;","import React from 'react';\r\nimport AdminLoginForm from 'components/Admin/AdminLoginForm';\r\nimport './style.scss'\r\n\r\nclass AdminLogin extends React.Component{\r\n    state={\r\n        redirect: null\r\n    }\r\n\r\n    componentWillReceiveProps(props) {\r\n        if (props.currUser !== this.props.currUser) {\r\n            if (props.currUser && props.currUser.role === \"admin\") {\r\n                // this.setState({redirect: })\r\n            }\r\n        }\r\n    }\r\n\r\n    render(){\r\n        // FIXME: When the page reload, the currUser is not yet resumed. Thus the redirection is triggered.\r\n        const { currUser, setCurrUser } = this.props\r\n        return (\r\n            <div className=\"admin-login\">\r\n                <div className=\"bg-img\"></div>\r\n                <AdminLoginForm currUser={currUser} setCurrUser={setCurrUser}/>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default AdminLogin;","import React from 'react';\r\nimport \"./style.scss\";\r\n\r\nclass AdminUserTable extends React.Component {\r\n\r\n    render() {\r\n        const { users } = this.props\r\n\r\n        return (\r\n            <div>\r\n                <table className=\"admin-user-table admin-table\">\r\n                    <thead>\r\n                        <tr className=\"admin-table-headerRow\">\r\n                            <th className=\"admin-table-header\">\r\n                                User ID\r\n                            </th>\r\n                            <th className=\"admin-table-header\">\r\n                                Username\r\n                            </th>\r\n                            <th className=\"admin-table-header\">\r\n                                Nickname\r\n                            </th>\r\n                            <th className=\"admin-table-header\">\r\n                                Role\r\n                            </th>\r\n                            <th className=\"admin-table-header\">\r\n                                Status\r\n                            </th>\r\n                            <th className=\"admin-table-header\">\r\n                                Last Login\r\n                            </th>\r\n                            <th className=\"admin-table-header\">\r\n\r\n                            </th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {users.map(user => {\r\n                            return (\r\n                                <tr key={user._id} className=\"admin-data-row\">\r\n                                    <td>\r\n                                        {user._id}\r\n                                    </td>\r\n                                    <td>\r\n                                        {user.username}\r\n                                    </td>\r\n                                    <td>\r\n                                        {user.name}\r\n                                    </td>\r\n                                    <td>\r\n                                        {user.role}\r\n                                    </td>\r\n                                    <td>\r\n                                        {user.active ? \"Active\" : \"Inactive\"}\r\n                                    </td>\r\n                                    <td>\r\n                                        {user.lastLogin}\r\n                                    </td>\r\n                                    <td className=\"actions\">\r\n                                        {\r\n                                            user.active ?\r\n                                                <button onClick={() => this.props.changeUserActive(user)}>\r\n                                                    Inactivate\r\n                                                </button>\r\n                                                :\r\n                                                <button onClick={() => this.props.changeUserActive(user)}>\r\n                                                    Activate\r\n                                                </button>\r\n                                        }\r\n                                        {\r\n                                            user.role === \"admin\" ?\r\n                                                <button onClick={() => this.props.changeUserRole(user)}>\r\n                                                    Set to Client\r\n                                                </button>\r\n                                                :\r\n                                                <button onClick={() => this.props.changeUserRole(user)}>\r\n                                                    Set to Admin\r\n                                                </button>\r\n                                        }\r\n                                    </td>\r\n                                </tr>\r\n                            )\r\n                        })}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default AdminUserTable;","import * as http from \"utils/http\"\r\n\r\nexport async function fetchPostings(params) {\r\n    try {\r\n        const {response, body} = await http.get(\"/api/posting\", params)\r\n        if (response.status === 200){\r\n            return body\r\n        }else {\r\n            return null\r\n        }\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n}\r\n\r\n\r\nexport async function fetchUsers(params) {\r\n    try {\r\n        const {response, body} = await http.get(\"/api/admin/user\", params)\r\n        if (response.status === 200){\r\n            return body\r\n        }else {\r\n            return null\r\n        }\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n}\r\n\r\nexport async function changeUserStatus(user, data) {\r\n    try {\r\n        const {response, body} = await http.put(`/api/admin/user/${user._id}`, { ...user, ...data })\r\n        if (response.status === 200){\r\n            return body\r\n        }else {\r\n            return null\r\n        }\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n}\r\n\r\nexport async function deletePosting(pid) {\r\n    try {\r\n        const {response, body} = await http.del(`/api/admin/posting/${pid}`)\r\n        if (response.status === 200){\r\n            return body\r\n        }else {\r\n            return null\r\n        }\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n}","import { reloadPage } from \"actions\"\r\nimport * as api from \"api/admin\"\r\n\r\nexport async function deletePosting(component, posting) {\r\n  try {\r\n    const res = await api.deletePosting(posting._id)\r\n    if (res) {\r\n      alert(`Deleted posting ${posting._id}`)\r\n      getPostings(component, \"\")\r\n    }\r\n  } catch (err) {\r\n    console.error(err)\r\n    alert(String(err))\r\n  }\r\n\r\n};\r\n\r\n\r\nexport async function getPostings(component, params = \"\") {\r\n  try {\r\n    console.log(\"Searching postings\", params)\r\n    const postings = await api.fetchPostings(params)\r\n    if (postings) {\r\n      component.setState({ postings })\r\n    }\r\n\r\n  } catch (err) {\r\n    console.error(err)\r\n    alert(String(err))\r\n  }\r\n}\r\n\r\n\r\nexport async function getUsers(component, params = \"\") {\r\n  try {\r\n    console.log(\"Searching users\", params)\r\n    const users = await api.fetchUsers(params)\r\n    if (users) {\r\n      console.log(users)\r\n      component.setState({ users })\r\n    }\r\n\r\n  } catch (err) {\r\n    console.error(err)\r\n    alert(String(err))\r\n  }\r\n}\r\n\r\n\r\nexport async function changeUserActive(component, user) {\r\n  try {\r\n    // console.log(\"Searching users\", params)\r\n    const data = { active: !user.active }\r\n    const res = await api.changeUserStatus(user, data)\r\n\r\n    // component.setState({users})\r\n    if (res) {\r\n      if (user.active) {\r\n        alert(`Inactivated user ${res._id}`)\r\n\r\n      } else {\r\n        alert(`Activated user ${res._id}`)\r\n      }\r\n      // reloadPage()\r\n      getUsers(component, \"\")\r\n    } else {\r\n      console.error(\"Error when activate/inactive user\")\r\n    }\r\n  } catch (err) {\r\n    console.error(err)\r\n    alert(String(err))\r\n  }\r\n}\r\n\r\n\r\nexport async function changeUserRole(component, user) {\r\n  try {\r\n    const data = { role: user.role === \"admin\" ? \"client\" : \"admin\" }\r\n    const res = await api.changeUserStatus(user, data)\r\n\r\n    // component.setState({users})\r\n    if (res) {\r\n      if (user.role === \"admin\") {\r\n        alert(`Downgraded user ${res._id}`)\r\n\r\n      } else {\r\n        alert(`Upgraded user ${res._id}`)\r\n      }\r\n      getUsers(component, \"\")\r\n    } else {\r\n      console.error(\"Error when set user's role\")\r\n    }\r\n  } catch (err) {\r\n    console.error(err)\r\n    alert(String(err))\r\n  }\r\n}","import React from 'react';\r\nimport { Redirect } from \"react-router-dom\";\r\nimport AdminNav from 'components/Admin/AdminNav'\r\nimport AdminUserTable from 'components/Admin/AdminUserTable'\r\n\r\nimport './style.scss'\r\n\r\nimport { handleInputChange } from \"actions\"\r\nimport { changeUserActive, changeUserRole, getUsers } from 'actions/Admin/AdminTable/index';\r\n\r\nclass AdminUserDash extends React.Component {\r\n    state = {\r\n        users: [],\r\n        search: \"\"\r\n    }\r\n\r\n    componentDidMount() {\r\n        getUsers(this, { search: this.state.search })\r\n    }\r\n\r\n    render() {\r\n        const { currUser } = this.props\r\n        if (!currUser || currUser.role !== \"admin\") {\r\n            return <Redirect to=\"/admin/login\" />\r\n        }\r\n\r\n        return (\r\n            <div className=\"page admin-user-page\">\r\n                <AdminNav />\r\n                <div className=\"admin-user-main\">\r\n                    <div className=\"table-search\">\r\n                        <input type=\"text\" className=\"table-search-input\" name=\"search\" placeholder=\"Search by ID, Username, Name\" onChange={(e) => handleInputChange(this, e)} />\r\n                        <button className=\"table-search-btn\" onClick={() => getUsers(this, { search: this.state.search })}>Search</button>\r\n                    </div>\r\n                    <AdminUserTable users={this.state.users} changeUserActive={(user) => changeUserActive(this, user)} changeUserRole={(user) => changeUserRole(this, user)} />\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default AdminUserDash;","import React from 'react';\r\nimport \"./style.scss\";\r\n\r\nimport { redirectToPage } from 'actions';\r\n\r\nclass AdminPostTable extends React.Component {\r\n    checkDetailContent(posting) {\r\n        // TODO: Implement\r\n        redirectToPage(`/trip/${String(posting._id)}`, true)\r\n    }\r\n\r\n    render() {\r\n        const { postings } = this.props\r\n        return (\r\n            <div>\r\n                <table className=\"admin-post-table admin-table\">\r\n                    <thead className=\"admin-table-headerRow\">\r\n                        <tr>\r\n                            <th className=\"admin-table-header\">\r\n                                Post ID\r\n                            </th>\r\n                            <th className=\"admin-table-header\">\r\n                                Author\r\n                            </th>\r\n                            <th className=\"admin-table-header\">\r\n                                Title\r\n                            </th>\r\n                            <th className=\"admin-table-header\">\r\n                                Journey\r\n                            </th>\r\n                            <th className=\"admin-table-header\">\r\n                                Created Time\r\n                            </th>\r\n                            <th className=\"admin-table-header\">\r\n\r\n                            </th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {postings.map(posting => (\r\n                            <tr key={posting._id}  className=\"admin-data-row\">\r\n                                <td>\r\n                                    {posting._id}\r\n                                </td>\r\n                                <td>\r\n                                    {posting.author.username}\r\n                                </td>\r\n                                <td>\r\n                                    {posting.title}\r\n                                </td>\r\n                                <td>\r\n                                    {posting.journey.title}\r\n                                </td>\r\n                                <td>\r\n                                    {posting.createdTime}\r\n                                </td>\r\n                                <td className=\"actions\">\r\n                                    <button onClick={() => this.props.deletePosting(posting)}>\r\n                                        Delete\r\n                                    </button>\r\n                                    <button onClick={() => this.checkDetailContent(posting)}>\r\n                                        View Content\r\n                                    </button>\r\n                                </td>\r\n                            </tr>\r\n                        ))}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default AdminPostTable;","import React from 'react';\r\nimport { Redirect } from \"react-router-dom\";\r\nimport AdminNav from 'components/Admin/AdminNav'\r\nimport AdminPostTable from 'components/Admin/AdminPostTable'\r\n\r\nimport './style.scss'\r\n\r\nimport { handleInputChange } from \"actions\"\r\nimport { deletePosting, getPostings } from 'actions/Admin/AdminTable/index';\r\n\r\nclass AdminPostDash extends React.Component {\r\n    state = {\r\n        postings: [],\r\n        search: \"\"\r\n    }\r\n\r\n    componentDidMount() {\r\n        getPostings(this, { search: this.state.search })\r\n    }\r\n\r\n    render() {\r\n        const { currUser } = this.props\r\n        if (!currUser || currUser.role !== \"admin\") {\r\n            return <Redirect to=\"/admin/login\" />\r\n        }\r\n\r\n        return (\r\n            <div className=\"page admin-post-page\">\r\n                <AdminNav />\r\n                <div className=\"admin-post-main\">\r\n                    <div className=\"table-search\">\r\n                        <input type=\"text\" className=\"table-search-input\" name=\"search\" placeholder=\"Search by ID, Title, Content, Author\" onChange={(e) => handleInputChange(this, e)} />\r\n                        <button className=\"table-search-btn\" onClick={() => getPostings(this, { search: this.state.search })}>Search</button>\r\n                    </div>\r\n                    <AdminPostTable postings={this.state.postings} deletePosting={(post) => deletePosting(this, post)} />\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default AdminPostDash;","import React from \"react\";\r\n\r\nimport { Route, Switch } from \"react-router-dom\";\r\n\r\nimport HomePage from \"pages/Home\";\r\nimport JourneyPage from \"pages/Journey\";\r\nimport ViewPostingPage from \"pages/ViewPosting\";\r\nimport EditPostingPage from \"pages/EditPosting\";\r\nimport ProfilePage from \"pages/Profile\";\r\nimport AdminHome from \"pages/AdminPages/AdminHome\"\r\nimport AdminLogin from \"pages/AdminPages/AdminLogin\"\r\nimport AdminUserDash from \"pages/AdminPages/AdminUserDash\"\r\nimport AdminPostDash from \"pages/AdminPages/AdminPostDash\"\r\n\r\nexport default class RenderRoutes extends React.Component {\r\n\r\n    render() {\r\n        const { currUser, setCurrUser } = this.props\r\n        return (\r\n            <Switch>\r\n                {/* HOME */}\r\n                <Route exact path=\"/\" render={(props) => <HomePage currUser={currUser} setCurrUser={setCurrUser} {...props} />} />\r\n\r\n                {/* VIEW */}\r\n                <Route exact path=\"/journey/:jid\" render={(props) => <JourneyPage currUser={currUser} {...props} />} />\r\n                <Route exact path=\"/trip/:pid\" render={(props) => <ViewPostingPage currUser={currUser} {...props} />} />\r\n\r\n                {/* EDIT */}\r\n                <Route exact path=\"/new-posting\" render={(props) => <EditPostingPage currUser={currUser} {...props} />} />\r\n                <Route exact path=\"/edit/:pid\" render={(props) => <EditPostingPage currUser={currUser} {...props} />} />\r\n\r\n                {/* PROFILE */}\r\n                <Route exact path=\"/profile/:uid\" render={(props) => <ProfilePage currUser={currUser} setCurrUser = {setCurrUser} key={props.match.params.uid} {...props} />} />\r\n\r\n                {/* ADMIN */}\r\n                <Route exact path=\"/admin/login\" render={(props) => <AdminLogin currUser={currUser} setCurrUser={setCurrUser} {...props} />} />\r\n                <Route exact path=\"/admin/home\" render={(props) => <AdminHome currUser={currUser} {...props} />} />\r\n                <Route exact path=\"/admin/users\" render={(props) => <AdminUserDash currUser={currUser} {...props} />} />\r\n                <Route exact path=\"/admin/postings\" render={(props) => <AdminPostDash currUser={currUser} {...props} />} />\r\n                <Route exact path=\"/admin\" render={(props) => <AdminHome currUser={currUser} {...props} />} />\r\n\r\n                {/* NOT FOUND */}\r\n                <Route component={() => <h1>Not Found!</h1>} />\r\n            </Switch>\r\n        )\r\n    }\r\n}\r\n\r\n","import React from \"react\";\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport RenderRoutes from \"./router\";\r\nimport \"./App.scss\";\r\n\r\nimport * as action from \"actions/Auth\";\r\n\r\nconst user = {\r\n  username: \"user1\",\r\n  name: \"user1\",\r\n  _id: \"61aa84eb00aeb98b84e2d29a\",\r\n  role: \"client\",\r\n  status: \"active\"\r\n}\r\n\r\nconst TEST = false\r\n\r\nclass App extends React.Component {\r\n  state = {\r\n    currUser: TEST ? user : null\r\n  }\r\n\r\n  async setResumeUser() {\r\n    const user = await action.resumeSession()\r\n    if (!TEST) {\r\n      this.setState({ currUser: user })\r\n    }\r\n  }\r\n\r\n  componentWillMount() {\r\n    this.setResumeUser()\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <BrowserRouter>\r\n        <RenderRoutes currUser={this.state.currUser} setCurrUser={(newUser) => action.setCurrUser(this, newUser)} />\r\n      </BrowserRouter>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}