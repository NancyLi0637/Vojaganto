{"version":3,"sources":["assets/images/home/pic1.jpg","assets/images/home/pic3.jpg","assets/images/66385278_p8.jpg","assets/images/home/pic2.jpeg","assets/images/home/pic5.jpg","assets/images/home/pic6.jpg","assets/images/home/pic4.jpg","assets/images/home/pic8.jpg","assets/icons/user.png","assets/icons/home.png","assets/icons/journal.png","components/Home/PostingCard/index.js","components/Home/PostingCardColumn/index.js","actions/index.js","utils/http.js","api/auth/index.js","actions/Auth/index.js","components/LoginRegister/UserRegisterModal/index.js","components/LoginRegister/UserLoginModal/index.js","components/LoginRegister/UserLoginWindow/index.js","api/posting/index.js","actions/Posting/index.js","components/Home/HomeView/index.js","components/Navbar/index.js","components/MapPlugin/Mapp/index.js","pages/Home/index.js","components/Journey/JourneyListPosting/index.js","components/Journey/JourneyList/index.js","actions/Journey/index.js","components/Journey/EditJourneyModal/index.js","components/Journey/JourneyView/index.js","pages/Journey/index.js","components/Posting/PostingView/index.js","actions/EditPosting/index.js","pages/ViewPosting/index.js","components/Posting/Editor/index.js","components/Posting/EditPostingView/index.js","pages/EditPosting/index.js","components/Profile/ProfileInfo/index.js","components/Profile/ProfileJourneys/index.js","api/profile/index.js","actions/Profile/index.js","components/Profile/ProfileEditorModal/index.js","components/Journey/CreateJourneyModal/index.js","components/Profile/ProfileView/index.js","pages/Profile/index.js","components/Admin/AdminNav/index.js","pages/AdminPages/AdminHome/index.js","components/Admin/AdminLoginForm/index.js","pages/AdminPages/AdminLogin/index.js","components/Admin/AdminUserTable/index.js","api/admin/index.js","actions/Admin/AdminTable/index.js","pages/AdminPages/AdminUserDash/index.js","components/Admin/AdminPostTable/index.js","pages/AdminPages/AdminPostDash/index.js","router/index.js","App.js","reportWebVitals.js","index.js"],"names":["module","exports","PostingCard","posting","this","props","to","String","_id","className","title","date","src","images","alt","React","Component","PostingCardColumn","state","postingCardColumn","postings","map","idx","key","handleInputChange","component","event","target","value","name","setState","reloadPage","window","location","reload","redirectToPage","route","newTab","open","document","href","get","a","params","url","URL","process","Object","keys","forEach","searchParams","append","console","log","fetch","method","mode","headers","response","json","body","post","data","JSON","stringify","put","clientLogin","username","password","http","status","adminLogin","clientRegister","logoutUser","resumeSession","loginUser","length","alert","api","user","error","loginAdmin","role","registerUser","UserRegisterModal","setWarningMessage","warningMessage","submitRegister","handleCloseModal","handleCloseRegisterModal","usernameInput","passwordInput","confirm","confirmInput","nameInput","newUser","undefined","registerModalDisplay","onChange","e","type","placeholder","onClick","UserLogin","submitLogin","setCurrUser","handleOpenRegisterModal","loginModalDisplay","UserLoginWindow","handleOpenModal","action","currUser","UserLoginModal","author","description","avatar","mockPosting","journey","Date","toLocaleDateString","destination","latitude","longitude","img1","img2","postingList","journeyPostings","image","pic1","pic2","pic3","pic5","Traveling","pic6","postingCardColumns","pic4","pic8","getHomePostings","getPosting","pid","createPosting","updatePosting","deletePosting","getUserJourneys","uid","getJourney","jid","postJourney","updateJourney","deleteJourney","getUserPostings","setHomePostingColumns","search","HomeView","setSearch","Navbar","icons","Icon","iconUrl","iconSize","Mapp","currLoc","enableAddLocation","newPosting","editing","setCurrLoc","addMarker","allPostings","latlng","lat","lng","parent","Map","center","zoom","TileLayer","attribution","allPosting","Marker","position","i","icon","Popup","onClose","HomePage","searchPosting","JourneyListPosting","toString","substring","JourneyList","EditJourneyModal","journeyId","display","toggleModal","id","submitJourney","bind","Journey","displayEditModal","toggleEditModal","JourneyPage","match","actions","JourneyView","PostingView","img","split","paragraph","files","newFiles","f","push","createObjectURL","newImages","prevState","editedPosting","history","setPostingData","oldPosting","new","userJourneys","ViewPostingPage","Editor","handleChange","EditPostingView","handleImageUpload","submitPosting","handleDeleteImage","list","multiple","checked","public","EditPostingPage","index","splice","ProfileInfo","profileInfo","ProfileTripCategory","fetchProfile","updateProfile","newProfile","journeys","ProfileEditorPrompt","handleAvatarChange","newFile","updateProfileInfo","toggleEditProfile","submitProfile","CreateJourneyModal","createJourney","Profile","editProfile","toggleCreateJourney","profileId","ProfileJourneys","ProfilePage","ProfileView","AdminNav","HomeIcon","UserIcon","JournalIcon","AdminHome","AdminLoginForm","login","username_input","password_input","admin","redirect","warning","AdminLogin","AdminUserTable","users","nickname","lastLogin","changeUserStatus","publishTime","toISOString","fetchPostings","fetchUsers","toStatus","getPostings","getUsers","res","AdminUserDash","AdminPostTable","checkDetailContent","AdminPostDash","RenderRoutes","exact","path","render","Home","App","setResumeUser","app","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.816ac9a6.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/pic1.02162668.jpg\";","module.exports = __webpack_public_path__ + \"static/media/pic3.0a95b596.jpg\";","module.exports = __webpack_public_path__ + \"static/media/66385278_p8.bb99174b.jpg\";","module.exports = __webpack_public_path__ + \"static/media/pic2.2cadae3a.jpeg\";","module.exports = __webpack_public_path__ + \"static/media/pic5.db067431.jpg\";","module.exports = __webpack_public_path__ + \"static/media/pic6.fece990a.jpg\";","module.exports = __webpack_public_path__ + \"static/media/pic4.1a7ad228.jpg\";","module.exports = __webpack_public_path__ + \"static/media/pic8.5756a67a.jpg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAABCUlEQVRIie2UvUoDURSE56RJZaOg4CadWqS2zBMIVvoq+iJ5irBYGUWsLW1Mq53EyoCmVPCzcJRFsz/ITbcDh4W5c2Z277l7pRYpAPSAHFi4zoDdlOZz/mIOZCkCchueA5lrYm6cImBhs6zA9c291PV3mmT4Gf99yWr3r4Hibem5LszlKQL2gOeSIe8k+AbJgx0Dr648mXmL0qMHdCTtSzqQNJS0Lanv5UdJT5JuJF1Kuo2Ij0aJQBc4BWZLTk4ZZsAJ0K0z3wKmhcYHYAQcAgNgzTUwN7LmG3fAZlXAtYX3wBFQ+/cCARy7B+CqSvxu0Xqd8ZLeDfe+Ffn4JUIJEBE/vk0uuxarxSe6SXpYzUyecQAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAA7klEQVRIie3TMS5EURTG8blippFoJNQKumlYARVbmE1IptHagj1Yg4p2FGxAQUWiJDRT8NOcxM2Lca/nTSF8yW3O/b7/yXnv3F7vTwljjOcBTjjyoWMsdAUf4CTA0ziiNvgpfAmnAXzGHnbwGLVzLLeFr+AiQA/Yyu6GuIu7K6x9F76O6wDcYKPgucVmLXyI+wheYrUw5SSbcrsE38VTBM5qvm/jP71gf5ZxlG0I9EvwLNvPclOMmoYDvGYmtfCMkesNh18a2zZo1hdrw5/VU0qplO3muXfVIIXm1qCNfn+DmVtUs6o1nrlP8K+i3gEPe1OF6G2zpAAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABmJLR0QA/wD/AP+gvaeTAAABlklEQVRoge2ZMUsDMRiG3xOhaBUUHAQX1xZB/BlOBcFJkE5dBBf/jKO/wM1NnRVE3Dq4KP4Ei4PL49Ag6eGl1zsSvyEPlJD7muR92vQOGilji2LeG4COpJGkE0l7krqxQ4UoiuLPzMuhQcCOpBtJ+zFCJQHoAC9MGQMDYD3iegA0rYcmPvckNlqlrLdeNJFHN3bQKmH99aKJfLqx0bZTab1oIs0GNqStyFKcWOnJItbIItbIItbIItbIItbIItbIItbIItbIItbIItbIItbIItbIItYIHvRIErAm6UzSsaSepNWYgZr+31x59OZN+CZpt8nkMag6equEWR6AQ2ArUr54eBK3wNwtaBZPpBeqzxsfL2FNgG+XpVNRNyUSuv2+u/YgRZC2hESuXXsJrKQIEwVgE/hwO2QMHAHbXt3U1goC9IBX/z7s1X77QB94cq9+ue7329JGpgtcMD13n/wRbAhMvP7EXUsqsthTclawPOmVa4czCyz6JE6N9yF9ASPv+qn/Df1nxloA98Az7jdRqvVd7S5Vnh8A5lk64ewAzwAAAABJRU5ErkJggg==\"","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport \"./style.scss\";\r\n\r\nclass PostingCard extends React.Component {\r\n    render() {\r\n        const posting = this.props.posting\r\n\r\n        return (\r\n            <Link to={\"/trip/\" + String(posting._id)}>\r\n                <div className=\"posting-card\">\r\n                    <div className='posting-info-container'>\r\n                        <h3 className=\"posting-info posting-title\">{posting.title}</h3>\r\n                        <div className=\"posting-info posting-date\">{posting.date}</div>\r\n                    </div>\r\n\r\n                    <img\r\n                        className=\"posting-cover\"\r\n                        src={posting.images[0]}\r\n                        alt=\"\"\r\n                    />\r\n                </div>\r\n            </Link>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default PostingCard;\r\n\r\n","import React from 'react';\r\nimport PostingCard from 'components/Home/PostingCard';\r\n\r\nclass PostingCardColumn extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            postingCardColumn: this.props.postingCardColumn,\r\n        };\r\n    }\r\n    render(){\r\n        return(\r\n            <div className=\"posting-card-column-page\">\r\n                {this.state.postingCardColumn.postings.map((posting, idx) => (\r\n                    <PostingCard key={idx} posting={posting}/>\r\n                ))}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default PostingCardColumn;","\r\n/**\r\n* Handle setState when an input event occurs. \r\n* @param {React.Component} component \r\n* @param {Event} event \r\n*/\r\nexport function handleInputChange(component, event) {\r\n    // From course demo\r\n    const target = event.target;\r\n    const value = target.value;\r\n    const name = target.name;\r\n\r\n    component.setState({ [name]: value });\r\n\r\n    // console.log(\"handleInputChange\", {[name]: value})\r\n}\r\n\r\n\r\nexport function reloadPage() {\r\n    window.location.reload(false);\r\n}\r\n\r\nexport function redirectToPage(route = \"/\", newTab) {\r\n    if (newTab){\r\n        window.open(route, '_blank')\r\n    } else {\r\n        document.location.href = route\r\n    }\r\n}\r\n","const origin = process.env.REACT_APP_ORIGIN\r\n\r\nasync function get(route, params = {}) {\r\n  const url = new URL(origin + route)\r\n\r\n  // Append query params to url\r\n  Object.keys(params).forEach(key => url.searchParams.append(key, params[key]))\r\n  console.log(\"GET\", url)\r\n\r\n  const response = await fetch(url, {\r\n    method: 'GET',\r\n    mode: 'cors',\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n  })\r\n\r\n  return { response, body: await response.json() }\r\n}\r\n\r\nasync function post(route, data = {}) {\r\n  const url = new URL(origin + route)\r\n\r\n  try {\r\n    const response = await fetch(url, {\r\n      method: 'POST',\r\n      mode: 'cors',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(data)\r\n    })\r\n\r\n    return { response, body: await response.json() }\r\n  } catch (error) {\r\n    throw error\r\n  }\r\n}\r\n\r\nasync function put(route, data = {}) {\r\n  const url = new URL(origin + route)\r\n\r\n  const response = await fetch(url, {\r\n    method: 'PUT',\r\n    mode: 'cors',\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify(data)\r\n  })\r\n\r\n  return { response, body: await response.json() }\r\n}\r\n\r\nasync function del(route, data = {}) {\r\n  const url = new URL(origin + route)\r\n\r\n  const response = await fetch(url, {\r\n    method: 'DELETE',\r\n    mode: 'cors',\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify(data)\r\n  })\r\n\r\n  return { response, body: await response.json() }\r\n}\r\n\r\nexport { get, post, put, del };","import * as http from \"utils/http\"\r\n\r\nconst user = {\r\n    username: \"rainyuxuan\",\r\n    name: \"Rain-Yuxuan\",\r\n    _id: \"userid\",\r\n    role: \"client\",\r\n    status: \"active\"\r\n}\r\n\r\nconst admin = {\r\n    username: \"admin\",\r\n    name: \"Admin-Yuxuan\",\r\n    _id: \"userid\",\r\n    role: \"admin\",\r\n    status: \"active\"\r\n}\r\n\r\n\r\nexport async function clientLogin(username, password) {\r\n    try {\r\n        const { response, body } = await http.post(\"/api/user/login\", { username, password })\r\n        // const response = username === \"user\" ? user : null\r\n        if (response.status === 200) {\r\n            return body\r\n        } else {\r\n            return null\r\n        }\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n}\r\n\r\nexport async function adminLogin(username, password) {\r\n    try {\r\n        const { response, body } = await http.post(\"/api/user/login\", { username, password })\r\n        // const response = username === \"admin\" ? admin : null\r\n        if (response.status === 200) {\r\n            return body\r\n        } else {\r\n            return null\r\n        }\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n}\r\n\r\n\r\nexport async function clientRegister(username, password, name) {\r\n    try {\r\n        const { response, body } = await http.post(\"/api/user\", { username, password, name })\r\n        // const response = username === \"user\" ? null : user\r\n        if (response.status === 200) {\r\n            return body\r\n        } else {\r\n            return null\r\n        }\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n}\r\n\r\n\r\nexport async function logoutUser() {\r\n    try {\r\n        const { response, body } = await http.put(\"/api/user/logout\")\r\n        if (response.status === 200) {\r\n            return true\r\n        } else {\r\n            return false\r\n        }\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n}\r\n\r\nexport async function resumeSession() {\r\n    try {\r\n        const { response, body } = await http.get(\"/api/user/session/resume\")\r\n        if (response.status === 200) {\r\n            console.log(\"Resuming session\", response)\r\n            return body\r\n        } else {\r\n            return null\r\n        }\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n}\r\n","import * as api from \"api/auth\"\r\n\r\nexport function setCurrUser(app, newUser) {\r\n    console.log(\"Set Curr User\", newUser)\r\n    app.setState({ currUser: newUser })\r\n}\r\n\r\nexport async function loginUser(username, password) {\r\n    try {\r\n        if (username.length < 1 || password.length < 1){\r\n            alert(\"Please enter username and password\")\r\n            return null\r\n        }\r\n        \r\n        const user = await api.clientLogin(username, password)\r\n\r\n        if (!user) {\r\n            alert(\"Invalid Credentials\")\r\n            return null\r\n        } else {\r\n            return user\r\n        }\r\n\r\n    } catch (err) {\r\n        console.error(err)\r\n        alert(String(err))\r\n        return null\r\n    }\r\n}\r\n\r\nexport async function loginAdmin(username, password) {\r\n    try {\r\n        if (username.length < 1 || password.length < 1){\r\n            alert(\"Please enter username and password\")\r\n            return null\r\n        }\r\n        \r\n        const user = await api.adminLogin(username, password)\r\n\r\n        if (!user) {\r\n            alert(\"Invalid Credentials\")\r\n            return null\r\n        } else if (user.role !== \"admin\") {\r\n            alert(\"Permission denied\")\r\n            return null\r\n        } else if (user.role === \"admin\") {\r\n            return user\r\n        }\r\n\r\n    } catch (err) {\r\n        console.error(err)\r\n        alert(String(err))\r\n        return null\r\n    }\r\n}\r\n\r\n\r\nexport async function registerUser(username, password, name) {\r\n    try {\r\n        if (username.length < 1 || password.length < 1){\r\n            alert(\"Please enter username and password\")\r\n            return null\r\n        }\r\n        \r\n        const user = await api.clientRegister(username, password, name)\r\n\r\n        if (!user) {\r\n            alert(\"Username already exists\")\r\n            return null\r\n        } else {\r\n            return user\r\n        }\r\n\r\n    } catch (err) {\r\n        console.error(err)\r\n        alert(String(err))\r\n        return null\r\n    }\r\n}\r\n\r\n\r\nexport async function resumeSession() {\r\n    try {       \r\n        const user = await api.resumeSession()\r\n\r\n        if (!user) {\r\n            return null\r\n        } else {\r\n            return user\r\n        }\r\n    } catch (err) {\r\n        console.error(err)\r\n        alert(String(err))\r\n        return null\r\n    }\r\n}\r\n\r\nexport async function logoutUser() {\r\n    try {       \r\n        await api.logoutUser()\r\n        return null\r\n    } catch (err) {\r\n        console.error(err)\r\n        alert(String(err))\r\n        return null\r\n    }\r\n}","import React from 'react';\r\nimport \"./style.scss\";\r\n\r\nimport { handleInputChange } from \"actions\"\r\nimport { registerUser } from 'actions/Auth';\r\n\r\nclass UserRegisterModal extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            usernameInput: \"\",\r\n            passwordInput: \"\",\r\n            confirmInput: \"\",\r\n            nameInput: \"\",\r\n            warningMessage: undefined,\r\n        }\r\n    }\r\n\r\n    setWarningMessage = warningMessage => {\r\n        this.setState({ warningMessage })\r\n    }\r\n\r\n    submitRegister = async () => {\r\n        const { handleCloseModal, handleCloseRegisterModal } = this.props\r\n\r\n        const username = this.state.usernameInput\r\n        const password = this.state.passwordInput\r\n        const confirm = this.state.confirmInput\r\n        const name = this.state.nameInput\r\n\r\n        if (confirm !== password) {\r\n            this.setWarningMessage(\"Password does not match!\")\r\n            return\r\n        }\r\n\r\n        if (username.length < 1 || password.length < 1 || name.length < 1) {\r\n            this.setWarningMessage(\"Fields cannot be empty!\")\r\n            return\r\n        }\r\n\r\n        const newUser = await registerUser(username, password, name)\r\n\r\n        if (!newUser) {\r\n            this.setWarningMessage(\"User already exists!\")\r\n        } else {\r\n            // Correct credential, register user\r\n            // handleCloseModal()\r\n            alert(`Successfully registered ${newUser.username}! You can login now.`)\r\n            handleCloseRegisterModal()\r\n        }\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.registerModalDisplay) {\r\n            return null\r\n        }\r\n\r\n        return (\r\n            <div className=\"user-register-modal\">\r\n                <form className=\"user-register-form\">\r\n                    <h2 className=\"register-title\">Register</h2>\r\n                    <div className=\"user-register-input\">\r\n                        <span>Username</span>\r\n                        <input\r\n                            value={this.state.usernameInput}\r\n                            onChange={(e) => handleInputChange(this, e)}\r\n                            type=\"text\"\r\n                            name=\"usernameInput\"\r\n                            placeholder=\"Username\"\r\n                        />\r\n                    </div>\r\n                    <div className=\"user-register-input\">\r\n                        <span>Password</span>\r\n                        <input\r\n                            value={this.state.passwordInput}\r\n                            onChange={(e) => handleInputChange(this, e)}\r\n                            type=\"password\"\r\n                            name=\"passwordInput\"\r\n                            placeholder=\"Password\"\r\n                        />\r\n                    </div>\r\n                    <div className=\"user-register-input\">\r\n                        <span>Confirm password</span>\r\n                        <input\r\n                            value={this.state.confirmInput}\r\n                            onChange={(e) => handleInputChange(this, e)}\r\n                            type=\"password\"\r\n                            name=\"confirmInput\"\r\n                            placeholder=\"Confirm Password\"\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"user-register-input\">\r\n                        <span>Nickname</span>\r\n                        <input\r\n                            value={this.state.nameInput}\r\n                            onChange={(e) => handleInputChange(this, e)}\r\n                            type=\"text\"\r\n                            name=\"nameInput\"\r\n                            placeholder=\"Name\"\r\n                        />\r\n                    </div>\r\n\r\n\r\n                    {\r\n                        this.state.warningMessage ?\r\n                            <div className=\"user-register-warning\">\r\n                                {this.state.warningMessage}\r\n                            </div> :\r\n                            null\r\n                    }\r\n\r\n\r\n                    <div>\r\n                        <button type=\"button\" className='register-submit-button' onClick={this.props.handleCloseRegisterModal}>\r\n                            Cancel\r\n                        </button>\r\n\r\n                        <button type=\"button\" className='register-submit-button' onClick={this.submitRegister}>\r\n                            Register\r\n                        </button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default UserRegisterModal","import React from 'react';\r\nimport UserRegisterModal from '../UserRegisterModal';\r\nimport { loginUser } from 'actions/Auth';\r\nimport \"./style.scss\";\r\n\r\nclass UserLogin extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            usernameInput: \"\",\r\n            passwordInput: \"\",\r\n            warningMessage: undefined,\r\n            registerModalDisplay: false,\r\n        }\r\n    }\r\n\r\n    handleInputChange = e => {\r\n        const target = e.target;\r\n        const value = target.value;\r\n        const name = target.name;\r\n\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    };\r\n\r\n    setWarningMessage = warningMessage => {\r\n        this.setState({ warningMessage })\r\n    }\r\n\r\n    submitLogin = async () => {\r\n        const { setCurrUser, handleCloseModal } = this.props\r\n\r\n        const username = this.state.usernameInput\r\n        const password = this.state.passwordInput\r\n        \r\n        const user = await loginUser(username, password)\r\n        if (user) {\r\n            // Correct credential, login user\r\n            setCurrUser(user)\r\n            handleCloseModal()\r\n        } else {\r\n            this.setWarningMessage(\"Login Failed\")\r\n        }\r\n    }\r\n\r\n    handleOpenRegisterModal = () => {\r\n        this.setState({registerModalDisplay: true});\r\n    }\r\n\r\n    handleCloseRegisterModal = () => {\r\n        this.setState({registerModalDisplay: false});\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.loginModalDisplay) {\r\n            return null\r\n        }\r\n\r\n        return (\r\n            <div className=\"user-login-modal\">\r\n                <form className=\"user-login-form\">\r\n                    <h2 className=\"login-title\">Login</h2>\r\n                    <div className=\"user-login-input\">\r\n                        <span>Username</span>\r\n                        <input\r\n                            value={this.state.usernameInput}\r\n                            onChange={this.handleInputChange}\r\n                            type=\"text\"\r\n                            name=\"usernameInput\"\r\n                            placeholder=\"Username\"\r\n                        />\r\n                    </div>\r\n                    <div className=\"user-login-input\">\r\n                        <span>Password</span>\r\n                        <input\r\n                            value={this.state.passwordInput}\r\n                            onChange={this.handleInputChange}\r\n                            type=\"password\"\r\n                            name=\"passwordInput\"\r\n                            placeholder=\"Password\"\r\n                        />\r\n                    </div>\r\n                    <div className=\"register-message\">\r\n                        <u className=\"message\" onClick={this.handleOpenRegisterModal}>Click here to register</u>\r\n\r\n                        <UserRegisterModal\r\n                            registerModalDisplay={this.state.registerModalDisplay}\r\n                            handleCloseModal={this.props.handleCloseModal}\r\n                            handleCloseRegisterModal={this.handleCloseRegisterModal}\r\n                        />\r\n                    </div>\r\n\r\n                    {\r\n                        this.state.warningMessage ?\r\n                            <div className=\"user-login-warning\">\r\n                                { this.state.warningMessage }\r\n                            </div> :\r\n                            null\r\n                    }\r\n\r\n\r\n                    <div>\r\n                        <button type=\"button\" className='login-submit-button' onClick={this.props.handleCloseModal}>\r\n                            Cancel\r\n                        </button>\r\n\r\n                        <button type=\"button\" className='login-submit-button' onClick={this.submitLogin}>\r\n                            Login\r\n                        </button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default UserLogin","import React from 'react';\r\n\r\nimport UserLoginModal from 'components/LoginRegister/UserLoginModal';\r\nimport * as action from \"actions/Auth\"\r\n\r\nimport './style.scss';\r\n\r\nclass UserLoginWindow extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            loginModalDisplay: false,\r\n        };\r\n    }\r\n\r\n    handleOpenModal = () => {\r\n        this.setState({ loginModalDisplay: true });\r\n    }\r\n\r\n    handleCloseModal = () => {\r\n        this.setState({ loginModalDisplay: false });\r\n    }\r\n\r\n    logoutUser = () => {\r\n        this.props.setCurrUser(null)\r\n        action.logoutUser()\r\n    }\r\n\r\n    render() {\r\n        const { currUser, setCurrUser } = this.props\r\n        if (currUser) {\r\n            // If already login as a user\r\n            return (\r\n                <div className=\"login\">\r\n                    <button type=\"button\" className=\"login-button\" onClick={this.logoutUser}>LOGOUT</button>\r\n                </div>\r\n            )\r\n        }\r\n        \r\n        // if not logged in\r\n        return (\r\n            <div className=\"login\">\r\n                <button className='login-button' onClick={this.handleOpenModal}>\r\n                    LOGIN | REGISTER\r\n                </button>\r\n\r\n\r\n                <UserLoginModal\r\n                    loginModalDisplay={this.state.loginModalDisplay}\r\n                    handleCloseModal={this.handleCloseModal}\r\n\r\n                    currUser={currUser}\r\n                    setCurrUser={setCurrUser}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default UserLoginWindow;","import * as http from \"utils/http\"\r\nimport avatar from 'assets/images/66385278_p8.jpg';\r\nimport img1 from 'assets/images/home/pic1.jpg';\r\nimport img2 from 'assets/images/home/pic3.jpg';\r\nimport pic1 from \"assets/images/home/pic1.jpg\";\r\nimport pic2 from \"assets/images/home/pic2.jpeg\";\r\nimport pic3 from \"assets/images/home/pic3.jpg\";\r\nimport pic4 from \"assets/images/home/pic4.jpg\";\r\nimport pic5 from \"assets/images/home/pic5.jpg\";\r\nimport pic6 from \"assets/images/home/pic6.jpg\";\r\nimport pic8 from \"assets/images/home/pic8.jpg\";\r\n\r\nconst author = {\r\n    _id: \"userid\",\r\n    username: \"user\",\r\n    name: \"User Doe\",\r\n    description: \"Lorem ipsum dtque quo itaque? qsum sit.\",\r\n    avatar: avatar\r\n}\r\n\r\nconst mockPosting = {\r\n    _id: 5,\r\n    title: \"Trip to Toronto\",\r\n    author,\r\n    journey: {\r\n        _id: 1,\r\n        title: \"Journey to Canada\"\r\n    },\r\n    date: (new Date()).toLocaleDateString(\"en-CA\"),\r\n    destination: \"Toronto, ON, Canada\",\r\n    latitude: 43.662891,\r\n    longitude: -79.395653,\r\n    body: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. \\nUt enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. \\n Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\\n Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. \",\r\n    images: [img1, img2]\r\n}\r\n\r\nconst postingList = {\r\n    \"Travel to Canada\": {\r\n        _id: \"2d12d12das\",\r\n        title: \"Travel to Canada\",\r\n        author,\r\n        journeyPostings: [\r\n            {\r\n                author,\r\n                _id: 100,\r\n                date: (new Date()).toLocaleDateString(\"en-CA\"),\r\n                title: \"Title\",\r\n                latitude: 43.662891,\r\n                longitude: -79.395653,\r\n                body: \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Voluptate exercitationem facilis molestias sunt similique, quae doloremque commodi quisquam, aperiam nisi fugit, atque quo itaque? Fugiat consequatur quia beatae ipsum sit.\",\r\n                image: [pic1]\r\n            },\r\n            {\r\n                author,\r\n                _id: 101,\r\n                date: (new Date()).toLocaleDateString(\"en-CA\"),\r\n                title: \"Hello\",\r\n                latitude: 43.6577,\r\n                longitude: -79.3788,\r\n                body: \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Voluptate exercitationem facilis molestias sunt similique, quae doloremque commodi quisquam, aperiam nisi fugit, atque quo itaque? Fugiat consequatur quia beatae ipsum sit.Lorem ipsum dolor sit amet consectetur adipisicing elit. Voluptate exercitationem facilis molestias sunt similique, quae doloremque commodi quisquam, aperiam nisi fugit, atque quo itaque? Fugiat consequatur quia beatae ipsum sit.Lorem ipsum dolor sit amet consectetur adipisicing elit. Voluptate exercitationem facilis molestias sunt similique, quae doloremque commodi quisquam, aperiam nisi fugit, atque quo itaque? Fugiat consequatur quia beatae ipsum sit.\",\r\n                image: [pic2],\r\n            },\r\n            {\r\n                author,\r\n                _id: 102,\r\n                date: (new Date()).toLocaleDateString(\"en-CA\"),\r\n                title: \"Demo\",\r\n                latitude: 43.643567,\r\n                longitude: -79.387054,\r\n                body: \"Travelling and happy\",\r\n                image: [pic3],\r\n            },\r\n        ],\r\n    },\r\n    \"Travel to North\": {\r\n        _id: 1,\r\n        title: \"Travel to North\",\r\n        author,\r\n        journeyPostings: [\r\n            {\r\n                author,\r\n                _id: 103,\r\n                date: (new Date()).toLocaleDateString(\"en-CA\"),\r\n                title: \"Title\",\r\n                latitude: 43.6901,\r\n                longitude: -79.42,\r\n                body: \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Voluptate exercitationem facilis molestias sunt similique, quae doloremque commodi quisquam, aperiam nisi fugit, atque quo itaque? Fugiat consequatur quia beatae ipsum sit.\",\r\n                image: [pic5],\r\n            },\r\n        ],\r\n    },\r\n    Traveling: {\r\n        _id: 2,\r\n        title: \"Traveling\",\r\n        author,\r\n        journeyPostings: [\r\n            {\r\n                author,\r\n                _id: 105,\r\n                date: (new Date()).toLocaleDateString(\"en-CA\"),\r\n                title: \"Title\",\r\n                latitude: 43.683392,\r\n                longitude: -79.3812,\r\n                body: \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Voluptate exercitationem facilis molestias sunt similique, quae doloremque commodi quisquam, aperiam nisi fugit, atque quo itaque? Fugiat consequatur quia beatae ipsum sit.\",\r\n                image: [pic6],\r\n            },\r\n        ],\r\n    },\r\n};\r\n\r\n\r\nconst postingCardColumns = [\r\n    {\r\n        postings: [\r\n            {\r\n                _id: 1,\r\n                title: \"Lorem ipsum\",\r\n                date: (new Date()).toLocaleDateString(\"en-CA\"),\r\n                images: [pic1],\r\n                latitude: 43.662891,\r\n                longitude: -79.395653\r\n            },\r\n            {\r\n                _id: 2,\r\n                title: \"Lorem ipsum\",\r\n                date: (new Date()).toLocaleDateString(\"en-CA\"),\r\n                images: [pic4],\r\n                latitude: 43.6577,\r\n                longitude: -79.3788\r\n            },\r\n        ],\r\n    },\r\n    {\r\n        postings: [\r\n            {\r\n                _id: 3,\r\n                title: \"Lorem ipsum\",\r\n                date: (new Date()).toLocaleDateString(\"en-CA\"),\r\n                images: [pic3],\r\n                latitude: 43.643567,\r\n                longitude: -79.387054\r\n            },\r\n            {\r\n                _id: 4,\r\n                title: \"Lorem ipsum\",\r\n                date: (new Date()).toLocaleDateString(\"en-CA\"),\r\n                images: [pic6],\r\n                latitude: 43.632889,\r\n                longitude: -79.352927\r\n            },\r\n            {\r\n                _id: 5,\r\n                title: \"Lorem ipsum\",\r\n                date: (new Date()).toLocaleDateString(\"en-CA\"),\r\n                images: [pic8],\r\n                latitude: 43.6901,\r\n                longitude: -79.42\r\n            }\r\n        ],\r\n    },\r\n    {\r\n        postings: [\r\n            {\r\n                _id: 6,\r\n                title: \"Lorem ipsum\",\r\n                date: (new Date()).toLocaleDateString(\"en-CA\"),\r\n                images: [pic5],\r\n                latitude: 43.683392,\r\n                longitude: -79.3812\r\n            },\r\n            {\r\n                _id: 7,\r\n                title: \"Lorem ipsum\",\r\n                date: (new Date()).toLocaleDateString(\"en-CA\"),\r\n                images: [pic2],\r\n                latitude: 42.9345,\r\n                longitude: -78.2566\r\n            },\r\n        ],\r\n    },\r\n];\r\n\r\n\r\n/**\r\n * Get postings for the home page\r\n */\r\nasync function getHomePostings(params) {\r\n    try {\r\n        // const response = await http.get(`/api/posting`, params)\r\n        const response = postingCardColumns\r\n        return response\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * Get the data of a posting, including author and journey.\r\n * @param {*} pid \r\n * @returns \r\n */\r\nasync function getPosting(pid) {\r\n    try {\r\n        // const response = await http.get(`/api/posting/${pid}`)\r\n        const response = mockPosting\r\n        return response\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * Create a posting.\r\n * @param {*} data \r\n * @returns \r\n */\r\nasync function createPosting(data) {\r\n    try {\r\n        // const response = await http.post('/api/posting', data)\r\n        const response = { ...data, _id: 66 }\r\n        return response\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n}\r\n\r\n/**\r\n * Edit a posting.\r\n * @param {*} pid \r\n * @param {*} data \r\n * @returns \r\n */\r\nasync function updatePosting(pid, data) {\r\n    try {\r\n        // const response = await http.put(`/api/posting/${pid}`, data)\r\n        // console.log(\"Update\", data)\r\n        const response = data\r\n        return response\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n}\r\n\r\n/**\r\n * Delete a posting. If the journey is empty, delete the journey.\r\n * @param {*} pid \r\n * @returns \r\n */\r\nasync function deletePosting(pid) {\r\n    try {\r\n        // const response = await http.del(`/api/posting/${pid}`)\r\n        const response = mockPosting\r\n        return response\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n}\r\n\r\n/**\r\n * Get a list of journeys of the user, with meta-information \r\n * about the trips of each journey, for posting-edit.\r\n * @param {*} uid \r\n * @returns \r\n */\r\nasync function getUserJourneys(uid) {\r\n    try {\r\n        // const response = await http.get(`/api/user/${uid}/journey`)\r\n        const response = [\r\n            {\r\n                _id: \"sdhoiwd1oi2hd12dh21213\",\r\n                title: \"Journey to Canada\"\r\n            }, {\r\n                _id: \"sdhsaddsai2hd12dh21213\",\r\n                title: \"Journey to Toronto\"\r\n            }, {\r\n                _id: \"sd123wd1oi2hd12dh21213\",\r\n                title: \"Journey to Montreal\"\r\n            }\r\n        ]\r\n        return response\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * Get a journey and its postings\r\n * @param {*} jid \r\n * @returns \r\n */\r\nasync function getJourney(jid) {\r\n    try {\r\n        // const response = await http.get(`/api/journey/${jid}`)\r\n        const response = postingList[\"Travel to Canada\"]\r\n        return response\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * Create a journey\r\n * @param {*} body \r\n * @returns \r\n */\r\nexport async function postJourney(body) {\r\n    try {\r\n        // const response = await http.post(`/api/user/${String(body.author._id)}/journey`)\r\n        const response = { ...postingList[\"Travel to Canada\"], title: body.title, author: body.author }\r\n        return response\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n}\r\n\r\n/**\r\n * Update a journey\r\n * @param {*} body \r\n * @returns \r\n */\r\n export async function updateJourney(jid, body) {\r\n    try {\r\n        // const response = await http.put(`/api/journey/${String(jid)}`, body)\r\n        const response = { ...postingList[\"Travel to Canada\"], title: body.title, author: body.author }\r\n        return response\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n}\r\n\r\n/**\r\n * Delete a journey\r\n * @param {*} body \r\n * @returns \r\n */\r\n export async function deleteJourney(jid) {\r\n    try {\r\n        // const response = await http.del(`/api/journey/${String(jid)}`)\r\n        const response = { ...postingList[\"Travel to Canada\"]}\r\n        return response\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n}\r\n\r\n/**\r\n * Return user’s trips and journeys, for the profile page\r\n * @param {*} uid \r\n * @returns \r\n */\r\nasync function getUserPostings(uid) {\r\n    try {\r\n        // const response = await http.get(`/api/user/${uid}/posting`)\r\n        const response = postingList\r\n        return response\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n}\r\n\r\n\r\nexport {\r\n    getHomePostings,\r\n    getPosting,\r\n    createPosting,\r\n    updatePosting,\r\n    deletePosting,\r\n    getUserJourneys,\r\n    getJourney,\r\n    getUserPostings\r\n}","\r\nimport { getHomePostings } from \"api/posting\"\r\n\r\nexport async function setHomePostingColumns(component, search) {\r\n    try {\r\n        console.log(\"Searching for\", search)\r\n        const postingCardColumns = await getHomePostings({ search })\r\n        component.setState({ postingCardColumns })\r\n    } catch (err) {\r\n\r\n    }\r\n}","import React from 'react';\r\n\r\nimport PostingCardColumn from \"components/Home/PostingCardColumn\";\r\n\r\nimport UserLoginWindow from 'components/LoginRegister/UserLoginWindow';\r\n\r\nimport \"./style.scss\";\r\n\r\nimport { handleInputChange } from 'actions';\r\nimport { setHomePostingColumns } from 'actions/Posting'\r\n\r\nclass HomeView extends React.Component {\r\n    state = {\r\n        // postingCardColumns: this.props.postingCardColumns,\r\n        search: \"\"\r\n    }\r\n\r\n    // componentDidMount() {\r\n    //     // TODO: UpdatePostingCardColumns\r\n    //     setHomePostingColumns(this, this.state.search)\r\n    // }\r\n\r\n    render() {\r\n        const { currUser, setCurrUser, postingCardColumns, setSearch } = this.props\r\n        return (\r\n            <div className=\"home-view\">\r\n                <div className=\"web-header\">\r\n                    <h1 className=\"web-title\">\r\n                        Vojaĝanto\r\n                    </h1>\r\n\r\n                    <div className=\"home-search\">\r\n                        <input type=\"text\" className=\"home-search-input\" name=\"search\" placeholder=\"Search for trips!\" onChange={(e) => handleInputChange(this, e)} />\r\n                        <button className=\"home-search-btn\" onClick={() => setSearch(this.state.search)}>Search</button>\r\n\r\n                    </div>\r\n\r\n                    <UserLoginWindow\r\n                        currUser={currUser}\r\n                        setCurrUser={setCurrUser}\r\n                    />\r\n                </div>\r\n\r\n                <div className=\"posting-card-columns\">\r\n                    {postingCardColumns.map((postingCardColumn, idx) => (\r\n                        <PostingCardColumn key={idx} postingCardColumn={postingCardColumn} />\r\n                    ))}\r\n                </div>\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default HomeView;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport \"./nav.scss\";\r\n\r\nimport CreateIcon from '@material-ui/icons/Create';\r\n\r\nclass Navbar extends React.Component {\r\n\r\n    render() {\r\n        const { currUser } = this.props\r\n        \r\n        return (\r\n            <div className=\"navbar\">\r\n                <div className=\"navbar-main\">\r\n                    <Link className=\"nav-item\" to=\"/\">\r\n                        HOME\r\n                    </Link>\r\n                    {\r\n                        currUser ?\r\n                            <Link className=\"nav-item\" to={`/profile/${String(currUser._id)}`}>\r\n                                PROFILE\r\n                            </Link>\r\n                            : null\r\n                    }\r\n\r\n                </div>\r\n                {\r\n                    currUser ?\r\n                        <div className=\"navbar-edit\">\r\n                            <Link className=\"nav-item to-edit\" to=\"/new-posting\">\r\n                                <CreateIcon />\r\n                            </Link>\r\n                        </div>\r\n                        : null\r\n                }\r\n\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nexport default Navbar;","import React from 'react';\r\nimport { Map, TileLayer, Marker, Popup } from 'react-leaflet';\r\nimport { Icon } from \"leaflet\";\r\n//import map from \"./map.png\";\r\n//import LocationMarker from \"components/MapPlugin/LocationMarker\";\r\n\r\nimport \"./style.scss\";\r\n\r\nexport const icons = [\r\n    new Icon({\r\n        iconUrl: \"https://upload.wikimedia.org/wikipedia/commons/thumb/f/fb/Map_pin_icon_green.svg/800px-Map_pin_icon_green.svg.png\",\r\n        iconSize: [25, 25]\r\n    }),\r\n    new Icon({\r\n        iconUrl: \"https://www.clipartmax.com/png/full/86-869339_yellow-map-marker-png.png\",\r\n        iconSize: [25, 25]\r\n    }),\r\n    new Icon({\r\n        iconUrl: \"http://www.clker.com/cliparts/1/K/0/V/P/H/map-pin-pink.svg.hi.png\",\r\n        iconSize: [25, 25]\r\n    }),\r\n];\r\n\r\n\r\nclass Mapp extends React.Component {\r\n    state = {\r\n        currLoc: null,\r\n        enableAddLocation: false,\r\n        newPosting: null,\r\n        editing: false\r\n    }\r\n\r\n    setCurrLoc = (location) => {\r\n        console.log(location)\r\n        this.setState({ currLoc: location });\r\n        // console.log(\"after\")\r\n    }\r\n\r\n    addMarker = (event, enableAddLocation, allPostings) => {\r\n        if (enableAddLocation) {\r\n            console.log(\"enabled\")\r\n            allPostings.latitude = event.latlng.lat\r\n            allPostings.longitude = event.latlng.lng\r\n            this.setState({ newPosting: allPostings, editing: true })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { parent, allPostings, enableAddLocation } = this.props\r\n        const { newPosting } = this.state\r\n\r\n        return (\r\n            <Map center={[43.662891, -79.395653]} zoom={12}\r\n                onClick={(e) => { this.addMarker(e, enableAddLocation, allPostings); }}>\r\n                <TileLayer\r\n                    url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n                    attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n                />\r\n\r\n                {/* <div classname='location'>\r\n                    <button classname='location-button'>Toronto, ON,</button>\r\n                </div> */}\r\n\r\n                {/* Marker for Home page */}\r\n                {parent === \"Home\" && allPostings.map(allPosting => (\r\n                    allPosting.postings.map(posting => (\r\n                        <Marker\r\n                            key={posting._id}\r\n                            position={[posting.latitude, posting.longitude]}\r\n                            onClick={() => {\r\n                                this.setCurrLoc(posting)\r\n                            }}\r\n                        />\r\n                    ))\r\n                ))}\r\n\r\n                {/* Marker for ViewPosting page or EditingPosting if posting exists*/}\r\n                {(parent === \"ViewPosting\" || (parent === \"EditPosting\" && !this.state.editing)) && (\r\n                    <Marker\r\n                        key={allPostings._id}\r\n                        position={[\r\n                            allPostings.latitude,\r\n                            allPostings.longitude\r\n                        ]}\r\n                        onClick={() => {\r\n                            this.setCurrLoc(allPostings);\r\n                        }}\r\n                    />\r\n                )}\r\n\r\n                {/* Marker for Profile page */}\r\n                {parent === \"Profile\" && Object.keys(allPostings).map((journey, i) => (\r\n                    allPostings[journey].journeyPostings.map(posting => (\r\n                        <Marker\r\n                        key={posting._id}\r\n                        position={[posting.latitude, posting.longitude]}\r\n                        onClick={() => {\r\n                            this.setCurrLoc(posting)\r\n                        }}\r\n                        // don't know how to loop index\r\n                        icon={icons[i]}\r\n                    />\r\n                    ))\r\n                ))}\r\n\r\n                {/* Marker for Journey Page */}\r\n                {parent === \"JourneyPosting\" && allPostings.map(allPosting => (\r\n                    <Marker\r\n                    key={allPosting._id}\r\n                    position={[\r\n                        allPosting.latitude,\r\n                        allPosting.longitude\r\n                    ]}\r\n                    onClick={() => {\r\n                        this.setCurrLoc(allPosting);\r\n                    }}\r\n                    />\r\n                ))}\r\n\r\n                {/* Add Markfer for new location during editing */}\r\n                {this.state.newPosting && (\r\n                    <Marker\r\n                        key={newPosting._id}\r\n                        position={[\r\n                            newPosting.latitude,\r\n                            newPosting.longitude\r\n                        ]}\r\n                        onClick={() => {\r\n                            this.setCurrLoc(newPosting)\r\n                        }}\r\n                    />\r\n                )}\r\n\r\n                {this.state.currLoc && (\r\n                    <Popup\r\n                        position={[\r\n                            this.state.currLoc.latitude,\r\n                            this.state.currLoc.longitude\r\n                        ]}\r\n                        onClose={() => {\r\n                            this.setCurrLoc(null);\r\n                        }}\r\n                    >\r\n                        <div>\r\n                            <h2>{this.state.currLoc.title}</h2>\r\n                            <p>{this.state.currLoc.date}</p>\r\n                        </div>\r\n\r\n                    </Popup>\r\n                )}\r\n\r\n            </Map>\r\n        )\r\n\r\n    }\r\n\r\n}\r\n\r\nexport default Mapp;","import React from 'react';\r\nimport HomeView from \"components/Home/HomeView\";\r\nimport Navbar from \"components/Navbar\";\r\nimport Map from \"components/MapPlugin/Mapp\";\r\nimport * as action from \"actions/Posting\"\r\n//import { setHomePostingColumns } from 'actions/Posting'\r\n\r\nimport \"./style.scss\";\r\n\r\nclass HomePage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            postingCardColumns: [],\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        // TODO: UpdatePostingCardColumns\r\n        action.setHomePostingColumns(this, \"\")\r\n    }\r\n\r\n    searchPosting(search) {\r\n        console.log(\"page receive search\", search)\r\n        action.setHomePostingColumns(this, search)\r\n    }\r\n\r\n    render() {\r\n        const { currUser, setCurrUser } = this.props\r\n        return (\r\n            <div className=\"page home-page\">\r\n                <div className=\"main-view home-main\">\r\n                    {this.state.postingCardColumns ?\r\n                        <HomeView\r\n                            postingCardColumns={this.state.postingCardColumns}\r\n                            currUser={currUser}\r\n                            setCurrUser={setCurrUser}\r\n                            setSearch={(search) => { this.searchPosting(search) }}\r\n                        />\r\n\r\n                        : <div className=\"posting-placeholder\">Loading Posting</div>\r\n                    }\r\n\r\n                    {/* <HomeView\r\n                        currUser={currUser}\r\n                        setCurrUser={setCurrUser}\r\n                        //postingCardColumns={this.state.postingCardColumns}\r\n                        setPostingCardColumns={this.setPostingCardColumns}\r\n\r\n                    /> */}\r\n\r\n                    <Navbar currUser={currUser} />\r\n                </div>\r\n\r\n                <div className=\"map-view home-map\">\r\n                    {this.state.postingCardColumns ?\r\n                        <Map parent=\"Home\" allPostings={this.state.postingCardColumns}\r\n                        />\r\n                        : <div className=\"posting-placeholder\">Loading Map</div>\r\n                    }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default HomePage;","import React from \"react\";\r\n\r\nimport \"./journeylistposting.scss\";\r\n\r\nclass JourneyListPosting extends React.Component {\r\n  render() {\r\n    const posting = this.props.posting;\r\n    return (\r\n      <div className=\"journey-list-posting\">\r\n        <div className=\"journey-list-posting-text\">\r\n          <h3 className=\"journey-posting-date\">\r\n            {posting.date.toString().substring(0, 11)}\r\n          </h3>\r\n          <h4\r\n            className=\"journey-posting-title\"\r\n          >\r\n            {posting.title}\r\n          </h4>\r\n          <p className=\"journey-posting-body\">{posting.body}</p>\r\n        </div>\r\n        <div className=\"journey-list-posting-image-container\">\r\n          {\r\n            posting.image.length > 0 ?\r\n              <img\r\n                className=\"journey-list-posting-image\"\r\n                src={posting.image[0]}\r\n                alt=\"journey\"\r\n              />\r\n              : null\r\n          }\r\n        </div>\r\n\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default JourneyListPosting;\r\n","import React from \"react\";\r\n\r\nimport JourneyListPosting from \"components/Journey/JourneyListPosting\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./JourneyList.scss\";\r\n\r\nclass JourneyList extends React.Component {\r\n  render() {\r\n    const postingList = this.props.postingList;\r\n    return (\r\n      <div className=\"posting-list-page\">\r\n        {postingList.map((posting, idx) => (\r\n          <Link\r\n            key={idx}\r\n            className=\"journey-posting-link\"\r\n            to={\"/trip/\" + posting._id.toString()}\r\n          >\r\n            <JourneyListPosting\r\n              key={posting._id}\r\n              posting={posting}\r\n            />\r\n          </Link>\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default JourneyList;\r\n","import { redirectToPage, reloadPage } from \"actions\"\r\nimport * as api from \"api/posting\"\r\n\r\nexport async function setJourney(component, jid) {\r\n    try {\r\n        const journey = await api.getJourney(jid)\r\n        console.log(`Get journey ${jid}`, journey)\r\n        component.setState({ ...journey })\r\n    } catch (err) {\r\n        console.error(err)\r\n        alert(String(err))\r\n    }\r\n\r\n}\r\n\r\nexport async function createJourney(component, body) {\r\n    try {\r\n        const journey = await api.postJourney(body)\r\n        if (journey) {\r\n            console.log(`Created journey ${journey._id}`, journey)\r\n            alert(`Created journey ${journey._id}`, journey)\r\n            reloadPage()\r\n        } else {\r\n            alert(\"Creation Failed!\")\r\n        }\r\n    } catch (err) {\r\n        console.error(err)\r\n        alert(String(err))\r\n    }\r\n}\r\n\r\n\r\nexport async function updateJourney(component, jid, body) {\r\n    try {\r\n        console.log(jid, body)\r\n        const journey = await api.updateJourney(jid, body)\r\n        if (journey) {\r\n            console.log(`Updated journey ${journey._id}`, journey)\r\n            alert(`Updated journey ${journey.title}`)\r\n            reloadPage()\r\n        } else {\r\n            alert(\"Edit Failed!\")\r\n        }\r\n    } catch (err) {\r\n        console.error(err)\r\n        alert(String(err))\r\n    }\r\n}\r\n\r\n\r\nexport async function deleteJourney(component, jid) {\r\n    try {\r\n        const journey = await api.deleteJourney(jid)\r\n        if (journey) {\r\n            console.log(`Deleted journey ${jid}`, journey)\r\n            alert(`Deleted journey ${journey.title}`)\r\n            redirectToPage(`/`, false)\r\n        } else {\r\n            alert(\"Deletion Failed!\")\r\n        }\r\n    } catch (err) {\r\n        console.error(err)\r\n        alert(String(err))\r\n    }\r\n}","import React from \"react\";\r\nimport \"./EditJourneyModal.scss\";\r\n\r\nimport { handleInputChange } from \"actions\";\r\nimport { updateJourney, deleteJourney } from \"actions/Journey\";\r\n\r\nclass EditJourneyModal extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            _id: this.props.journeyId,\r\n            title: this.props.title,\r\n            author: this.props.currUser,\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Submit profile updates to server.\r\n     */\r\n    submitJourney() {\r\n        const body = {\r\n            title: this.state.title,\r\n            author: this.state.author,\r\n        }\r\n\r\n        updateJourney(this, this.state._id, body)\r\n    }\r\n\r\n    deleteJourney() {\r\n        if(window.confirm(\"Are you sure you want to delete this journey? Your trips will be moved to Unnamed journey.\")){\r\n            deleteJourney(this, this.state._id)\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { display, toggleModal } = this.props\r\n\r\n        if (!display) {\r\n            // Hide the modal\r\n            return <></>\r\n        } else {\r\n            return (\r\n                <div className=\"update-journey-modal\">\r\n                    <h2 className=\"update-journey-instruction\">Edit Journey</h2>\r\n                    <div className=\"update-journey-content\">\r\n\r\n                        <form className=\"update-journey-form\">\r\n\r\n                            <div className=\"update-journey-item\">\r\n                                <span className=\"update-journey-title\">\r\n                                    Title\r\n                                </span>\r\n\r\n                                <input\r\n                                    type=\"text\"\r\n                                    name=\"title\"\r\n                                    placeholder=\"Journey to the West\"\r\n                                    onChange={e => handleInputChange(this, e)}\r\n                                    value={this.state.title}\r\n                                />\r\n                            </div>\r\n                            <div className=\"modal-buttons\">\r\n                                <button\r\n                                    type=\"button\"\r\n                                    className=\"update-journey-btn\"\r\n                                    onClick={toggleModal}\r\n                                >\r\n                                    Cancel\r\n                                </button>\r\n\r\n                                <button\r\n                                    type=\"button\"\r\n                                    className=\"update-journey-btn\"\r\n                                    onClick={() => this.deleteJourney()}\r\n                                >\r\n                                    Delete Journey\r\n                                </button>\r\n\r\n                                <button\r\n                                    type=\"button\"\r\n                                    className=\"update-journey-btn\"\r\n                                    id=\"update-journey-apply\"\r\n                                    onClick={this.submitJourney.bind(this)}\r\n                                >\r\n                                    Update\r\n                                </button>\r\n                            </div>\r\n                        </form>\r\n\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n}\r\nexport default EditJourneyModal;\r\n","import React from \"react\";\r\n\r\nimport JourneyList from \"components/Journey/JourneyList\";\r\nimport EditJourneyModal from \"../EditJourneyModal\";\r\nimport \"./journey.scss\";\r\n\r\n// import { setJourney } from \"actions/Journey\"\r\n\r\nclass Journey extends React.Component {\r\n  state = {\r\n    // _id: this.props.journeyId,\r\n    // journeyPostings: [],\r\n    // title: \"\",\r\n    // author: null,\r\n    displayEditModal: false\r\n  }\r\n\r\n  // componentDidMount() {\r\n  //   setJourney(this, this.state._id)\r\n  // }\r\n\r\n\r\n  toggleEditModal() {\r\n    this.setState({\r\n      displayEditModal: !this.state.displayEditModal\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { currUser } = this.props\r\n\r\n    return (\r\n      <div className=\"journey-page\">\r\n        <div className=\"journey-meta\">\r\n          <h1 className=\"trip-type\">{this.props.title}</h1>\r\n\r\n          {\r\n            currUser && this.props.author && String(currUser._id) === String(this.props.author._id) ?\r\n              <div>\r\n                <button className=\"edit-journey-btn\" onClick={() => this.toggleEditModal()}>Edit</button>\r\n                <EditJourneyModal\r\n                  display={this.state.displayEditModal}\r\n                  toggleModal={() => this.toggleEditModal()}\r\n                  title={this.props.title}\r\n                  journeyId={this.props.journeyId}\r\n                  currUser={currUser}\r\n                />\r\n              </div>\r\n\r\n\r\n              : <></>\r\n          }\r\n        </div>\r\n\r\n        <div className=\"journey-list\">\r\n          <JourneyList postingList={this.props.journeyPostings} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default Journey;\r\n","import React from \"react\";\r\n\r\nimport Navbar from \"components/Navbar\";\r\nimport Map from \"components/MapPlugin/Mapp\";\r\n\r\nimport JourneyView from \"components/Journey/JourneyView\";\r\nimport * as actions from \"actions/Journey\"\r\nimport \"./index.scss\";\r\n\r\n\r\nclass JourneyPage extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      journeyId: this.props.match.params.jid,\r\n      journeyPostings: [],\r\n      title: \"\",\r\n      author: null,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    actions.setJourney(this, this.state._id)\r\n  }\r\n\r\n  render() {\r\n    const { currUser } = this.props;\r\n    return (\r\n      <div className=\"page journey\">\r\n        <div className=\"main-view journey-main-view\">\r\n          {(this.state.journeyId && this.state.journeyPostings && this.state.author && this.state.title) ?\r\n            <JourneyView\r\n            journeyId={this.state.journeyId}\r\n            journeyPostings={this.state.journeyPostings}\r\n            title={this.state.title}\r\n            author={this.state.author}\r\n            currUser={currUser}\r\n            />\r\n            : <div className=\"posting-placeholder\">Loading Journey</div>\r\n          }\r\n          \r\n          <Navbar currUser={currUser} />\r\n        </div>\r\n        <div className=\"map-view edit-posting-map\">\r\n          {(this.state.journeyPostings) ?\r\n            <Map parent=\"JourneyPosting\" allPostings={this.state.journeyPostings}\r\n            />\r\n            : <div className=\"posting-placeholder\">Loading Map</div>\r\n          }\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default JourneyPage;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport \"./PostingView.scss\"\r\n\r\nclass PostingView extends React.Component {\r\n\r\n    render() {\r\n        const { currUser, posting } = this.props\r\n\r\n        return (\r\n            <div className=\"posting-view\">\r\n                <div className=\"posting-metadata-container\">\r\n                    <h1 className=\"posting-title\">{posting.title}</h1>\r\n\r\n                    {\r\n                        // Display Edit Button when the logged-in user is the author of the article.\r\n                        (currUser && String(currUser._id) == String(posting.author._id)) ?\r\n                            <div className=\"edit-container\">\r\n                                <Link to={`/edit/${posting._id}`}>\r\n                                    <button className=\"edit-btn\">Edit</button>\r\n                                </Link>\r\n                            </div>\r\n                            :\r\n                            null\r\n                    }\r\n\r\n                    <div className=\"posting-info-container\">\r\n                        <ul className=\"posting-info\">\r\n\r\n                            <li className=\"info-item\">\r\n                                <Link className=\"nav-item\" to={\"/journey/\" + String(posting.journey._id)}>\r\n                                    {posting.journey.title}\r\n                                </Link>\r\n                            </li>\r\n                            <li className=\"info-item\">{posting.date}</li>\r\n                            <li className=\"info-item\">{posting.destination}</li>\r\n                        </ul>\r\n                    </div>\r\n\r\n                    <div className=\"posting-author-container\">\r\n                        <div className=\"posting-author-avatar\">\r\n                            <img src={posting.author.avatar} alt={posting.author.name} />\r\n                        </div>\r\n                        <Link to={`/profile/${String(posting.author._id)}`}><div className=\"posting-author-name\">{posting.author.name}</div></Link>\r\n                    </div>\r\n                </div>\r\n\r\n\r\n                <div className=\"posting-image-container\">\r\n                    <div className=\"posting-images\">\r\n                        {posting.images.map((img, idx) => {\r\n                            return (\r\n                                <div key={idx} className=\"posting-image\">\r\n                                    <img src={img} alt={img} />\r\n                                </div>\r\n                            )\r\n                        })}\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"posting-body-container\">\r\n                    {posting.body.split('\\n').map((paragraph, idx) => {\r\n                        return (\r\n                            <p key={idx}>{paragraph} <br /></p>\r\n                        )\r\n                    })}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default PostingView;\r\n","import * as api from \"api/posting\"\r\n/**\r\n * Handle setState when an input event occurs. \r\n * @param {React.Component} component \r\n * @param {Event} event \r\n */\r\nfunction handleInputChange(component, event) {\r\n    // From course demo\r\n    const target = event.target;\r\n    const value = target.value;\r\n    const name = target.name;\r\n\r\n    // Handle the checkbox\r\n    if (name === \"public\") {\r\n        component.setState(prevState => ({\r\n            ...prevState,\r\n            posting: {\r\n                ...prevState.posting,\r\n                public: !prevState.posting.public\r\n\r\n            }\r\n        }));\r\n    } else {\r\n        component.setState(prevState => ({\r\n            ...prevState,\r\n            posting: {\r\n                ...prevState.posting,\r\n                [name]: value\r\n\r\n            }\r\n        }));\r\n    }\r\n}\r\n\r\n/**\r\n * Update component state to append new image url.\r\n * @param {*} component \r\n * @param {*} event \r\n */\r\nasync function handleImageUpload(component, event) {\r\n    const target = event.target;\r\n    const files = target.files;\r\n\r\n    // Get uploaded images from input\r\n    const newFiles = [];\r\n    for (let f of files) {\r\n        newFiles.push(URL.createObjectURL(f))\r\n    }\r\n    // console.log(files)\r\n\r\n    // TODO: upload image\r\n\r\n    // A copy of the new state\r\n    const newImages = [...component.state.posting.images, ...newFiles]\r\n\r\n    // Set component state\r\n    component.setState(prevState => ({\r\n        ...prevState,\r\n        posting: {\r\n            ...prevState.posting,\r\n            images: newImages\r\n        }\r\n    }))\r\n}\r\n\r\n\r\n\r\n\r\nfunction handleDeleteImage(component, index) {\r\n    const newImages = [...component.state.posting.images];\r\n    newImages.splice(index, 1);\r\n\r\n    // Set component state\r\n    component.setState(prevState => ({\r\n        ...prevState,\r\n        posting: {\r\n            ...prevState.posting,\r\n            images: newImages\r\n        }\r\n    }))\r\n}\r\n\r\n\r\n/**\r\n * Create a posting to the server.\r\n * @param {*} component \r\n */\r\nasync function submitPosting(component) {\r\n    // Collect inputs from state\r\n    const data = component.state.posting\r\n    // Post to server\r\n    try {\r\n        if (data._id !== undefined) {\r\n            // Update a posting\r\n            console.log(`Updating posting ${data._id}`, data)\r\n            const editedPosting = await api.updatePosting(data._id, data)\r\n            // console.log(editedPosting)\r\n            // return response\r\n            alert(\"Submitted updates!\")\r\n            component.props.history.push(`/trip/${String(editedPosting._id)}`)\r\n        } else {\r\n            // Create a new posting\r\n            console.log(`Creating new posting`, data)\r\n            const newPosting = await api.createPosting(data)\r\n            alert(\"Created new trip!\")\r\n            component.props.history.push(`/trip/${String(newPosting._id)}`)\r\n        }\r\n    } catch (err) {\r\n        // throw err\r\n        alert(String(err))\r\n    }\r\n}\r\n\r\nasync function deletePosting(component, pid) {\r\n    if (pid !== undefined) {\r\n        try {\r\n            const response = await api.deletePosting(pid)\r\n            console.log(`DELETED Posting ${pid}`, response)\r\n            alert(\"Deleted posting.\")\r\n            component.props.history.push(`/profile/${String(component.props.currUser._id)}`)\r\n        } catch (err) {\r\n            // throw err\r\n            alert(String(err))\r\n        }\r\n    } else {\r\n        // Empty draft\r\n        console.log(\"DELETED new posting\")\r\n        alert(\"Deleted new posting draft.\")\r\n        component.props.history.push(`/profile/${String(component.props.currUser._id)}`)\r\n    }\r\n}\r\n\r\n/**\r\n * Fill the component state with old posting by pid.\r\n * @param {React.Component} component \r\n * @param {*} pid \r\n */\r\nasync function setPostingData(component, pid) {\r\n    try {\r\n        const oldPosting = await api.getPosting(pid)\r\n        console.log(`Get Posting ${pid}`, oldPosting)\r\n        component.setState({ new: false, posting: oldPosting })\r\n    } catch (err) {\r\n        // throw err\r\n        alert(String(err))\r\n    }\r\n}\r\n\r\n/**\r\n * Fill the component state with old posting by pid.\r\n * @param {React.Component} component \r\n * @param {*} pid \r\n */\r\n async function getUserJourneys(component, uid) {\r\n    try {\r\n        const userJourneys = await api.getUserJourneys(uid)\r\n        console.log(`Get user's journeys ${uid}`, userJourneys)\r\n        component.setState({ userJourneys })\r\n    } catch (err) {\r\n        // throw err\r\n        alert(String(err))\r\n    }\r\n}\r\n\r\n\r\nexport {\r\n    handleInputChange,\r\n    handleImageUpload,\r\n    handleDeleteImage, \r\n    submitPosting, \r\n    deletePosting,\r\n    setPostingData,\r\n    getUserJourneys\r\n}","import React from 'react';\r\n\r\nimport Navbar from 'components/Navbar';\r\nimport PostingView from 'components/Posting/PostingView';\r\nimport Map from 'components/MapPlugin/Mapp';\r\n\r\nimport * as action from \"actions/EditPosting\"\r\n\r\nimport \"./index.scss\"\r\n\r\nclass ViewPostingPage extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            pid: this.props.match.params.pid,       // Posting ID\r\n            posting: null                   // Actual posting\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        // Fetch method.\r\n        action.setPostingData(this, this.state.pid)\r\n    }\r\n\r\n    render() {\r\n        const { currUser } = this.props\r\n\r\n        return (\r\n            <div className=\"page view-posting-page\">\r\n                <div className=\"main-view view-posting-main\">\r\n                    {this.state.posting ?\r\n                        <PostingView posting={this.state.posting} currUser={currUser} />\r\n                        : <div className=\"posting-placeholder\">Loading Posting</div>\r\n                    }\r\n\r\n                    <Navbar currUser={currUser} />\r\n                </div>\r\n                <div className=\"map-view view-posting-map\">\r\n                    {this.state.posting ?\r\n                        <Map parent=\"ViewPosting\" allPostings={this.state.posting} />\r\n                        : <div className=\"posting-placeholder\">Loading Map</div>\r\n                    }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ViewPostingPage;","import React from 'react';\r\n\r\nimport \"./Editor.scss\";\r\n\r\nclass Editor extends React.Component {\r\n    render() {\r\n        const { body, handleChange } = this.props\r\n        return (\r\n            <div className=\"editor\">\r\n                <textarea\r\n                    name=\"body\"\r\n                    id=\"postingBodyInput\"\r\n                    placeholder=\"Write down your trip!\"\r\n                    onChange={handleChange}\r\n                    value={body}\r\n                ></textarea>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Editor;","import React from 'react';\r\n\r\nimport Editor from 'components/Posting/Editor';\r\n\r\nimport \"./EditPostingView.scss\"\r\n\r\nimport { getUserJourneys } from \"actions/EditPosting\"\r\n\r\n\r\nclass EditPostingView extends React.Component {\r\n    state = {\r\n        userJourneys: []\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n        getUserJourneys(this, this.props.currUser._id)\r\n    }\r\n\r\n    render() {\r\n        const { currUser, posting, handleInputChange, handleImageUpload, submitPosting, deletePosting, handleDeleteImage } = this.props\r\n\r\n        return (\r\n            <div className=\"edit-posting-view\">\r\n                <form className=\"posting-form\" id=\"postingForm\" >\r\n                    <datalist id=\"user-journeys\">\r\n                        {\r\n                            this.state.userJourneys.map((journey, i) => {\r\n                                return (\r\n                                    <option key={i} value={journey.title} />\r\n                                )\r\n                            })\r\n                        }\r\n                    </datalist>\r\n\r\n                    <div className=\"edit-metadata-container\">\r\n                        <input type=\"text\"\r\n                            name=\"title\"\r\n                            className=\"edit-title edit-input\"\r\n                            id=\"postingTitleInput\"\r\n                            placeholder=\"TITLE\"\r\n                            onChange={handleInputChange}\r\n                            value={posting.title}\r\n                        />\r\n\r\n                        <div className=\"posting-info-container\">\r\n                            <input type=\"text\"\r\n                                name=\"journey\"\r\n                                className=\"edit-meta edit-input\"\r\n                                list=\"user-journeys\"\r\n\r\n                                id=\"postingJourneyInput\"\r\n                                placeholder=\"JOURNEY\"\r\n                                onChange={handleInputChange}\r\n                                value={posting.journey.title || posting.journey}\r\n                            />\r\n                            <input type=\"date\"\r\n                                name=\"date\"\r\n                                className=\"edit-meta edit-input\"\r\n                                id=\"postingDateInput\"\r\n                                onChange={handleInputChange}\r\n                                value={posting.date}\r\n                            />\r\n                            <input type=\"text\"\r\n                                name=\"destination\"\r\n                                className=\"edit-meta edit-input\"\r\n                                id=\"postingDestinationInput\"\r\n                                placeholder=\"DESTINATION\"\r\n                                onChange={handleInputChange}\r\n                                value={posting.destination}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"edit-image-container\">\r\n                        <div className=\"add-image-container\">\r\n                            <input type=\"file\"\r\n                                name=\"image\"\r\n                                className=\"edit-input edit-image-upload-btn\"\r\n                                multiple\r\n                                onChange={handleImageUpload}\r\n                            />\r\n                        </div>\r\n                        <div className=\"posting-images\">\r\n\r\n                            {posting.images.map((img, idx) => {\r\n                                return (\r\n                                    <div key={idx} className=\"posting-image\">\r\n                                        <button type=\"button\" className=\"img-del-btn\" onClick={() => handleDeleteImage(idx)}>delete</button>\r\n                                        <img src={img} alt={img} />\r\n                                    </div>\r\n                                )\r\n                            })}\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"edit-body-container\">\r\n                        <Editor body={posting.body} handleChange={handleInputChange} />\r\n                    </div>\r\n\r\n                    <div className=\"edit-control-container\">\r\n                        <button type=\"button\" className=\"edit-delete-btn\" onClick={deletePosting}>DELETE</button>\r\n\r\n                        <div className=\"edit-public-container\">\r\n                            <input type=\"checkbox\"\r\n                                name=\"public\"\r\n                                className=\"edit-public-checkbox\"\r\n                                id=\"postingPublicInput\"\r\n                                onChange={handleInputChange}\r\n                                checked={posting.public}\r\n                            /> <span>Public</span>\r\n                        </div>\r\n                        <button type=\"button\" className=\"edit-post-btn\" onClick={submitPosting}>POST</button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default EditPostingView;\r\n","import React from 'react';\r\nimport { Redirect } from \"react-router-dom\";\r\nimport Navbar from 'components/Navbar';\r\nimport Map from 'components/MapPlugin/Mapp';\r\nimport EditPostingView from 'components/Posting/EditPostingView';\r\n\r\nimport * as action from 'actions/EditPosting';\r\n\r\nimport \"./index.scss\";\r\n\r\n\r\nclass EditPostingPage extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            new: true,\r\n            posting: {\r\n                _id: undefined,\r\n                title: \"\",\r\n                journey: \"\",\r\n                date: \"\",\r\n                destination: \"\",\r\n                latitude: -1,\r\n                longitude: -1,\r\n                body: \"\",\r\n                public: false,\r\n                images: [],\r\n                author: this.props.currUser,\r\n            }\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        let pid = this.props.match.params.pid\r\n        if (pid !== undefined) {\r\n            // User is trying to edit the post.\r\n            // Get posting data\r\n            action.setPostingData(this, pid)\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { currUser } = this.props;\r\n\r\n        if (!currUser) {\r\n            return <Redirect to=\"/\" />\r\n        }\r\n\r\n        if (!this.state.new && currUser && currUser._id !== this.state.posting.author._id) {\r\n            // CurrUser accessing a post that does not belong to him.\r\n            return (\r\n                <div className=\"page edit-posting-page\">\r\n                    <div className=\"main-view edit-posting-main\">\r\n                        <h1>NO ACCESS PERMISSION</h1>\r\n\r\n                        <Navbar currUser={currUser} />\r\n                    </div>\r\n                    <div className=\"map-view edit-posting-map\">\r\n                        <Map parent=\"EditPosting\" allPostings={this.state.posting}/>\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n\r\n        return (\r\n            <div className=\"page edit-posting-page\">\r\n                <div className=\"main-view edit-posting-main\">\r\n                    <EditPostingView\r\n                        currUser={currUser}\r\n                        posting={this.state.posting}\r\n                        handleInputChange={(e) => action.handleInputChange(this, e)}\r\n                        submitPosting={() => action.submitPosting(this)}\r\n                        deletePosting={() => action.deletePosting(this, this.state.posting._id || undefined)}\r\n                        handleImageUpload={(e) => action.handleImageUpload(this, e)}\r\n                        handleDeleteImage={(idx) => action.handleDeleteImage(this, idx)}\r\n                    />\r\n\r\n                    <Navbar currUser={currUser} />\r\n                </div>\r\n                <div className=\"map-view edit-posting-map\">\r\n                    <Map parent=\"EditPosting\" allPostings={this.state.posting} enableAddLocation={true} />\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default EditPostingPage;","import React from \"react\";\r\n\r\nimport \"./profileinfo.scss\";\r\n\r\nclass ProfileInfo extends React.Component {\r\n  render() {\r\n    const { profileInfo } = this.props;\r\n    return (\r\n      <div className=\"profile-info-page\">\r\n        <div className=\"profile-avatar-container\">\r\n          <img\r\n            className=\"profile-image\"\r\n            src={profileInfo.avatar}\r\n            alt=\"avatar\"\r\n          />\r\n        </div>\r\n        <div className=\"profile-text\">\r\n          <h1 className=\"user-nick-name\">{profileInfo.name}</h1>\r\n          <h2 className=\"user-name\">{profileInfo.username}</h2>\r\n          <div className=\"user-content-body\">{profileInfo.description}</div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default ProfileInfo;\r\n","import React from \"react\";\r\n\r\nimport \"./profiletripcategory.scss\";\r\n\r\nimport JourneyList from \"components/Journey/JourneyList\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass ProfileTripCategory extends React.Component {\r\n  render() {\r\n    const { journey } = this.props\r\n\r\n    return (\r\n      <div className=\"trip-type-component\">\r\n        <h3 className=\"trip-type\">\r\n          <Link\r\n            className=\"trip-journey-link\"\r\n            to={\"/journey/\" + journey._id.toString()}\r\n          >\r\n            {journey.title}\r\n          </Link>\r\n        </h3>\r\n        <JourneyList postingList={journey.journeyPostings || []} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ProfileTripCategory;\r\n","import * as http from \"utils/http\"\r\n\r\nimport avatar from \"assets/images/66385278_p8.jpg\";\r\nconst profileInfo = {\r\n    _id: \"userid\",\r\n    avatar: avatar,\r\n    username: \"user\",\r\n    name: \"User Doe\",\r\n    description: \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Voluptate exercitationem facilis molestias sunt similique, quae doloremque commodi quisquam, aperiam nisi fugit, atque quo itaque? Fugiat consequatur quia beatae ipsum sit.Lorem ipsum dolor sit amet consectetur adipisicing elit. Voluptate exercitationem facilis molestias sunt similique, quae doloremque commodi quisquam, aperiam nisi fugit, atque quo itaque? Fugiat consequatur quia beatae ipsum sit.Lorem ipsum dolor sit amet consectetur adipisicing elit. Voluptate exercitationem facilis molestias sunt similique, quae doloremque commodi quisquam, aperiam nisi fugit, atque quo itaque? Fugiat consequatur quia beatae ipsum sit.Lorem ipsum dolor sit amet consectetur adipisicing elit. Voluptate exercitationem facilis molestias sunt similique, quae doloremque commodi quisquam, aperiam nisi fugit, atque quo itaque? Fugiat consequatur quia beatae ipsum sit.\",\r\n};\r\n\r\nexport async function fetchProfile(uid) {\r\n    try {\r\n        const { response, body } = await http.get(`/api/user/${uid}`)\r\n\r\n        console.log(body)\r\n        // const response = profileInfo\r\n\r\n        if (response.status === 200) {\r\n            return body\r\n        } else {\r\n            return null\r\n        }\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n}\r\n\r\n\r\nexport async function updateProfile(uid, body) {\r\n    try {\r\n        // const response = await http.put(`/api/profile/${String(uid)}`, body)\r\n        const response = body\r\n        return response\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n}\r\n","import * as api from \"api/profile\"\r\nimport { getUserPostings } from \"api/posting\"\r\nimport { reloadPage } from \"actions\"\r\n\r\n/**\r\n * Set component state.profileInfo to profile owner's info.\r\n * @param {*} component \r\n * @param {*} uid \r\n */\r\nexport async function setProfileInfo(component, uid) {\r\n    try {\r\n        console.log(`Getting Profile for user ${uid}`)\r\n        const profileInfo = await api.fetchProfile(uid)\r\n        if (profileInfo) {\r\n            component.setState({ profileInfo })\r\n        } else {\r\n            alert(\"Cannot find user\")\r\n        }\r\n    } catch (err) {\r\n        console.error(err)\r\n        alert(String(err))\r\n    }\r\n}\r\n\r\n/**\r\n * Submit profile edit.\r\n * @param {*} component \r\n * @param {*} uid \r\n * @param {*} body \r\n */\r\nexport async function updateProfileInfo(component, uid, body) {\r\n    if (!(\"_id\" in body)) {\r\n        body._id = uid\r\n    }\r\n\r\n    try {\r\n        // console.log(\"Update profile\", body)\r\n        const newProfile = await api.updateProfile(uid, body)\r\n        console.log(\"Updated profile\", newProfile)\r\n        alert(\"Updated profile!\")\r\n        reloadPage()\r\n    } catch (err) {\r\n        console.error(err)\r\n        alert(String(err))\r\n    }\r\n}\r\n\r\n/**\r\n * Set component state.journey to profile owner's journeys.\r\n * @param {*} component \r\n * @param {*} uid \r\n */\r\nexport async function setProfileJourneys(component, uid) {\r\n    try {\r\n        const journeys = await getUserPostings(uid)\r\n        console.log(\"Getting user's journeys\", journeys)\r\n        component.setState({ journeys })\r\n    } catch (err) {\r\n        console.error(err)\r\n        alert(String(err))\r\n    }\r\n}","import React from \"react\";\r\nimport \"./index.scss\";\r\n\r\nimport { handleInputChange } from \"actions\";\r\nimport { updateProfileInfo } from \"actions/Profile\";\r\n\r\nclass ProfileEditorPrompt extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      name: \"\",\r\n      avatar: null,\r\n      description: \"\",\r\n      _id: null,\r\n    };\r\n  }\r\n\r\n  \r\n  componentWillReceiveProps(props) {\r\n    this.setState({\r\n      ...props.profileInfo\r\n    })\r\n  }\r\n\r\n  handleAvatarChange = (event) => {\r\n    const newFile = event.target.files[0];\r\n    this.setState({\r\n      avatar: URL.createObjectURL(newFile),\r\n    });\r\n  };\r\n\r\n  /**\r\n   * Submit profile updates to server.\r\n   */\r\n   submitProfile(){\r\n    const body = {\r\n      _id: this.state._id,\r\n      name: this.state.name,\r\n      avatar: this.state.avatar,\r\n      description: this.state.description\r\n    }\r\n\r\n    updateProfileInfo(this, this.state._id, body)\r\n  }\r\n\r\n  \r\n\r\n  render() {\r\n    const { display, toggleEditProfile } = this.props\r\n\r\n    if (!display) {\r\n      // Hide the modal\r\n      return <></>\r\n    } else {\r\n      return (\r\n        <div className=\"edit-profile-modal\">\r\n          <h2 className=\"edit-profile-instruction\">Edit Profile</h2>\r\n\r\n          <div className=\"edit-profile-content\">\r\n            <div className=\"edit-profile-input\" id=\"edit-avatar-container\">\r\n              <div className=\"edit-avatar-presentation\">\r\n                <img\r\n                  className=\"profile-avatar\"\r\n                  src={this.state.avatar}\r\n                  alt=\"profile avatar\"\r\n                />\r\n              </div>\r\n\r\n              <input\r\n                type=\"file\"\r\n                name=\"image\"\r\n                className=\"edit-input edit-avatar-upload-btn\"\r\n                onChange={this.handleAvatarChange}\r\n              />\r\n            </div>\r\n            <form className=\"edit-profile-input\">\r\n\r\n              <div className=\"edit-profile-item\">\r\n                <span className=\"edit-profile-title\" id=\"edit-name-instruction\">\r\n                  Nickname\r\n                </span>\r\n\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"name\"\r\n                  className=\"edit-nickname edit-input\"\r\n                  placeholder=\"nick-name-form\"\r\n                  onChange={e => handleInputChange(this, e)}\r\n                  value={this.state.name}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"edit-profile-item\">\r\n                <span\r\n                  className=\"edit-profile-title\"\r\n                  id=\"edit-description-instruction\"\r\n                >\r\n                  Self Description\r\n                </span>\r\n\r\n                <textarea\r\n                  type=\"text\"\r\n                  name=\"description\"\r\n                  className=\"edit-user-description edit-input\"\r\n                  placeholder=\"user-description-form\"\r\n                  onChange={e => handleInputChange(this, e)}\r\n                  value={this.state.description}\r\n                />\r\n\r\n              </div>\r\n\r\n              <div className=\"modal-buttons\">\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"edit-profile-btn\"\r\n                  onClick={toggleEditProfile}\r\n                >\r\n                  Cancel\r\n                </button>\r\n\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"edit-profile-btn\"\r\n                  id=\"edit-profile-apply\"\r\n                  onClick={this.submitProfile.bind(this)}\r\n                >\r\n                  Apply\r\n                </button>\r\n\r\n              </div>\r\n\r\n            </form>\r\n\r\n\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n}\r\nexport default ProfileEditorPrompt;\r\n","import React from \"react\";\r\nimport \"./CreateJourneyModal.scss\";\r\n\r\nimport { handleInputChange } from \"actions\";\r\nimport { createJourney } from \"actions/Journey\";\r\n\r\nclass CreateJourneyModal extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            title: \"\",\r\n            author: this.props.currUser,\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Submit profile updates to server.\r\n     */\r\n    submitJourney() {\r\n        const body = {\r\n            title: this.state.title,\r\n            author: this.state.author,\r\n        }\r\n\r\n        createJourney(this, body)\r\n    }\r\n\r\n    render() {\r\n        const { display, toggleModal } = this.props\r\n\r\n        if (!display) {\r\n            // Hide the modal\r\n            return <></>\r\n        } else {\r\n            return (\r\n                <div className=\"create-journey-modal\">\r\n                    <h2 className=\"create-journey-instruction\">New Journey</h2>\r\n                    <div className=\"create-journey-content\">\r\n\r\n                        <form className=\"create-journey-form\">\r\n\r\n                            <div className=\"create-journey-item\">\r\n                                <span className=\"create-journey-title\">\r\n                                    Title\r\n                                </span>\r\n\r\n                                <input\r\n                                    type=\"text\"\r\n                                    name=\"title\"\r\n                                    placeholder=\"Journey to the West\"\r\n                                    onChange={e => handleInputChange(this, e)}\r\n                                    value={this.state.title}\r\n                                />\r\n                            </div>\r\n                            <div className=\"modal-buttons\">\r\n                                <button\r\n                                    type=\"button\"\r\n                                    className=\"create-journey-btn\"\r\n                                    onClick={toggleModal}\r\n                                >\r\n                                    Cancel\r\n                                </button>\r\n\r\n                                <button\r\n                                    type=\"button\"\r\n                                    className=\"create-journey-btn\"\r\n                                    id=\"create-journey-apply\"\r\n                                    onClick={this.submitJourney.bind(this)}\r\n                                >\r\n                                    Create\r\n                                </button>\r\n                            </div>\r\n                        </form>\r\n\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n}\r\nexport default CreateJourneyModal;\r\n","import React from \"react\";\r\nimport ProfileInfo from \"components/Profile/ProfileInfo\";\r\nimport ProfileJourneys from \"components/Profile/ProfileJourneys\";\r\nimport ProfileEditorModal from \"components/Profile/ProfileEditorModal\";\r\nimport CreateJourneyModal from \"components/Journey/CreateJourneyModal\";\r\n\r\nimport \"./profile.scss\";\r\n\r\n// import { setProfileInfo, setProfileJourneys } from \"actions/Profile\"\r\n\r\nclass Profile extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      editProfile: false,\r\n      createJourney: false,\r\n      // profileInfo: {},\r\n      // journeys: {}\r\n    };\r\n  }\r\n\r\n  // componentDidMount() {\r\n  //   setProfileInfo(this, this.props.profileId)\r\n  //   setProfileJourneys(this, this.props.profileId)\r\n  // }\r\n\r\n  toggleEditProfile = () => {\r\n    this.setState({\r\n      editProfile: !this.state.editProfile,\r\n    });\r\n  };\r\n\r\n  toggleCreateJourney = () => {\r\n    this.setState({\r\n      createJourney: !this.state.createJourney,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { currUser, profileInfo, journeys } = this.props;\r\n\r\n    return (\r\n\r\n      <div className=\"profile-view\">\r\n        {\r\n          currUser && String(currUser._id) === String(this.props.profileId) ?\r\n            <div className=\"edit-profile-container\">\r\n              <button className=\"edit-profile\" onClick={this.toggleEditProfile}>\r\n                Edit Profile\r\n              </button>\r\n\r\n              <ProfileEditorModal\r\n                className=\"edit-profile-prompt\"\r\n                display={this.state.editProfile}\r\n                toggleEditProfile={this.toggleEditProfile}\r\n                profileInfo={profileInfo}\r\n              />\r\n            </div>\r\n            : <></>\r\n        }\r\n\r\n        <ProfileInfo\r\n          className=\"profile-information\"\r\n          profileInfo={profileInfo}\r\n        />\r\n\r\n        {\r\n          currUser && String(currUser._id) === String(this.props.profileId) ?\r\n            <div className=\"new-journey-container\">\r\n              <button className=\"new-journey-btn\" onClick={this.toggleCreateJourney}>\r\n                New Journey\r\n              </button>\r\n\r\n              <CreateJourneyModal\r\n                className=\"new-journey-prompt\"\r\n                display={this.state.createJourney}\r\n                toggleModal={this.toggleCreateJourney}\r\n                currUser={currUser}\r\n              />\r\n            </div>\r\n            : <></>\r\n        }\r\n        \r\n        {\r\n          Object.keys(journeys).map((journey) => {\r\n            return (\r\n              <ProfileJourneys\r\n                key={journey}\r\n                journey={journeys[journey]}\r\n              />\r\n            );\r\n          })\r\n        }\r\n\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default Profile;\r\n","import React from \"react\";\r\n\r\nimport Navbar from \"components/Navbar\";\r\nimport Map from \"components/MapPlugin/Mapp\";\r\n\r\nimport ProfileView from \"components/Profile/ProfileView\";\r\nimport * as actions from \"actions/Profile\"\r\n\r\nimport \"./index.scss\";\r\n\r\n\r\nclass ProfilePage extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      profileId: this.props.match.params.uid,\r\n      profileInfo: {},\r\n      journeys: {}\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    actions.setProfileInfo(this, this.props.profileId)\r\n    actions.setProfileJourneys(this, this.props.profileId)\r\n  }\r\n\r\n  render() {\r\n    const { currUser, setCurrUser } = this.props;\r\n    return (\r\n      <div className=\"page profile-page\">\r\n        <div className=\"main-view profile-page-main\">\r\n          {(this.state.profileInfo && this.state.journeys) ?\r\n            <ProfileView\r\n            currUser={currUser}\r\n            setCurrUser={setCurrUser}\r\n            //profileId={this.props.match.params.uid}\r\n            profileInfo={this.state.profileInfo}\r\n            journeys={this.state.journeys}\r\n            />\r\n            : <div className=\"posting-placeholder\">Loading Profile</div>\r\n          }\r\n          {/* <ProfileView\r\n            currUser={currUser}\r\n            setCurrUser={setCurrUser}\r\n            //profileId={this.props.match.params.uid}\r\n            profileInfo={this.state.profileInfo}\r\n            journeys={this.state.journeys}\r\n          /> */}\r\n        </div>\r\n        <Navbar currUser={currUser} />\r\n        <div className=\"map-view edit-posting-map\">\r\n          {(this.state.profileInfo && this.state.journeys) ?\r\n            <Map parent=\"Profile\" allPostings={this.state.journeys}\r\n            />\r\n            : <div className=\"posting-placeholder\">Loading Map</div>\r\n          }\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ProfilePage;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport \"./style.scss\";\r\n\r\n// All images in Admin Navbar come from https://icons8.com/\r\nimport UserIcon from \"assets/icons/user.png\";\r\nimport HomeIcon from \"assets/icons/home.png\";\r\nimport JournalIcon from \"assets/icons/journal.png\";\r\n\r\nclass AdminNav extends React.Component {\r\n\r\n    render() {\r\n        // const { currUser } = this.props\r\n        return (\r\n            <div>\r\n                <div className=\"admin-nav\">\r\n                    <Link className=\"admin-nav-item\" to={`/admin/home`}>\r\n                        <img src={HomeIcon} alt=\"\" />\r\n                        <span>Home</span>\r\n                    </Link>\r\n                    \r\n                    <Link className=\"admin-nav-item\" to={`/admin/users`}>\r\n                        <img src={UserIcon} alt=\"\" />\r\n                        <span>Users</span>\r\n                    </Link>\r\n                    \r\n                    <Link className=\"admin-nav-item\" to={`/admin/postings`}>\r\n                        <img src={JournalIcon} alt=\"\" />\r\n                        Postings\r\n                    </Link>\r\n\r\n                    <Link className=\"admin-nav-item\" to={`/admin/login`}>\r\n                        {/* <img src={} alt=\"\" /> */}\r\n                        Logout\r\n                    </Link>\r\n                </div>\r\n                {/* <div className=\"admin-nav-blocker\"></div> */}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default AdminNav;","import React from 'react';\r\nimport { Redirect } from \"react-router-dom\";\r\nimport AdminNav from 'components/Admin/AdminNav'\r\n\r\nimport './style.scss'\r\n\r\nclass AdminHome extends React.Component {\r\n    render() {\r\n        const { currUser } = this.props\r\n\r\n        if (!currUser || currUser.role !== \"admin\") {\r\n            return <Redirect to=\"/admin/login\" />\r\n        }\r\n\r\n        return (\r\n            <div className=\"page admin-home-page\">\r\n                <AdminNav />\r\n                \r\n                <div className=\"admin-home-main\">\r\n                    <h1>Welcome, {`${currUser.name}`}</h1>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default AdminHome;","import React from 'react';\r\nimport { Redirect } from \"react-router-dom\";\r\nimport \"./style.scss\";\r\n\r\nimport { handleInputChange } from 'actions';\r\nimport { loginAdmin } from 'actions/Auth';\r\n\r\n\r\nclass AdminLoginForm extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            username_input: \"\",\r\n            password_input: \"\",\r\n            warning: \"\",\r\n            redirect: null\r\n        }\r\n    }\r\n\r\n    login = async () => {\r\n        const { setCurrUser } = this.props\r\n        console.log(\"logging in...\")\r\n\r\n        const username = this.state.username_input\r\n        const password = this.state.password_input\r\n\r\n        if (username.length < 1 || password.length < 1) {\r\n            alert(\"Please enter username and password\")\r\n            return\r\n        }\r\n\r\n        const admin = await loginAdmin(username, password)\r\n        if (admin) {\r\n            console.log(\"Login successfully\")\r\n            setCurrUser(admin)\r\n            // Navigate to Admin home\r\n            this.setState({ redirect: \"/admin/home\" })\r\n        } else {\r\n            this.setState({\r\n                warning: \"Invalid credential!\"\r\n            })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { currUser } = this.props\r\n\r\n        if (this.state.redirect) {\r\n            return <Redirect to={this.state.redirect} />\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                <div className=\"admin-login-form\">\r\n                    <h1>Admin Login</h1>\r\n                    <div className=\"admin-login-input\">\r\n                        <span>Username</span>\r\n                        <input value={this.state.username_input}\r\n                            onChange={e => handleInputChange(this, e)}\r\n                            type=\"text\"\r\n                            name=\"username_input\"\r\n                            placeholder=\"Username\"\r\n                        />\r\n                    </div>\r\n                    <div className=\"admin-login-input\">\r\n                        <span>Password</span>\r\n                        <input value={this.state.password_input}\r\n                            onChange={e => handleInputChange(this, e)}\r\n                            type=\"password\"\r\n                            name=\"password_input\"\r\n                            placeholder=\"Password\"\r\n                        />\r\n                    </div>\r\n                    <span className=\"warn\">{this.state.warning}</span>\r\n                    <button type=\"submit\" className=\"submit\" onClick={this.login}>\r\n                        Submit\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default AdminLoginForm;","import React from 'react';\r\nimport AdminLoginForm from 'components/Admin/AdminLoginForm';\r\nimport './style.scss'\r\n\r\nclass AdminLogin extends React.Component{\r\n\r\n    render(){\r\n        const { currUser, setCurrUser } = this.props\r\n        return (\r\n            <div className=\"admin-login\">\r\n                <div className=\"bg-img\"></div>\r\n                <AdminLoginForm currUser={currUser} setCurrUser={setCurrUser}/>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default AdminLogin;","import React from 'react';\r\nimport \"./style.scss\";\r\n\r\nclass AdminUserTable extends React.Component {\r\n\r\n    render() {\r\n        const { users } = this.props\r\n\r\n        return (\r\n            <div>\r\n                <table className=\"admin-user-table admin-table\">\r\n                    <thead>\r\n                        <tr className=\"admin-table-headerRow\">\r\n                            <th className=\"admin-table-header\">\r\n                                User ID\r\n                            </th>\r\n                            <th className=\"admin-table-header\">\r\n                                Username\r\n                            </th>\r\n                            <th className=\"admin-table-header\">\r\n                                Nickname\r\n                            </th>\r\n                            <th className=\"admin-table-header\">\r\n                                Role\r\n                            </th>\r\n                            <th className=\"admin-table-header\">\r\n                                Status\r\n                            </th>\r\n                            <th className=\"admin-table-header\">\r\n                                Last Login\r\n                            </th>\r\n                            <th className=\"admin-table-header\">\r\n\r\n                            </th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {users.map(user => {\r\n                            if (user.status === \"active\") {\r\n                                return (\r\n                                    <tr key={user._id} className=\"admin-data-row\">\r\n                                        <td>\r\n                                            {user._id}\r\n                                        </td>\r\n                                        <td>\r\n                                            {user.username}\r\n                                        </td>\r\n                                        <td>\r\n                                            {user.nickname}\r\n                                        </td>\r\n                                        <td>\r\n                                            {user.role}\r\n                                        </td>\r\n                                        <td>\r\n                                            {user.status}\r\n                                        </td>\r\n                                        <td>\r\n                                            {user.lastLogin}\r\n                                        </td>\r\n                                        <td className=\"actions\">\r\n                                            <button onClick={() => this.props.changeUserStatus(user, \"inactive\")}>\r\n                                                Inactivate\r\n                                            </button>\r\n                                        </td>\r\n                                    </tr>\r\n                                )\r\n                            } else if (user.status === \"inactive\") {\r\n                                return (\r\n                                    <tr key={user._id} className=\"admin-data-row\">\r\n                                        <td>\r\n                                            {user._id}\r\n                                        </td>\r\n                                        <td>\r\n                                            {user.username}\r\n                                        </td>\r\n                                        <td>\r\n                                            {user.nickname}\r\n                                        </td>\r\n                                        <td>\r\n                                            {user.role}\r\n                                        </td>\r\n                                        <td>\r\n                                            {user.status}\r\n                                        </td>\r\n                                        <td>\r\n                                            {user.lastLogin}\r\n                                        </td>\r\n                                        <td className=\"actions\">\r\n                                            <button onClick={() => this.props.changeUserStatus(user, \"active\")}>\r\n                                                Activate\r\n                                            </button>\r\n                                        </td>\r\n                                    </tr>\r\n                                )\r\n                            }\r\n\r\n                        })}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default AdminUserTable;","import * as http from \"utils/http\"\r\n\r\n\r\n\r\nconst postings = [\r\n    {\r\n        _id: 1,\r\n        author: \"user1\",\r\n        title: \"This is a post\",\r\n        journey: {\r\n            _id: \"asdiqwodn\",\r\n            title: \"Journey to Toronto\"\r\n        },\r\n        publishTime: (new Date()).toISOString()\r\n    },\r\n    {\r\n        _id: 2,\r\n        author: \"user2\",\r\n        title: \"Lorem Lorem Lorem Lorem Lorem Lorem Lorem Lorem Lorem Lorem Lorem Lorem Lorem Lorem Lorem Lorem Lorem Lorem Lorem Lorem Lorem Lorem \",\r\n        journey: {\r\n            _id: \"asdiqwodn\",\r\n            title: \"Journey to Toronto\"\r\n        },\r\n        publishTime: new Date().toISOString()\r\n    }\r\n]\r\n// This data will be pull from server\r\nconst users = [\r\n    {\r\n        _id: \"asdn1d2d1d0\",\r\n        username: \"user1\",\r\n        nickname: \"abc\",\r\n        lastLogin: new Date().toISOString(),\r\n        status: \"active\",\r\n        role: \"client\"\r\n    },\r\n    {\r\n        _id: \"asdn1asdsd0\",\r\n        username: \"user2\",\r\n        nickname: \"def\",\r\n        lastLogin: new Date().toISOString(),\r\n        status: \"inactive\",\r\n        role: \"client\"\r\n    }\r\n]\r\n\r\nexport async function fetchPostings(params) {\r\n    try {\r\n        // const response = await http.get(\"/api/admin/posting\", params)\r\n        let response = postings\r\n        return response\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n}\r\n\r\n\r\nexport async function fetchUsers(params) {\r\n    try {\r\n        // const response = await http.get(\"/api/admin/user\", params)\r\n        let response = users\r\n        return response\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n}\r\n\r\nexport async function changeUserStatus(user, toStatus) {\r\n    try {\r\n        // const response = await http.put(`/api/admin/user/${user._id}`, { ...user, status: toStatus })\r\n        let response = users[0]\r\n        return response\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n}\r\n\r\nexport async function deletePosting(pid) {\r\n    try {\r\n        // const response = await http.del(`/api/admin/posting/${pid}`)\r\n        let response = postings[0]\r\n        return response\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n}","import { reloadPage } from \"actions\"\r\nimport * as api from \"api/admin\"\r\n\r\nexport async function deletePosting(component, posting) {\r\n  try {\r\n    const res = await api.deletePosting(posting._id)\r\n    if (res) {\r\n      alert(`Deleted posting ${posting._id}`)\r\n      reloadPage()\r\n    }\r\n  } catch (err) {\r\n    console.error(err)\r\n    alert(String(err))\r\n  }\r\n\r\n};\r\n\r\n\r\nexport async function getPostings(component, params) {\r\n  try {\r\n    console.log(\"Searching postings\", params)\r\n    const postings = await api.fetchPostings(params)\r\n\r\n    component.setState({ postings })\r\n  } catch (err) {\r\n    console.error(err)\r\n    alert(String(err))\r\n  }\r\n}\r\n\r\n\r\nexport async function getUsers(component, params) {\r\n  try {\r\n    console.log(\"Searching users\", params)\r\n    const users = await api.fetchUsers(params)\r\n\r\n    component.setState({ users })\r\n  } catch (err) {\r\n    console.error(err)\r\n    alert(String(err))\r\n  }\r\n}\r\n\r\n\r\nexport async function changeUserStatus(component, user, toStatus) {\r\n  try {\r\n    // console.log(\"Searching users\", params)\r\n    const res = await api.changeUserStatus(user, toStatus)\r\n\r\n    // component.setState({users})\r\n    if (res) {\r\n      if (toStatus === \"active\") {\r\n        alert(`Activated user ${res._id}`)\r\n      } else {\r\n        alert(`Inactivated user ${res._id}`)\r\n      }\r\n      reloadPage()\r\n    }\r\n  } catch (err) {\r\n    console.error(err)\r\n    alert(String(err))\r\n  }\r\n}","import React from 'react';\r\nimport { Redirect } from \"react-router-dom\";\r\nimport AdminNav from 'components/Admin/AdminNav'\r\nimport AdminUserTable from 'components/Admin/AdminUserTable'\r\n\r\nimport './style.scss'\r\n\r\nimport { handleInputChange } from \"actions\"\r\nimport { changeUserStatus, getUsers } from 'actions/Admin/AdminTable/index';\r\n\r\nclass AdminUserDash extends React.Component {\r\n    state = {\r\n        users: [],\r\n        search: \"\"\r\n    }\r\n\r\n    componentDidMount() {\r\n        getUsers(this, { search: this.state.search })\r\n    }\r\n\r\n    render() {\r\n        const { currUser } = this.props\r\n        if (!currUser || currUser.role !== \"admin\") {\r\n            return <Redirect to=\"/admin/login\" />\r\n        }\r\n\r\n        return (\r\n            <div className=\"page admin-user-page\">\r\n                <AdminNav />\r\n                <div className=\"admin-user-main\">\r\n                    <div className=\"table-search\">\r\n                        <input type=\"text\" className=\"table-search-input\" name=\"search\" placeholder=\"Search by ID, Username, Name\" onChange={(e) => handleInputChange(this, e)} />\r\n                        <button className=\"table-search-btn\" onClick={() => getUsers(this, { search: this.state.search })}>Search</button>\r\n                    </div>\r\n                    <AdminUserTable users={this.state.users} changeUserStatus={(user) => changeUserStatus(this, user)} />\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default AdminUserDash;","import React from 'react';\r\nimport \"./style.scss\";\r\n\r\nimport { redirectToPage } from 'actions';\r\n\r\nclass AdminPostTable extends React.Component {\r\n    checkDetailContent(posting) {\r\n        // TODO: Implement\r\n        redirectToPage(`/trip/${String(posting._id)}`, true)\r\n    }\r\n\r\n    render() {\r\n        const { postings } = this.props\r\n        return (\r\n            <div>\r\n                <table className=\"admin-post-table admin-table\">\r\n                    <thead className=\"admin-table-headerRow\">\r\n                        <tr>\r\n                            <th className=\"admin-table-header\">\r\n                                Post ID\r\n                            </th>\r\n                            <th className=\"admin-table-header\">\r\n                                Author\r\n                            </th>\r\n                            <th className=\"admin-table-header\">\r\n                                Title\r\n                            </th>\r\n                            <th className=\"admin-table-header\">\r\n                                Journey\r\n                            </th>\r\n                            <th className=\"admin-table-header\">\r\n                                Publish Time\r\n                            </th>\r\n                            <th className=\"admin-table-header\">\r\n\r\n                            </th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {postings.map(posting => (\r\n                            <tr key={posting._id}  className=\"admin-data-row\">\r\n                                <td>\r\n                                    {posting._id}\r\n                                </td>\r\n                                <td>\r\n                                    {posting.author}\r\n                                </td>\r\n                                <td>\r\n                                    {posting.title}\r\n                                </td>\r\n                                <td>\r\n                                    {posting.journey.title}\r\n                                </td>\r\n                                <td>\r\n                                    {posting.publishTime}\r\n                                </td>\r\n                                <td className=\"actions\">\r\n                                    <button onClick={() => this.props.deletePosting(posting)}>\r\n                                        Delete\r\n                                    </button>\r\n                                    <button onClick={() => this.checkDetailContent(posting)}>\r\n                                        View Content\r\n                                    </button>\r\n                                </td>\r\n                            </tr>\r\n                        ))}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default AdminPostTable;","import React from 'react';\r\nimport { Redirect } from \"react-router-dom\";\r\nimport AdminNav from 'components/Admin/AdminNav'\r\nimport AdminPostTable from 'components/Admin/AdminPostTable'\r\n\r\nimport './style.scss'\r\n\r\nimport { handleInputChange } from \"actions\"\r\nimport { deletePosting, getPostings } from 'actions/Admin/AdminTable/index';\r\n\r\nclass AdminPostDash extends React.Component {\r\n    state = {\r\n        postings: [],\r\n        search: \"\"\r\n    }\r\n\r\n    componentDidMount() {\r\n        getPostings(this, { search: this.state.search })\r\n    }\r\n\r\n    render() {\r\n        const { currUser } = this.props\r\n        if (!currUser || currUser.role !== \"admin\") {\r\n            return <Redirect to=\"/admin/login\" />\r\n        }\r\n\r\n        return (\r\n            <div className=\"page admin-post-page\">\r\n                <AdminNav />\r\n                <div className=\"admin-post-main\">\r\n                    <div className=\"table-search\">\r\n                        <input type=\"text\" className=\"table-search-input\" name=\"search\" placeholder=\"Search by ID, Title, Content, Author\" onChange={(e) => handleInputChange(this, e)} />\r\n                        <button className=\"table-search-btn\" onClick={() => getPostings(this, { search: this.state.search })}>Search</button>\r\n                    </div>\r\n                    <AdminPostTable postings={this.state.postings} deletePosting={(post) => deletePosting(this, post)} />\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default AdminPostDash;","import React from \"react\";\r\n\r\nimport { Route, Switch } from \"react-router-dom\";\r\n\r\nimport HomePage from \"pages/Home\";\r\nimport JourneyPage from \"pages/Journey\";\r\nimport ViewPostingPage from \"pages/ViewPosting\";\r\nimport EditPostingPage from \"pages/EditPosting\";\r\nimport ProfilePage from \"pages/Profile\";\r\nimport AdminHome from \"pages/AdminPages/AdminHome\"\r\nimport AdminLogin from \"pages/AdminPages/AdminLogin\"\r\nimport AdminUserDash from \"pages/AdminPages/AdminUserDash\"\r\nimport AdminPostDash from \"pages/AdminPages/AdminPostDash\"\r\n\r\nexport default class RenderRoutes extends React.Component {\r\n\r\n    render() {\r\n        const { currUser, setCurrUser } = this.props\r\n        return (\r\n            <Switch>\r\n                {/* HOME */}\r\n                <Route exact path=\"/\" render={(props) => <HomePage currUser={currUser} setCurrUser={setCurrUser} {...props} />} />\r\n\r\n                {/* VIEW */}\r\n                <Route exact path=\"/journey/:jid\" render={(props) => <JourneyPage currUser={currUser} {...props} />} />\r\n                <Route exact path=\"/trip/:pid\" render={(props) => <ViewPostingPage currUser={currUser} {...props} />} />\r\n\r\n                {/* EDIT */}\r\n                <Route exact path=\"/new-posting\" render={(props) => <EditPostingPage currUser={currUser} {...props} />} />\r\n                <Route exact path=\"/edit/:pid\" render={(props) => <EditPostingPage currUser={currUser} {...props} />} />\r\n\r\n                {/* PROFILE */}\r\n                <Route exact path=\"/profile/:uid\" render={(props) => <ProfilePage currUser={currUser} setCurrUser = {setCurrUser} {...props} />} />\r\n\r\n                {/* ADMIN */}\r\n                <Route exact path=\"/admin/login\" render={(props) => <AdminLogin currUser={currUser} setCurrUser={setCurrUser} {...props} />} />\r\n                <Route exact path=\"/admin/home\" render={(props) => <AdminHome currUser={currUser} {...props} />} />\r\n                <Route exact path=\"/admin/users\" render={(props) => <AdminUserDash currUser={currUser} {...props} />} />\r\n                <Route exact path=\"/admin/postings\" render={(props) => <AdminPostDash currUser={currUser} {...props} />} />\r\n                <Route exact path=\"/admin\" render={(props) => <AdminHome currUser={currUser} {...props} />} />\r\n\r\n                {/* NOT FOUND */}\r\n                <Route component={() => <h1>Not Found!</h1>} />\r\n            </Switch>\r\n        )\r\n    }\r\n}\r\n\r\n","import React from \"react\";\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport RenderRoutes from \"./router\";\r\nimport \"./App.scss\";\r\n\r\nimport * as action from \"actions/Auth\";\r\n\r\nclass App extends React.Component {\r\n  state = {\r\n    currUser: null\r\n  }\r\n\r\n  async setResumeUser() {\r\n    const user = await action.resumeSession()\r\n    this.setState({currUser: user})\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setResumeUser()\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <BrowserRouter>\r\n        <RenderRoutes currUser={this.state.currUser} setCurrUser={(newUser) => action.setCurrUser(this, newUser)} />\r\n      </BrowserRouter>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}